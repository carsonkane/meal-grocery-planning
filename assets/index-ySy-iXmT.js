(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},cl={};var __;function iA(){if(__)return cl;__=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var v_;function sA(){return v_||(v_=1,Ed.exports=iA()),Ed.exports}var X=sA(),Td={exports:{}},Et={};var E_;function rA(){if(E_)return Et;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function mt(O,K,tt){this.props=O,this.context=K,this.refs=et,this.updater=tt||$}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function st(){}st.prototype=mt.prototype;function ot(O,K,tt){this.props=O,this.context=K,this.refs=et,this.updater=tt||$}var pt=ot.prototype=new st;pt.constructor=ot,nt(pt,mt.prototype),pt.isPureReactComponent=!0;var Dt=Array.isArray;function Rt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,K,tt){var rt=tt.ref;return{$$typeof:a,type:O,key:K,ref:rt!==void 0?rt:null,props:tt}}function M(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return K[tt]})}var w=/\/+/g;function ne(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,tt,rt,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case a:case t:kt=!0;break;case S:return kt=O._init,H(kt(O._payload),K,tt,rt,_t)}}if(kt)return _t=_t(O),kt=rt===""?"."+ne(O,0):rt,Dt(_t)?(tt="",kt!=null&&(tt=kt.replace(w,"$&/")+"/"),H(_t,K,tt,"",function(nr){return nr})):_t!=null&&(N(_t)&&(_t=M(_t,tt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+kt)),K.push(_t)),1;kt=0;var Ie=rt===""?".":rt+":";if(Dt(O))for(var ie=0;ie<O.length;ie++)rt=O[ie],bt=Ie+ne(rt,ie),kt+=H(rt,K,tt,bt,_t);else if(ie=F(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(rt=O.next()).done;)rt=rt.value,bt=Ie+ne(rt,ie++),kt+=H(rt,K,tt,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return H(Ce(O),K,tt,rt,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function W(O,K,tt){if(O==null)return O;var rt=[],_t=0;return H(O,rt,"","",function(bt){return K.call(tt,bt,_t++)}),rt}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:W,forEach:function(O,K,tt){W(O,function(){K.apply(this,arguments)},tt)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=Gt,Et.Component=mt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ot,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,K,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=nt({},O.props),_t=O.key;if(K!=null)for(bt in K.key!==void 0&&(_t=""+K.key),K)!A.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(rt[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)rt.children=tt;else if(1<bt){for(var kt=Array(bt),Ie=0;Ie<bt;Ie++)kt[Ie]=arguments[Ie+2];rt.children=kt}return I(O.type,_t,rt)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,K,tt){var rt,_t={},bt=null;if(K!=null)for(rt in K.key!==void 0&&(bt=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=K[rt]);var kt=arguments.length-2;if(kt===1)_t.children=tt;else if(1<kt){for(var Ie=Array(kt),ie=0;ie<kt;ie++)Ie[ie]=arguments[ie+2];_t.children=Ie}if(O&&O.defaultProps)for(rt in kt=O.defaultProps,kt)_t[rt]===void 0&&(_t[rt]=kt[rt]);return I(O,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ht}},Et.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Et.startTransition=function(O){var K=C.T,tt={};C.T=tt;try{var rt=O(),_t=C.S;_t!==null&&_t(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Rt,Pt)}catch(bt){Pt(bt)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),C.T=K}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,K,tt){return C.H.useActionState(O,K,tt)},Et.useCallback=function(O,K){return C.H.useCallback(O,K)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Et.useEffect=function(O,K){return C.H.useEffect(O,K)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,K,tt){return C.H.useImperativeHandle(O,K,tt)},Et.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Et.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Et.useMemo=function(O,K){return C.H.useMemo(O,K)},Et.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Et.useReducer=function(O,K,tt){return C.H.useReducer(O,K,tt)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,K,tt){return C.H.useSyncExternalStore(O,K,tt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.4",Et}var T_;function lm(){return T_||(T_=1,Td.exports=rA()),Td.exports}var ae=lm(),Sd={exports:{}},hl={},Ad={exports:{}},bd={};var S_;function aA(){return S_||(S_=1,(function(a){function t(H,W){var ht=H.length;H.push(W);t:for(;0<ht;){var Pt=ht-1>>>1,Gt=H[Pt];if(0<l(Gt,W))H[Pt]=W,H[ht]=Gt,ht=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ht=H.pop();if(ht!==W){H[0]=ht;t:for(var Pt=0,Gt=H.length,O=Gt>>>1;Pt<O;){var K=2*(Pt+1)-1,tt=H[K],rt=K+1,_t=H[rt];if(0>l(tt,ht))rt<Gt&&0>l(_t,tt)?(H[Pt]=_t,H[rt]=ht,Pt=rt):(H[Pt]=tt,H[K]=ht,Pt=K);else if(rt<Gt&&0>l(_t,ht))H[Pt]=_t,H[rt]=ht,Pt=rt;else break t}}return W}function l(H,W){var ht=H.sortIndex-W.sortIndex;return ht!==0?ht:H.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],y=[],S=1,b=null,V=3,F=!1,$=!1,nt=!1,et=!1,mt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function pt(H){for(var W=i(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=H)r(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function Dt(H){if(nt=!1,pt(H),!$)if(i(v)!==null)$=!0,Rt||(Rt=!0,U());else{var W=i(y);W!==null&&Ce(Dt,W.startTime-H)}}var Rt=!1,C=-1,A=5,I=-1;function M(){return et?!0:!(a.unstable_now()-I<A)}function N(){if(et=!1,Rt){var H=a.unstable_now();I=H;var W=!0;try{t:{$=!1,nt&&(nt=!1,st(C),C=-1),F=!0;var ht=V;try{e:{for(pt(H),b=i(v);b!==null&&!(b.expirationTime>H&&M());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,V=b.priorityLevel;var Gt=Pt(b.expirationTime<=H);if(H=a.unstable_now(),typeof Gt=="function"){b.callback=Gt,pt(H),W=!0;break e}b===i(v)&&r(v),pt(H)}else r(v);b=i(v)}if(b!==null)W=!0;else{var O=i(y);O!==null&&Ce(Dt,O.startTime-H),W=!1}}break t}finally{b=null,V=ht,F=!1}W=void 0}}finally{W?U():Rt=!1}}}var U;if(typeof ot=="function")U=function(){ot(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=N,U=function(){ne.postMessage(null)}}else U=function(){mt(N,0)};function Ce(H,W){C=mt(function(){H(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(H){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var ht=V;V=W;try{return H()}finally{V=ht}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=V;V=H;try{return W()}finally{V=ht}},a.unstable_scheduleCallback=function(H,W,ht){var Pt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Pt+ht:Pt):ht=Pt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,H={id:S++,callback:W,priorityLevel:H,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Pt?(H.sortIndex=ht,t(y,H),i(v)===null&&H===i(y)&&(nt?(st(C),C=-1):nt=!0,Ce(Dt,ht-Pt))):(H.sortIndex=Gt,t(v,H),$||F||($=!0,Rt||(Rt=!0,U()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var W=V;return function(){var ht=V;V=W;try{return H.apply(this,arguments)}finally{V=ht}}}})(bd)),bd}var A_;function oA(){return A_||(A_=1,Ad.exports=aA()),Ad.exports}var wd={exports:{}},Ke={};var b_;function lA(){if(b_)return Ke;b_=1;var a=lm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:y,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},Ke.flushSync=function(v){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=S,r.d.f()}},Ke.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Ke.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ke.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:F}):S==="script"&&r.d.X(v,{crossOrigin:b,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Ke.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Ke.requestFormReset=function(v){r.d.r(v)},Ke.unstable_batchedUpdates=function(v,y){return v(y)},Ke.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var w_;function uA(){if(w_)return wd.exports;w_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=lA(),wd.exports}var R_;function cA(){if(R_)return hl;R_=1;var a=oA(),t=lm(),i=uA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case mt:return"Profiler";case et:return"StrictMode";case Dt:return"Suspense";case Rt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ot:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Pt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=Pt[Gt],Pt[Gt]=null,Gt--)}function tt(e,n){Gt++,Pt[Gt]=e.current,e.current=n}var rt=O(null),_t=O(null),bt=O(null),kt=O(null);function Ie(e,n){switch(tt(bt,n),tt(_t,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),tt(rt,e)}function ie(){K(rt),K(_t),K(bt)}function nr(e){e.memoizedState!==null&&tt(kt,e);var n=rt.current,s=qy(n,e.type);n!==s&&(tt(_t,e),tt(rt,s))}function Fr(e){_t.current===e&&(K(rt),K(_t)),kt.current===e&&(K(kt),al._currentValue=ht)}var Qr,Kr;function Zn(e){if(Qr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qr=n&&n[1]||"",Kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+e+Kr}var ro=!1;function ir(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Zn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,Th=a.unstable_shouldYield,Gl=a.unstable_requestPaint,We=a.unstable_now,sr=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,Sh=a.unstable_LowPriority,Fl=a.unstable_IdlePriority,Ql=a.log,Kl=a.unstable_setDisableYieldValue,kn=null,Pe=null;function Sn(e){if(typeof Ql=="function"&&Kl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var he=Math.clz32?Math.clz32:Xl,Yl=Math.log,Yr=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(Yl(e)/Yr|0)|0}var $n=256,rr=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(p&=E,p!==0?h=Wn(p):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):p!==0?h=Wn(p):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var q=31-he(s),Q=1<<q;E[q]=0,R[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function Pn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,xe="__reactProps$"+zn,ni="__reactContainer$"+zn,Xr="__reactEvents$"+zn,wh="__reactListeners$"+zn,$l="__reactHandles$"+zn,Wl="__reactResources$"+zn,ii="__reactMarker$"+zn;function Jr(e){delete e[_e],delete e[xe],delete e[Xr],delete e[wh],delete e[$l]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Xy(e);e!==null;){if(s=e[_e])return s;e=Xy(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[Wl];return n||(n=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function tu(e){return pe.call(yo,e)?!0:pe.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Zr(e,n,s){if(tu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?vo(e,p,Ue(n)):s!=null?vo(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function eu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function vo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||iu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var So=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function hr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if($r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(r(90));$r(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ur(o)}break t;case"textarea":nu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var ea=!1;function us(e,n,s){if(ea)return e(n,s);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(ls!==null||ui!==null)&&(Zu(),ls&&(n=ls,e=ui,ui=ls=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(wn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{fr=!1}var ci=null,Ao=null,dr=null;function bo(){if(dr)return dr;var e,n=Ao,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Oi),cs=b({},Oi,{view:0,detail:0}),wo=ze(cs),hs,na,fi,ia=b({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,na=e.screenY-fi.screenY):na=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Ro=ze(ia),gr=b({},ia,{dataTransfer:0}),ru=ze(gr),au=b({},cs,{relatedTarget:0}),pr=ze(au),Co=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=ze(Co),sa=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lu=ze(sa),uu=b({},Oi,{data:0}),di=ze(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function fs(){return du}var tn=b({},cs,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=ze(tn),gu=b({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(gu),u=b({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=ze(u),_=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),k=b({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(k),Z=b({},Oi,{newState:0,oldState:0}),St=ze(Z),fe=[9,13,27,32],Bt=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Rn=wn&&"TextEvent"in window&&!se,mi=wn&&(!Bt||se&&8<se&&11>=se),Hn=" ",Gn=!1;function yr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function C0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function I0(e,n){if(aa)return e==="compositionend"||!Bt&&yr(e,n)?(e=bo(),dr=Ao=ci=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var D0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D0[e.type]:n==="textarea"}function Wm(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=sc(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,Do=null;function N0(e){Uy(e,0)}function pu(e){var n=fn(e);if(ur(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(wn){var Rh;if(wn){var Ch="oninput"in document;if(!Ch){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Ch=typeof ng.oninput=="function"}Rh=Ch}else Rh=!1;eg=Rh&&(!document.documentMode||9<document.documentMode)}function ig(){Io&&(Io.detachEvent("onpropertychange",sg),Do=Io=null)}function sg(e){if(e.propertyName==="value"&&pu(Do)){var n=[];Wm(n,Do,e,bn(e)),us(N0,n)}}function O0(e,n,s){e==="focusin"?(ig(),Io=n,Do=s,Io.attachEvent("onpropertychange",sg)):e==="focusout"&&ig()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Do)}function M0(e,n){if(e==="click")return pu(n)}function x0(e,n){if(e==="input"||e==="change")return pu(n)}function U0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:U0;function No(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var s=rg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rg(s)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k0=wn&&"documentMode"in document&&11>=document.documentMode,oa=null,Dh=null,Oo=null,Nh=!1;function ug(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nh||oa==null||oa!==li(o)||(o=oa,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=sc(Dh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=oa)))}function _r(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var la={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Oh={},cg={};wn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function vr(e){if(Oh[e])return Oh[e];if(!la[e])return e;var n=la[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cg)return Oh[e]=n[s];return e}var hg=vr("animationend"),fg=vr("animationiteration"),dg=vr("animationstart"),L0=vr("transitionrun"),P0=vr("transitionstart"),z0=vr("transitioncancel"),mg=vr("transitionend"),gg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Fn(e,n){gg.set(e,n),ai(n,[e])}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ua=0,Mh=0;function _u(){for(var e=ua,n=Mh=ua=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&pg(s,h,f)}}function vu(e,n,s,o){Cn[ua++]=e,Cn[ua++]=n,Cn[ua++]=s,Cn[ua++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return vu(e,n,s,o),Eu(e)}function Er(e,n){return vu(e,null,null,n),Eu(e)}function pg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Eu(e){if(50<Wo)throw Wo=0,Gf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function j0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new j0(e,n,s,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Uh(e)&&(p=1);else if(typeof e=="string")p=FS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Tr(s.children,h,f,n);case et:p=8,h|=24;break;case mt:return e=gn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Dt:return e=gn(13,s,n,h),e.elementType=Dt,e.lanes=f,e;case Rt:return e=gn(19,s,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:p=10;break t;case st:p=9;break t;case pt:p=11;break t;case C:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function kh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function _g(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},vg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ha=[],fa=0,Su=null,Vo=0,Dn=[],Nn=0,ds=null,gi=1,pi="";function xi(e,n){ha[fa++]=Vo,ha[fa++]=Su,Su=e,Vo=n}function Eg(e,n,s){Dn[Nn++]=gi,Dn[Nn++]=pi,Dn[Nn++]=ds,ds=e;var o=gi;e=pi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-he(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Ph(e){e.return!==null&&(xi(e,1),Eg(e,1,0))}function zh(e){for(;e===Su;)Su=ha[--fa],ha[fa]=null,Vo=ha[--fa],ha[fa]=null;for(;e===ds;)ds=Dn[--Nn],Dn[Nn]=null,pi=Dn[--Nn],Dn[Nn]=null,gi=Dn[--Nn],Dn[Nn]=null}function Tg(e,n){Dn[Nn++]=gi,Dn[Nn++]=pi,Dn[Nn++]=ds,gi=n.id,pi=n.overflow,ds=e}var je=null,Wt=null,Ut=!1,ms=null,On=!1,jh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(In(n,e)),jh}function Sg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[xe]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)It(el[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||zy(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||gs(e,!0)}function Ag(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function da(e){if(e!==je)return!1;if(!Ut)return Ag(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&Wt&&gs(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Yy(e)}else n===27?(n=Wt,Ds(e.type)?(e=cd,cd=null,Wt=e):Wt=n):Wt=je?Mn(e.stateNode.nextSibling):null;return!0}function Sr(){Wt=je=null,Ut=!1}function Bh(){var e=ms;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ms=null),e}function Mo(e){ms===null?ms=[e]:ms.push(e)}var qh=O(null),Ar=null,Ui=null;function ps(e,n,s){tt(qh,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=qh.current,K(qh)}function Hh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Hh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Hh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ma(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Ar=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return bg(Ar,e)}function bu(e,n){return Ar===null&&br(e),bg(e,n)}function bg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(r(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var B0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},q0=a.unstable_scheduleCallback,H0=a.unstable_NormalPriority,Te={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new B0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&q0(H0,function(){e.controller.abort()})}var Uo=null,Qh=0,ga=0,pa=null;function G0(e,n){if(Uo===null){var s=Uo=[];Qh=0,ga=Jf(),pa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(wg,wg),n}function wg(){if(--Qh===0&&Uo!==null){pa!==null&&(pa.status="fulfilled");var e=Uo;Uo=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function F0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Rg=H.S;H.S=function(e,n){uy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&G0(e,n),Rg!==null&&Rg(e,n)};var wr=O(null);function Kh(){var e=wr.current;return e!==null?e:$t.pooledCache}function wu(e,n){n===null?tt(wr,wr.current):tt(wr,n.pool)}function Cg(){var e=Kh();return e===null?null:{parent:Te._currentValue,pool:e}}var ya=Error(r(460)),Yh=Error(r(474)),Ru=Error(r(542)),Cu={then:function(){}};function Ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw Cr=n,ya}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cr=s,ya):s}}var Cr=null;function Ng(){if(Cr===null)throw Error(r(459));var e=Cr;return Cr=null,e}function Og(e){if(e===ya||e===Ru)throw Error(r(483))}var _a=null,ko=0;function Iu(e){var n=ko;return ko+=1,_a===null&&(_a=[]),Dg(_a,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vg(e){function n(x,D){if(e){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function s(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=Mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,G){return D===null||D.tag!==6?(D=kh(L,x.mode,G),D.return=x,D):(D=h(D,L),D.return=x,D)}function R(x,D,L,G){var ct=L.type;return ct===nt?q(x,D,L.props.children,G,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Rr(ct)===D.type)?(D=h(D,L.props),Lo(D,L),D.return=x,D):(D=Tu(L.type,L.key,L.props,null,x.mode,G),Lo(D,L),D.return=x,D)}function P(x,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Lh(L,x.mode,G),D.return=x,D):(D=h(D,L.children||[]),D.return=x,D)}function q(x,D,L,G,ct){return D===null||D.tag!==7?(D=Tr(L,x.mode,G,ct),D.return=x,D):(D=h(D,L),D.return=x,D)}function Q(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=kh(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return L=Tu(D.type,D.key,D.props,null,x.mode,L),Lo(L,D),L.return=x,L;case $:return D=Lh(D,x.mode,L),D.return=x,D;case A:return D=Rr(D),Q(x,D,L)}if(Ce(D)||U(D))return D=Tr(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Q(x,Iu(D),L);if(D.$$typeof===ot)return Q(x,bu(x,D),L);Du(x,D)}return null}function z(x,D,L,G){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(x,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?R(x,D,L,G):null;case $:return L.key===ct?P(x,D,L,G):null;case A:return L=Rr(L),z(x,D,L,G)}if(Ce(L)||U(L))return ct!==null?null:q(x,D,L,G,null);if(typeof L.then=="function")return z(x,D,Iu(L),G);if(L.$$typeof===ot)return z(x,D,bu(x,L),G);Du(x,L)}return null}function B(x,D,L,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(D,x,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?L:G.key)||null,R(D,x,G,ct);case $:return x=x.get(G.key===null?L:G.key)||null,P(D,x,G,ct);case A:return G=Rr(G),B(x,D,L,G,ct)}if(Ce(G)||U(G))return x=x.get(L)||null,q(D,x,G,ct,null);if(typeof G.then=="function")return B(x,D,L,Iu(G),ct);if(G.$$typeof===ot)return B(x,D,L,bu(D,G),ct);Du(D,G)}return null}function at(x,D,L,G){for(var ct=null,zt=null,lt=D,wt=D=0,Ot=null;lt!==null&&wt<L.length;wt++){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var jt=z(x,lt,L[wt],G);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(x,lt),D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=Ot}if(wt===L.length)return s(x,lt),Ut&&xi(x,wt),ct;if(lt===null){for(;wt<L.length;wt++)lt=Q(x,L[wt],G),lt!==null&&(D=f(lt,D,wt),zt===null?ct=lt:zt.sibling=lt,zt=lt);return Ut&&xi(x,wt),ct}for(lt=o(lt);wt<L.length;wt++)Ot=B(lt,x,wt,L[wt],G),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?wt:Ot.key),D=f(Ot,D,wt),zt===null?ct=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(xs){return n(x,xs)}),Ut&&xi(x,wt),ct}function dt(x,D,L,G){if(L==null)throw Error(r(151));for(var ct=null,zt=null,lt=D,wt=D=0,Ot=null,jt=L.next();lt!==null&&!jt.done;wt++,jt=L.next()){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var xs=z(x,lt,jt.value,G);if(xs===null){lt===null&&(lt=Ot);break}e&&lt&&xs.alternate===null&&n(x,lt),D=f(xs,D,wt),zt===null?ct=xs:zt.sibling=xs,zt=xs,lt=Ot}if(jt.done)return s(x,lt),Ut&&xi(x,wt),ct;if(lt===null){for(;!jt.done;wt++,jt=L.next())jt=Q(x,jt.value,G),jt!==null&&(D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Ut&&xi(x,wt),ct}for(lt=o(lt);!jt.done;wt++,jt=L.next())jt=B(lt,x,wt,jt.value,G),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?wt:jt.key),D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(nA){return n(x,nA)}),Ut&&xi(x,wt),ct}function Zt(x,D,L,G){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===nt){if(D.tag===7){s(x,D.sibling),G=h(D,L.props.children),G.return=x,x=G;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Rr(ct)===D.type){s(x,D.sibling),G=h(D,L.props),Lo(G,L),G.return=x,x=G;break t}s(x,D);break}else n(x,D);D=D.sibling}L.type===nt?(G=Tr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Tu(L.type,L.key,L.props,null,x.mode,G),Lo(G,L),G.return=x,x=G)}return p(x);case $:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(x,D.sibling),G=h(D,L.children||[]),G.return=x,x=G;break t}else{s(x,D);break}else n(x,D);D=D.sibling}G=Lh(L,x.mode,G),G.return=x,x=G}return p(x);case A:return L=Rr(L),Zt(x,D,L,G)}if(Ce(L))return at(x,D,L,G);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(r(150));return L=ct.call(L),dt(x,D,L,G)}if(typeof L.then=="function")return Zt(x,D,Iu(L),G);if(L.$$typeof===ot)return Zt(x,D,bu(x,L),G);Du(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(x,D.sibling),G=h(D,L),G.return=x,x=G):(s(x,D),G=kh(L,x.mode,G),G.return=x,x=G),p(x)):s(x,D)}return function(x,D,L,G){try{ko=0;var ct=Zt(x,D,L,G);return _a=null,ct}catch(lt){if(lt===ya||lt===Ru)throw lt;var zt=gn(29,lt,null,x.mode);return zt.lanes=G,zt.return=x,zt}}}var Ir=Vg(!0),Mg=Vg(!1),ys=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(e),pg(e,null,s),n}return vu(e,o,n,s),Eu(e)}function Po(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function zo(){if($h){var e=pa;if(e!==null)throw e}}function jo(e,n,s,o){$h=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,q=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===ga&&($h=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var Zt=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Q=at.call(Zt,Q,z);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Zt,Q,z):at,z==null)break t;Q=b({},Q,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=B,R=Q):q=q.next=B,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),bs|=p,e.lanes=p,e.memoizedState=Q}}function xg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ug(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)xg(s[e],n)}var va=O(null),Nu=O(0);function kg(e,n){e=Fi,tt(Nu,e),tt(va,n),Fi=e|n.baseLanes}function Wh(){tt(Nu,Fi),tt(va,va.current)}function tf(){Fi=Nu.current,K(va),K(Nu)}var pn=O(null),Vn=null;function Es(e){var n=e.alternate;tt(de,de.current&1),tt(pn,e),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=e)}function ef(e){tt(de,de.current),tt(pn,e),Vn===null&&(Vn=e)}function Lg(e){e.tag===22?(tt(de,de.current),tt(pn,e),Vn===null&&(Vn=e)):Ts()}function Ts(){tt(de,de.current),tt(pn,pn.current)}function yn(e){K(pn),Vn===e&&(Vn=null),K(de)}var de=O(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Xt=null,Se=null,Vu=!1,Ea=!1,Dr=!1,Mu=0,Bo=0,Ta=null,Q0=0;function ue(){throw Error(r(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ep:vf,Dr=!1,f=s(o,h),Dr=!1,Ea&&(f=zg(n,s,o,h)),Pg(e),f}function Pg(e){H.H=Go;var n=Xt!==null&&Xt.next!==null;if(Li=0,Se=Xt=At=null,Vu=!1,Bo=0,Ta=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&Au(e)&&(Ae=!0))}function zg(e,n,s,o){At=e;var h=0;do{if(Ea&&(Ta=null),Bo=0,Ea=!1,25<=h)throw Error(r(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Tp,f=n(s,o)}while(Ea);return f}function K0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function rf(){var e=Mu!==0;return Mu=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Li=0,Se=Xt=At=null,Ea=!1,Bo=Mu=0,Ta=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),e=Dg(Ta,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ep:vf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===ot)return Be(e)}throw Error(r(438,String(e)))}function lf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=xu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=me();return uf(n,Xt,e)}function uf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,q=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Nt&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ga&&(q=!0);else if((Li&z)===z){P=P.next,z===ga&&(q=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Q,p=f):R=R.next=Q,At.lanes|=z,bs|=z;Q=P.action,Dr&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,At.lanes|=Q,bs|=Q;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!mn(f,e.memoizedState)&&(Ae=!0,q&&(s=pa,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function jg(e,n,s){var o=At,h=me(),f=Ut;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!mn((Xt||h).memoizedState,s);if(p&&(h.memoizedState=s,Ae=!0),h=h.queue,df(Hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},qg.bind(null,o,h,s,n),null),$t===null)throw Error(r(349));f||(Li&127)!==0||Bg(o,n,s)}return s}function Bg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=xu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qg(e,n,s,o){n.value=s,n.getSnapshot=o,Gg(n)&&Fg(e)}function Hg(e,n,s){return s(function(){Gg(n)&&Fg(e)})}function Gg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Fg(e){var n=Er(e,2);n!==null&&un(n,e,2)}function hf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Dr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Qg(e,n,s,o){return e.baseState=s,uf(e,Xt,typeof o=="function"?o:Pi)}function Y0(e,n,s,o,h){if(zu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Kg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Kg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,o),R=H.S;R!==null&&R(p,E),Yg(e,n,E)}catch(P){ff(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,o),Yg(e,n,f)}catch(P){ff(e,n,P)}}function Yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Xg(e,n,o)},function(o){return ff(e,n,o)}):Xg(e,n,s)}function Xg(e,n,s){n.status="fulfilled",n.value=s,Jg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Kg(e,s)))}function ff(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Jg(n),n=n.next;while(n!==o)}e.action=null}function Jg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function $g(e,n){if(Ut){var s=$t.formState;if(s!==null){t:{var o=At;if(Ut){if(Wt){e:{for(var h=Wt,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Mn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},s.queue=o,s=yp.bind(null,At,o),o.dispatch=s,o=hf(!1),f=_f.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=Y0.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Wg(e){var n=me();return tp(n,Xt,e)}function tp(e,n,s){if(n=uf(e,n,Zg)[0],e=ku(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(p){throw p===ya?Ru:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},X0.bind(null,h,s),null)),[o,f,e]}function X0(e,n){e.action=n}function ep(e){var n=me(),s=Xt;if(s!==null)return tp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=xu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function np(){return me().memoizedState}function Lu(e,n,s,o){var h=en();At.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Pu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&nf(o,Xt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(At.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function ip(e,n){Lu(8390656,8,e,n)}function df(e,n){Pu(2048,8,e,n)}function J0(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=xu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function sp(e){var n=me().memoizedState;return J0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return Pu(4,2,e,n)}function ap(e,n){return Pu(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,s){s=s!=null?s.concat([e]):null,Pu(4,4,op.bind(null,n,e),s)}function mf(){}function up(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function cp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function gf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=hy(),At.lanes|=e,bs|=e,s)}function hp(e,n,s,o){return mn(s,n)?s:va.current!==null?(e=gf(e,s,o),mn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Nt&261930)===0?(Ae=!0,e.memoizedState=s):(e=hy(),At.lanes|=e,bs|=e,n)}function fp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,_f(e,!1,n,s);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=F0(R,o);Ho(e,n,q,En(e))}else Ho(e,n,o,En(e))}catch(Q){Ho(e,n,{then:function(){},status:"rejected",reason:Q},En())}finally{W.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function Z0(){}function pf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=dp(e).queue;fp(e,h,n,ht,s===null?Z0:function(){return mp(e),s(o)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},En())}function yf(){return Be(al)}function gp(){return me().memoizedState}function pp(){return me().memoizedState}function $0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=_s(s);var o=vs(n,e,s);o!==null&&(un(o,n,s),Po(o,n,s)),n={cache:Fh()},e.payload=n;return}n=n.return}}function W0(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zu(e)?_p(n,s):(s=xh(e,n,s,o),s!==null&&(un(s,e,o),vp(s,n,o)))}function yp(e,n,s){var o=En();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(e))_p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return vu(e,n,h,0),$t===null&&_u(),!1}catch{}if(s=xh(e,n,h,o),s!==null)return un(s,e,o),vp(s,n,o),!0}return!1}function _f(e,n,s,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(r(479))}else n=xh(e,s,o,2),n!==null&&un(n,e,2)}function zu(e){var n=e.alternate;return e===At||n!==null&&n===At}function _p(e,n){Ea=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function vp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:Be,use:Uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Go.useEffectEvent=ue;var Ep={readContext:Be,use:Uu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:ip,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,op.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Dr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=W0.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,s=yp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mf,useDeferredValue:function(e,n){var s=en();return gf(s,e,n)},useTransition:function(){var e=hf(!1);return e=fp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=en();if(Ut){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Nt&127)!==0||Bg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ip(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},qg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=$t.identifierPrefix;if(Ut){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Q0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:$g,useActionState:$g,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return en().memoizedState=$0.bind(null,At)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vf={readContext:Be,use:Uu,useCallback:up,useContext:Be,useEffect:df,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:ku,useRef:np,useState:function(){return ku(Pi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=me();return hp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=ku(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:yf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var s=me();return Qg(s,Xt,e,n)},useMemoCache:lf,useCacheRefresh:pp};vf.useEffectEvent=sp;var Tp={readContext:Be,use:Uu,useCallback:up,useContext:Be,useEffect:df,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:cf,useRef:np,useState:function(){return cf(Pi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=me();return Xt===null?gf(s,e,n):hp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=cf(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:yf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var s=me();return Xt!==null?Qg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:pp};Tp.useEffectEvent=sp;function Ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(un(n,e,s),Po(n,e,s))}};function Sp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function Ap(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function bp(e){yu(e)}function wp(e){console.error(e)}function Rp(e){yu(e)}function ju(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(e,n)},s}function Ip(e){return e=_s(e),e.tag=3,e}function Dp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Cp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Cp(n,s,o),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tS(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ma(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?$u():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Cu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return s.flags|=65536,o===Cu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Kf(e,o,h)),!1}throw Error(r(435,s.tag))}return Kf(e,o,h),$u(),!1}if(Ut)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==jh&&(e=Error(r(422),{cause:o}),Mo(In(e,s)))):(o!==jh&&(n=Error(r(423),{cause:o}),Mo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=Sf(e.stateNode,o,h),Zh(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=In(f,s),$o===null?$o=[f]:$o.push(f),ce!==4&&(ce=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Sf(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ip(h),Dp(h,e,s,o),Zh(s,h),!1}s=s.return}while(s!==null);return!1}var Af=Error(r(461)),Ae=!1;function qe(e,n,s,o){n.child=e===null?Mg(n,null,s,o):Ir(n,e.child,s,o)}function Np(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=sf(e,n,s,p,f,h),E=rf(),e!==null&&!Ae?(af(e,n,h),zi(e,n,h)):(Ut&&E&&Ph(n),n.flags|=1,qe(e,n,o,h),n.child)}function Op(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vp(e,n,f,o,h)):(e=Tu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Vp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,h)}return bf(e,n,s,o,h)}function Mp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return xp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?kg(n,f):Wh(),Lg(n);else return o=n.lanes=536870912,xp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(wu(n,f.cachePool),kg(n,f),Ts(),n.memoizedState=null):(e!==null&&wu(n,null),Wh(),Ts());return qe(e,n,h,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xp(e,n,s,o,h){var f=Kh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&wu(n,null),Wh(),Lg(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function Bu(e,n){return n=Hu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Up(e,n,s){return Ir(n,e.child,null,s),e=Bu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function eS(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Bu(n,o),n.lanes=536870912,Fo(null,e);if(ef(n),(e=Wt)?(e=Ky(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Bu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=Up(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||ma(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(p=ho(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Er(e,p),un(o,e,p),Af;$u(),n=Up(e,n,s)}else e=f.treeContext,Wt=Mn(p.nextSibling),je=n,Ut=!0,ms=null,On=!1,e!==null&&Tg(n,e),n=Bu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function bf(e,n,s,o,h){return br(n),s=sf(e,n,s,o,void 0,h),o=rf(),e!==null&&!Ae?(af(e,n,h),zi(e,n,h)):(Ut&&o&&Ph(n),n.flags|=1,qe(e,n,s,h),n.child)}function kp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=zg(n,o,s,h),Pg(e),o=rf(),e!==null&&!Ae?(af(e,n,f),zi(e,n,f)):(Ut&&o&&Ph(n),n.flags|=1,qe(e,n,s,f),n.child)}function Lp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=ca,p=s.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Be(p):ca,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Tf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Nr(s,E);f.props=R;var P=f.context,q=s.contextType;p=ca,typeof q=="object"&&q!==null&&(p=Be(q));var Q=s.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Ap(n,f,o,p),ys=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,h),zo(),P=n.memoizedState,E||z!==P||ys?(typeof Q=="function"&&(Ef(n,s,Q,o),P=n.memoizedState),(R=ys||Sp(n,s,R,o,z,P,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),p=n.memoizedProps,q=Nr(s,p),f.props=q,Q=n.pendingProps,z=f.context,P=s.contextType,R=ca,typeof P=="object"&&P!==null&&(R=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==R)&&Ap(n,f,o,R),ys=!1,z=n.memoizedState,f.state=z,jo(n,o,f,h),zo();var B=n.memoizedState;p!==Q||z!==B||ys||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Ef(n,s,E,o),B=n.memoizedState),(q=ys||Sp(n,s,q,o,z,B,R)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Pp(e,n,s,o){return Sr(),n.flags|=256,qe(e,n,s,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Cg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function zp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Es(n):Ts(),(e=Wt)?(e=Ky(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw gs(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ts(),h=n.mode,E=Hu({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,p,s),n.memoizedState=wf,Fo(null,o)):(Es(n),If(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Df(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,h=n.mode,o=Hu({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,p,s),n.memoizedState=wf,n=Fo(null,o));else if(Es(n),ud(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,Mo({value:o,source:null,stack:null}),n=Df(e,n,s)}else if(Ae||ma(e,n,s,!1),p=(s&e.childLanes)!==0,Ae||p){if(p=$t,p!==null&&(o=ho(p,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Er(e,o),un(p,e,o),Af;ld(E)||$u(),n=Df(e,n,s)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=Mn(E.nextSibling),je=n,Ut=!0,ms=null,On=!1,e!==null&&Tg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(Ts(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Cg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Cf(e,p,s),n.memoizedState=wf,Fo(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function If(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Df(e,n,s){return Ir(n,e.child,null,s),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,s)}function Nf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Bp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(de,p),qe(e,n,o,s),o=Ut?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Nf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Nf(n,!0,s,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ma(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function nS(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ps(n,Te,e.memoizedState.cache),Sr();break;case 27:case 5:nr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?zp(e,n,s):(Es(n),e=zi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ma(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Bp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,s,n.pendingProps);case 24:ps(n,Te,e.memoizedState.cache)}return zi(e,n,s)}function qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,s)&&(n.flags&128)===0)return Ae=!1,nS(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&Eg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Nr(e,o),n.tag=1,n=Lp(null,n,e,o,s)):(n.tag=0,n=bf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===pt){n.tag=11,n=Np(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Op(null,n,e,o,s);break t}}throw n=ne(e)||e,Error(r(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Nr(o,n.pendingProps),Lp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Jh(e,n),jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,ps(n,Te,o),o!==f.cache&&Gh(n,[Te],s,!0),zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pp(e,n,o,s);break t}else if(o!==h){h=In(Error(r(424)),n),Mo(h),n=Pp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=Mn(e.firstChild),je=n,Ut=!0,ms=null,On=!0,s=Mg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sr(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return qu(e,n),e===null?(s=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=rc(bt.current).createElement(s),o[_e]=n,o[xe]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Ut&&(o=n.stateNode=Jy(n.type,n.pendingProps,bt.current),je=n,On=!0,h=Wt,Ds(n.type)?(cd=h,Wt=Mn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=Wt)&&(o=VS(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,Wt=Mn(o.firstChild),On=!1,h=!0):h=!1),h||gs(n)),nr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:p!==null&&rd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,K0,null,null,s),al._currentValue=h),qu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=Wt)&&(s=MS(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,Wt=null,e=!0):e=!1),e||gs(n)),null;case 13:return zp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ir(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Np(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Op(e,n,n.type,n.pendingProps,s);case 15:return Vp(e,n,n.type,n.pendingProps,s);case 19:return Bp(e,n,s);case 31:return eS(e,n,s);case 22:return Mp(e,n,s,n.pendingProps);case 24:return br(n),o=Be(Te),e===null?(h=Kh(),h===null&&(h=$t,f=Fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Xh(n),ps(n,Te,h)):((e.lanes&s)!==0&&(Jh(e,n),jo(n,null,null,s),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Te,o)):(o=f.cache,ps(n,Te,o),o!==h.cache&&Gh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ji(e){e.flags|=4}function Vf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw Cr=Cu,Yh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(n))if(gy())e.flags|=8192;else throw Cr=Cu,Yh}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jl():536870912,e.lanes|=n,Ra|=n)}function Qo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function iS(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Te),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(te(n),Hp(n,f)):(te(n),Vf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),te(n),Hp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),te(n),Vf(n,h,e,o,s)),null;case 27:if(Fr(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=rt.current,da(n)?Sg(n):(e=Jy(h,o,s),n.stateNode=e,ji(n))}return te(n),null;case 5:if(Fr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=rt.current,da(n))Sg(n);else{var p=rc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return te(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,da(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,s)),e||gs(n,!0)}else e=rc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&td(n.stateNode.containerInfo),te(n),null;case 10:return ki(n.type),te(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)yg(s,e),s=s.sibling;return tt(de,de.current&1|2),Ut&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Xu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return te(n),null}else 2*We()-o.renderingStartTime>Xu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=de.current,tt(de,h?s&1|2:s&1),Ut&&xi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return yn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Te),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sS(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Te),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return ie(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),tf(),e!==null&&K(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function Gp(e,n){switch(zh(n),n.tag){case 3:ki(Te),ie();break;case 26:case 27:case 5:Fr(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(de);break;case 10:ki(n.type);break;case 22:case 23:yn(n),tf(),e!==null&&K(wr);break;case 24:ki(Te)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(q){Kt(h,R,q)}}}o=o.next}while(o!==f)}}catch(q){Kt(n,n.return,q)}}function Fp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ug(n,s)}catch(o){Kt(e,e.return,o)}}}function Qp(e,n,s){s.props=Nr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function Kp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Mf(e,n,s){try{var o=e.stateNode;RS(o,e.type,s,n),o[xe]=n}catch(h){Kt(e,e.return,h)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,s),e=e.sibling;e!==null;)Uf(e,n,s),e=e.sibling}function Fu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function Xp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[xe]=s}catch(f){Kt(e,e.return,f)}}var Bi=!1,be=!1,kf=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function rS(e,n){if(e=e.containerInfo,id=fc,e=lg(e),Ih(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,P=0,q=0,Q=e,z=null;e:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===s&&++P===h&&(E=p),z===f&&++q===o&&(R=p),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},fc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Nr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Zp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Ko(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(s,s.return,p)}else{var h=Nr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(s,s.return,p)}}o&64&&Fp(s),o&512&&Yo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ug(e,n)}catch(p){Kt(s,s.return,p)}}break;case 27:n===null&&o&4&&Xp(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Kp(s),o&512&&Yo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&ty(e,s);break;case 13:Hi(e,s),o&4&&ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=mS.bind(null,s),xS(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,h=Bi;var f=be;Bi=o,(be=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,be=f}break;case 30:break;default:Hi(e,s)}}function $p(e){var n=e.alternate;n!==null&&(e.alternate=null,$p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)Wp(e,n,s),s=s.sibling}function Wp(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:be||yi(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=re,h=rn;Ds(s.type)&&(re=s.stateNode,rn=!1),qi(e,n,s),il(s.stateNode),re=o,rn=h;break;case 5:be||yi(s,n);case 6:if(o=re,h=rn,re=null,qi(e,n,s),re=o,rn=h,re!==null)if(rn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:re!==null&&(rn?(e=re,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xa(e)):Fy(re,s.stateNode));break;case 4:o=re,h=rn,re=s.stateNode.containerInfo,rn=!0,qi(e,n,s),re=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),be||Ss(4,s,n),qi(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qp(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,qi(e,n,s),be=o;break;default:qi(e,n,s)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(s){Kt(n,n.return,s)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(s){Kt(n,n.return,s)}}function aS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jp),n;default:throw Error(r(435,e.tag))}}function Qu(e,n){var s=aS(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=gS.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){re=E.stateNode,rn=!1;break t}break;case 5:re=E.stateNode,rn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(re===null)throw Error(r(160));Wp(f,p,h),re=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var Qn=null;function ny(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Ko(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var p=n_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(p=n_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&Mf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(lc=null,h=Qn,Qn=ac(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(at){Kt(e,e.return,at)}kf&&(kf=!1,iy(e));break;case 4:o=Qn,Qn=ac(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Bi,q=be;if(Bi=P||h,be=q||R,an(n,e),be=q,Bi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Bi||be||Or(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?Qy(B,!0):Qy(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Qu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Yp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Fu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=xf(e);Fu(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,P=xf(e);Uf(e,P,R);break;default:throw Error(r(161))}}catch(q){Kt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Or(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),Or(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Ko(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)xg(R[h],E)}catch(P){Kt(o,o.return,P)}}s&&p&64&&Fp(f),Yo(f,f.return);break;case 27:Xp(f);case 26:case 5:Gi(h,f,s),s&&o===null&&p&4&&Kp(f),Yo(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&p&4&&ty(h,f);break;case 13:Gi(h,f,s),s&&p&4&&ey(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Yo(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xo(s))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,s,o),n=n.sibling}function sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Xo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lf(p,n);break;case 24:Kn(e,n,s,o),h&2048&&Pf(n.alternate,n);break;default:Kn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,R,h),Ko(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?Aa(f,p,E,R,h):Xo(f,p):(q._visibility|=2,Aa(f,p,E,R,h)),h&&P&2048&&Lf(p.alternate,p);break;case 24:Aa(f,p,E,R,h),h&&P&2048&&Pf(p.alternate,p);break;default:Aa(f,p,E,R,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&Lf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&Pf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var Jo=8192;function ba(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)ry(e,n,s),e=e.sibling}function ry(e,n,s){switch(e.tag){case 26:ba(e,n,s),e.flags&Jo&&e.memoizedState!==null&&QS(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,s);break;case 3:case 4:var o=Qn;Qn=ac(e.stateNode.containerInfo),ba(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,ba(e,n,s),Jo=o):ba(e,n,s));break;default:ba(e,n,s)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Zo(e);break;default:Zo(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function ly(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if($p(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var oS={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Ct=null,Nt=0,Qt=0,_n=null,As=!1,wa=!1,zf=!1,Fi=0,ce=0,bs=0,Vr=0,jf=0,vn=0,Ra=0,$o=null,ln=null,Bf=!1,Yu=0,uy=0,Xu=1/0,Ju=null,ws=null,Ne=0,Rs=null,Ca=null,Qi=0,qf=0,Hf=null,cy=null,Wo=0,Gf=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?Jf():Zl()}function hy(){if(vn===0)if((Nt&536870912)===0||Ut){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Cs(e,Nt,vn,!1)),ar(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Vr|=s),ce===4&&Cs(e,Nt,vn,!1)),_i(e))}function fy(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?hS(e,n):Qf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!uS(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=$o;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,p).flags|=256),p=Qf(E,p,!1),p!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!As);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Yu+300-We(),10<h)){if(Cs(o,n,vn,!As),ti(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Hy(dy.bind(null,o,s,ln,Ju,Bf,n,vn,Vr,Ra,As,f,"Throttled",-0,0),h);break t}dy(o,s,ln,Ju,Bf,n,vn,Vr,Ra,As,f,null,-0,0)}}break}while(!0);_i(e)}function dy(e,n,s,o,h,f,p,E,R,P,q,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ry(n,f,Q);var at=(f&62914560)===f?Yu-We():(f&4194048)===f?uy-We():0;if(at=KS(Q,at),at!==null){Qi=f,e.cancelPendingCommit=at(Ty.bind(null,e,n,f,s,o,h,p,E,R,q,Q,null,z,B)),Cs(e,f,p,!P);return}}Ty(e,n,f,s,o,h,p,E,R)}function uS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~jf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&or(e,s,n)}function Zu(){return(qt&6)===0?(tl(0),!1):!0}function Ff(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,Ui=Ar=null,of(e),_a=null,ko=0,e=Ct;for(;e!==null;)Gp(e.alternate,e),e=e.return;Ct=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,DS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Ff(),$t=e,Ct=s=Mi(e.current,null),Nt=n,Qt=0,_n=null,As=!1,wa=Ln(e,n),zf=!1,Ra=vn=jf=Vr=bs=ce=0,ln=$o=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,_u(),s}function my(e,n){At=null,H.H=Go,n===ya||n===Ru?(n=Ng(),Qt=3):n===Yh?(n=Ng(),Qt=4):Qt=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(ce=1,ju(e,In(n,e.current)))}function gy(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function py(){var e=H.H;return H.H=Go,e===null?Go:e}function yy(){var e=H.A;return H.A=oS,e}function $u(){ce=4,As||(Nt&4194048)!==Nt&&pn.current!==null||(wa=!0),(bs&134217727)===0&&(Vr&134217727)===0||$t===null||Cs($t,Nt,vn,!1)}function Qf(e,n,s){var o=qt;qt|=2;var h=py(),f=yy();($t!==e||Nt!==n)&&(Ju=null,Ia(e,n)),n=!1;var p=ce;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,R=_n;switch(Qt){case 8:Ff(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Qt;if(Qt=0,_n=null,Da(e,E,R,P),s&&wa){p=0;break t}break;default:P=Qt,Qt=0,_n=null,Da(e,E,R,P)}}cS(),p=ce;break}catch(q){my(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ar=null,qt=o,H.H=h,H.A=f,Ct===null&&($t=null,Nt=0,_u()),p}function cS(){for(;Ct!==null;)_y(Ct)}function hS(e,n){var s=qt;qt|=2;var o=py(),h=yy();$t!==e||Nt!==n?(Ju=null,Xu=We()+500,Ia(e,n)):wa=Ln(e,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(Ig(f)){Qt=0,_n=null,vy(n);break}n=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),_i(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ig(f)?(Qt=0,_n=null,vy(n)):(Qt=0,_n=null,Da(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?s_(p):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,Wu(P)):Ct=null}break e}}Qt=0,_n=null,Da(e,n,f,5);break;case 6:Qt=0,_n=null,Da(e,n,f,6);break;case 8:Ff(),ce=6;break t;default:throw Error(r(462))}}fS();break}catch(q){my(e,q)}while(!0);return Ui=Ar=null,H.H=o,H.A=h,qt=s,Ct!==null?0:($t=null,Nt=0,_u(),ce)}function fS(){for(;Ct!==null&&!Th();)_y(Ct)}function _y(e){var n=qp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Wu(e):Ct=n}function vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:of(n);default:Gp(s,n),n=Ct=yg(n,Fi),n=qp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Wu(e):Ct=n}function Da(e,n,s,o){Ui=Ar=null,of(n),_a=null,ko=0;var h=n.return;try{if(tS(e,h,n,s,Nt)){ce=1,ju(e,In(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,ju(e,In(s,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:wa||(Nt&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,As);return}e=n.return;var s=iS(n.alternate,n,Fi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function Ey(e,n){do{var s=sS(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function Ty(e,n,s,o,h,f,p,E,R){e.cancelPendingCommit=null;do tc();while(Ne!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,s,f,p,E,R),e===$t&&(Ct=$t=null,Nt=0),Ca=n,Rs=e,Qi=s,qf=f,Hf=h,cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pS(is,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,p=qt,qt|=4;try{rS(e,n,s)}finally{qt=p,W.p=h,H.T=o}}Ne=1,Sy(),Ay(),by()}}function Sy(){if(Ne===1){Ne=0;var e=Rs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{ny(n,e);var f=sd,p=lg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(R!==null&&Ih(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,dt=Math.min(R.start,at),Zt=R.end===void 0?dt:Math.min(R.end,at);!B.extend&&dt>Zt&&(p=Zt,Zt=dt,dt=p);var x=ag(E,dt),D=ag(E,Zt);if(x&&D&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),dt>Zt?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}fc=!!id,sd=id=null}finally{qt=h,W.p=o,H.T=s}}e.current=n,Ne=2}}function Ay(){if(Ne===2){Ne=0;var e=Rs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{Zp(e,n.alternate,n)}finally{qt=h,W.p=o,H.T=s}}Ne=3}}function by(){if(Ne===4||Ne===3){Ne=0,Gl();var e=Rs,n=Ca,s=Qi,o=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ca=Rs=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Qi&3)!==0&&tc(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?Wo++:(Wo=0,Gf=e):Wo=0,tl(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function tc(){return Sy(),Ay(),by(),Ry()}function Ry(){if(Ne!==5)return!1;var e=Rs,n=qf;qf=0;var s=Di(Qi),o=H.T,h=W.p;try{W.p=32>s?32:s,H.T=null,s=Hf,Hf=null;var f=Rs,p=Qi;if(Ne=0,Ca=Rs=null,Qi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,oy(f.current),sy(f,f.current,p,s),qt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{W.p=h,H.T=o,wy(e,n)}}function Cy(e,n,s){n=In(s,n),n=Sf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(ar(e,2),_i(e))}function Kt(e,n,s){if(e.tag===3)Cy(e,e,s);else for(;n!==null;){if(n.tag===3){Cy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){e=In(s,e),s=Ip(2),o=vs(n,s,2),o!==null&&(Dp(s,o,n,e),ar(o,2),_i(o));break}}n=n.return}}function Kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new lS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=dS.bind(null,e,n,s),n.then(e,e))}function dS(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-Yu?(qt&2)===0&&Ia(e,0):jf|=s,Ra===Nt&&(Ra=0)),_i(e)}function Iy(e,n){n===0&&(n=Jl()),e=Er(e,n),e!==null&&(ar(e,n),_i(e))}function mS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Iy(e,s)}function gS(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Iy(e,s)}function pS(e,n){return De(e,n)}var ec=null,Na=null,Yf=!1,nc=!1,Xf=!1,Is=0;function _i(e){e!==Na&&e.next===null&&(Na===null?ec=Na=e:Na=Na.next=e),nc=!0,Yf||(Yf=!0,_S())}function tl(e,n){if(!Xf&&nc){Xf=!0;do for(var s=!1,o=ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vy(o,f))}else f=Nt,f=ti(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Vy(o,f));o=o.next}while(s);Xf=!1}}function yS(){Dy()}function Dy(){nc=Yf=!1;var e=0;Is!==0&&IS()&&(e=Is);for(var n=We(),s=null,o=ec;o!==null;){var h=o.next,f=Ny(o,n);f===0?(o.next=null,s===null?ec=h:s.next=h,h===null&&(Na=s)):(s=o,(e!==0||(f&3)!==0)&&(nc=!0)),o=h}Ne!==0&&Ne!==5||tl(e),Is!==0&&(Is=0)}function Ny(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Ah(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Nt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Di(s)){case 2:case 8:s=uo;break;case 32:s=is;break;case 268435456:s=Fl;break;default:s=is}return o=Oy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var o=Nt;return o=ti(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Ny(e,We()),e.callbackNode!=null&&e.callbackNode===s?Oy.bind(null,e):null)}function Vy(e,n){if(tc())return null;fy(e,n,!0)}function _S(){NS(function(){(qt&6)!==0?De(lo,yS):Dy()})}function Jf(){if(Is===0){var e=ga;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Is=e}return Is}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function vS(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=My((h[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?My(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var R=p?xy(h,p):new FormData(h);pf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?xy(h,p):new FormData(h),pf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var $f=Vh[Zf],ES=$f.toLowerCase(),TS=$f[0].toUpperCase()+$f.slice(1);Fn(ES,"on"+TS)}Fn(hg,"onAnimationEnd"),Fn(fg,"onAnimationIteration"),Fn(dg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(L0,"onTransitionRun"),Fn(P0,"onTransitionStart"),Fn(z0,"onTransitionCancel"),Fn(mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){yu(q)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){yu(q)}h.currentTarget=null,f=R}}}}function It(e,n){var s=n[Xr];s===void 0&&(s=n[Xr]=new Set);var o=e+"__bubble";s.has(o)||(ky(n,e,2,!1),s.add(o))}function Wf(e,n,s){var o=0;n&&(o|=4),ky(s,e,o,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ic]){e[ic]=!0,fo.forEach(function(s){s!=="selectionchange"&&(SS.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,Wf("selectionchange",!1,n))}}function ky(e,n,s,o){switch(h_(n)){case 2:var h=JS;break;case 8:h=ZS;break;default:h=gd}s=h.bind(null,n,s,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=si(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}us(function(){var P=f,q=bn(s),Q=[];t:{var z=gg.get(e);if(z!==void 0){var B=hi,at=e;switch(e){case"keypress":if(mr(s)===0)break t;case"keydown":case"keyup":B=mu;break;case"focusin":at="focus",B=pr;break;case"focusout":at="blur",B=pr;break;case"beforeblur":case"afterblur":B=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case hg:case fg:case dg:B=ou;break;case mg:B=T;break;case"scroll":case"scrollend":B=wo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vi;break;case"toggle":case"beforetoggle":B=St}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=P,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Bn(D,x),G!=null&&dt.push(nl(D,G,L))),Zt)break;D=D.return}0<dt.length&&(z=new B(z,at,null,s,q),Q.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==So&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=s.relatedTarget||s.toElement,B=P,at=at?si(at):null,at!==null&&(Zt=c(at),dt=at.tag,at!==Zt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(B=null,at=P),B!==at)){if(dt=Ro,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,G="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=B==null?z:fn(B),L=at==null?z:fn(at),z=new dt(G,D+"leave",B,s,q),z.target=Zt,z.relatedTarget=L,G=null,si(q)===P&&(dt=new dt(x,D+"enter",at,s,q),dt.target=L,dt.relatedTarget=Zt,G=dt),Zt=G,B&&at)e:{for(dt=AS,x=B,D=at,L=0,G=x;G;G=dt(G))L++;G=0;for(var ct=D;ct;ct=dt(ct))G++;for(;0<L-G;)x=dt(x),L--;for(;0<G-L;)D=dt(D),G--;for(;L--;){if(x===D||D!==null&&x===D.alternate){dt=x;break e}x=dt(x),D=dt(D)}dt=null}else dt=null;B!==null&&Ly(Q,z,B,dt,!1),at!==null&&Zt!==null&&Ly(Q,Zt,at,dt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var zt=tg;else if($m(z))if(eg)zt=x0;else{zt=V0;var lt=O0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Wr(P.elementType)&&(zt=tg):zt=M0;if(zt&&(zt=zt(e,P))){Wm(Q,zt,s,q);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(lt=P?fn(P):window,e){case"focusin":($m(lt)||lt.contentEditable==="true")&&(oa=lt,Dh=P,Oo=null);break;case"focusout":Oo=Dh=oa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,ug(Q,s,q);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":ug(Q,s,q)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else aa?yr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(mi&&s.locale!=="ko"&&(aa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&aa&&(wt=bo()):(ci=q,Ao="value"in ci?ci.value:ci.textContent,aa=!0)),lt=sc(P,Ot),0<lt.length&&(Ot=new di(Ot,e,null,s,q),Q.push({event:Ot,listeners:lt}),wt?Ot.data=wt:(wt=ra(s),wt!==null&&(Ot.data=wt)))),(wt=Rn?C0(e,s):I0(e,s))&&(Ot=sc(P,"onBeforeInput"),0<Ot.length&&(lt=new di("onBeforeInput","beforeinput",null,s,q),Q.push({event:lt,listeners:Ot}),lt.data=wt)),vS(Q,e,P,s,q)}Uy(Q,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function AS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Bn(s,f),P!=null&&p.unshift(nl(s,P,R))):h||(P=Bn(s,f),P!=null&&p.push(nl(s,P,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var bS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function Py(e){return(typeof e=="string"?e:""+e).replace(bS,`
`).replace(wS,"")}function zy(e,n){return n=Py(n),Py(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,Zr(e,s,o))}}function nd(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,p,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":p=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Jt(e,n,o,q,s,null)}}eu(e,f,E,R,P,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,p,E,s,null)}as(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,R,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)It(el[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,P,o,s,null)}return;default:if(Wr(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&nd(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function RS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,q=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(B)||Jt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Q&&Jt(e,n,z,B,o,Q)}}$r(e,p,E,R,P,q,f,h);return;case"select":B=p=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,s=p,o=B,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}nu(e,z,B);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Jt(e,n,at,null,o,z));for(R in o)z=o[R],B=s[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Jt(e,n,P,z,o,B)}return;default:if(Wr(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&nd(e,n,Zt,void 0,o,z);for(q in o)z=o[q],B=s[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||nd(e,n,q,z,o,B);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Jt(e,n,Q,z,o,B)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&jy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var q=R.transferSize,Q=R.initiatorType;q&&jy(Q)&&(R=R.responseEnd,p+=q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function IS(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(OS)}:Hy;function OS(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Fy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);xa(n)}function Qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function VS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function MS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Jy(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var xn=new Map,Zy=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=W.d;W.d={f:US,r:kS,D:LS,C:PS,L:zS,m:jS,X:qS,S:BS,M:HS};function US(){var e=Ki.f(),n=Zu();return e||n}function kS(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):Ki.r(e)}var Oa=typeof document>"u"?null:document;function $y(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function LS(e){Ki.D(e),$y("dns-prefetch",e,null)}function PS(e,n){Ki.C(e,n),$y("preconnect",e,n)}function zS(e,n,s){Ki.L(e,n,s);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ma(e)}xn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function jS(e,n){Ki.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!xn.has(f)&&(e=b({rel:"modulepreload",href:e},n),xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function BS(e,n,s){Ki.S(e,n,s);var o=Oa;if(o&&e){var h=ri(o).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(f))&&hd(e,s);var R=p=o.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function qS(e,n){Ki.X(e,n);var s=Oa;if(s&&e){var o=ri(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=b({src:e,async:!0},n),(n=xn.get(h))&&fd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HS(e,n){Ki.M(e,n);var s=Oa;if(s&&e){var o=ri(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&fd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Wy(e,n,s,o){var h=(h=bt.current)?ac(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(sl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),f||GS(h,e,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function GS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Ma(e){return'[src="'+nn(e)+'"]'}function rl(e){return"script[async]"+e}function e_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),oc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=t_(s),(h=xn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=Ma(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,ve(h),h):(o=s,(h=xn.get(f))&&(o=b({},s),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,s.precedence,e));return n.instance}function oc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lc=null;function n_(e,n,s){if(lc===null){var o=new Map,h=lc=new Map;h.set(s,o)}else h=lc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function i_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function FS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=t_(o),(h=xn.get(h))&&hd(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=uc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var dd=0;function KS(e,n){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*CS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(YS,e),cc=null,uc.call(e))}function YS(e,n){if(!(n.state.loading&4)){var s=cc.get(e);if(s)var o=s.get(null);else{s=new Map,cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function XS(e,n,s,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function r_(e,n,s,o,h,f,p,E,R,P,q,Q){return e=new XS(e,n,s,p,R,P,q,Q,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Xh(f),e}function a_(e){return e?(e=ca,e):ca}function o_(e,n,s,o,h,f){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(un(s,e,n),Po(s,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function md(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),md(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=En();n=lr(n);var s=Er(e,n);s!==null&&un(s,e,n),md(e,n)}}var fc=!0;function JS(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,gd(e,n,s,o)}finally{W.p=f,H.T=h}}function ZS(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,gd(e,n,s,o)}finally{W.p=f,H.T=h}}function gd(e,n,s,o){if(fc){var h=pd(o);if(h===null)ed(e,n,o,dc,s),f_(e,o);else if(WS(h,e,n,s,o))o.stopPropagation();else if(f_(e,o),n&4&&-1<$S.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}_i(f),(qt&6)===0&&(Xu=We()+500,tl(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),Zu(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,dc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,s)}}function pd(e){return e=bn(e),yd(e)}var dc=null;function yd(e){if(dc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case lo:return 2;case uo:return 8;case is:case Sh:return 32;case Fl:return 268435456;default:return 32}default:return 32}}var _d=!1,Ns=null,Os=null,Vs=null,ol=new Map,ll=new Map,Ms=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function WS(e,n,s,o,h){switch(n){case"focusin":return Ns=ul(Ns,e,n,s,o,h),!0;case"dragenter":return Os=ul(Os,e,n,s,o,h),!0;case"mouseover":return Vs=ul(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function d_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){c_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){c_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=An(s),n!==null&&u_(n),e.blockedOn=s,!1;n.shift()}return!0}function m_(e,n,s){mc(e)&&s.delete(n)}function tA(){_d=!1,Ns!==null&&mc(Ns)&&(Ns=null),Os!==null&&mc(Os)&&(Os=null),Vs!==null&&mc(Vs)&&(Vs=null),ol.forEach(m_),ll.forEach(m_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,tA)))}var pc=null;function g_(e){pc!==e&&(pc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function xa(e){function n(R){return gc(R,e)}Ns!==null&&gc(Ns,e),Os!==null&&gc(Os,e),Vs!==null&&gc(Vs,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)d_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[xe]||null;if(typeof f=="function")p||g_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[xe]||null)E=p.formAction;else if(yd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),g_(s)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}yc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=En();o_(s,o,e,n,null,null)},yc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),Zu(),n[ni]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.4")throw Error(r(527,y_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var eA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{kn=_c.inject(eA),Pe=_c}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=bp,f=wp,p=Rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=r_(e,1,!1,null,null,s,o,null,h,f,p,p_),e[ni]=n.current,td(e),new vd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=bp,p=wp,E=Rp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=r_(e,1,!0,n,s??null,o,h,R,f,p,E,p_),n.context=a_(null),s=n.current,o=En(),o=lr(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,ar(n,s),_i(n),e[ni]=n.current,td(e),new yc(n)},hl.version="19.2.4",hl}var C_;function hA(){if(C_)return Sd.exports;C_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=cA(),Sd.exports}var fA=hA();const dA=()=>{};var I_={};const nE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,v=l+2<a.length,y=v?a[l+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(V=64)),r.push(i[S],i[b],i[V],i[F])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(nE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):mA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new gA;const V=c<<2|g>>4;if(r.push(V),y!==64){const F=g<<4&240|y>>2;if(r.push(F),b!==64){const $=y<<6&192|b;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(a){const t=nE(a);return iE.encodeByteArray(t,!0)},Uc=function(a){return pA(a).replace(/\./g,"")},sE=function(a){try{return iE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof I_>"u")return;const a=I_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},EA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&sE(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return dA()||_A()||vA()||EA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},rE=a=>eh()?.emulatorHosts?.[a],TA=a=>{const t=rE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},aE=()=>eh()?.config,oE=a=>eh()?.[`_${a}`];class SA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function $a(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(a){return(await fetch(a,{credentials:"include"})).ok}function AA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const yl={};function bA(){const a={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?a.emulator.push(t):a.prod.push(t);return a}function wA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let D_=!1;function uE(a,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||yl[a]===t||yl[a]||D_)return;yl[a]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=bA().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{D_=!0,d()},V}function S(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=wA(r),F=i("text"),$=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),st=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ot=V.element;g(ot),S(et,nt);const pt=y();v(st,mt),ot.append(st,$,et,pt),document.body.appendChild(ot)}c?($.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function CA(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OA(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function VA(){return!CA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const UA="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=UA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?kA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new es(l,g,r)}}function kA(a,t){return a.replace(LA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const LA=/\{\$([^}]+)}/g;function PA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Lr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(N_(c)&&N_(d)){if(!Lr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function N_(a){return a!==null&&typeof a=="object"}function Ul(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zA(a,t){const i=new jA(a,t);return i.subscribe.bind(i)}class jA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");BA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rd(){}function $e(a){return a&&a._delegate?a._delegate:a}class Pr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class qA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new SA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GA(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(a){return a===Mr?void 0:a}function GA(a){return a.instantiationMode==="EAGER"}class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Vt||(Vt={}));const QA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},KA=Vt.INFO,YA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},XA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=YA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=KA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const JA=(a,t)=>t.some(i=>a instanceof i);let O_,V_;function ZA(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Pd=new WeakMap,hE=new WeakMap,Cd=new WeakMap,cm=new WeakMap;function WA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Bs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&cE.set(i,a)}).catch(()=>{}),cm.set(t,a),t}function t1(a){if(Pd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Pd.set(a,t)}let zd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Pd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||hE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function e1(a){zd=a(zd)}function n1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Id(this),t,...i);return hE.set(r,t.sort?t.sort():[t]),Bs(r)}:$A().includes(a)?function(...t){return a.apply(Id(this),t),Bs(cE.get(this))}:function(...t){return Bs(a.apply(Id(this),t))}}function i1(a){return typeof a=="function"?n1(a):(a instanceof IDBTransaction&&t1(a),JA(a,ZA())?new Proxy(a,zd):a)}function Bs(a){if(a instanceof IDBRequest)return WA(a);if(Cd.has(a))return Cd.get(a);const t=i1(a);return t!==a&&(Cd.set(a,t),cm.set(t,a)),t}const Id=a=>cm.get(a);function s1(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Bs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Bs(d.result),v.oldVersion,v.newVersion,Bs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const r1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],Dd=new Map;function M_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=a1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||r1.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Dd.set(t,c),c}e1(a=>({...a,get:(t,i,r)=>M_(t,i)||a.get(t,i,r),has:(t,i)=>!!M_(t,i)||a.has(t,i)}));class o1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(l1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function l1(a){return a.getComponent()?.type==="VERSION"}const jd="@firebase/app",x_="0.14.8";const Ji=new um("@firebase/app"),u1="@firebase/app-compat",c1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",p1="@firebase/database",y1="@firebase/data-connect",_1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",S1="@firebase/installations-compat",A1="@firebase/messaging",b1="@firebase/messaging-compat",w1="@firebase/performance",R1="@firebase/performance-compat",C1="@firebase/remote-config",I1="@firebase/remote-config-compat",D1="@firebase/storage",N1="@firebase/storage-compat",O1="@firebase/firestore",V1="@firebase/ai",M1="@firebase/firestore-compat",x1="firebase",U1="12.9.0";const Bd="[DEFAULT]",k1={[jd]:"fire-core",[u1]:"fire-core-compat",[h1]:"fire-analytics",[c1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[p1]:"fire-rtdb",[y1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[S1]:"fire-iid-compat",[A1]:"fire-fcm",[b1]:"fire-fcm-compat",[w1]:"fire-perf",[R1]:"fire-perf-compat",[C1]:"fire-rc",[I1]:"fire-rc-compat",[D1]:"fire-gcs",[N1]:"fire-gcs-compat",[O1]:"fire-fst",[M1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};const kc=new Map,L1=new Map,qd=new Map;function U_(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qa(a){const t=a.name;if(qd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,a);for(const i of kc.values())U_(i,a);for(const i of L1.values())U_(i,a);return!0}function hm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const P1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new xl("app","Firebase",P1);class z1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Wa=U1;function fE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Bd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=aE()),!i)throw qs.create("no-options");const c=kc.get(l);if(c){if(Lr(i,c.options)&&Lr(r,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new FA(l);for(const v of qd.values())d.addComponent(v);const g=new z1(i,r,d);return kc.set(l,g),g}function dE(a=Bd){const t=kc.get(a);if(!t&&a===Bd&&aE())return fE();if(!t)throw qs.create("no-app",{appName:a});return t}function Hs(a,t,i){let r=k1[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new Pr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const j1="firebase-heartbeat-database",B1=1,Al="firebase-heartbeat-store";let Nd=null;function mE(){return Nd||(Nd=s1(j1,B1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw qs.create("idb-open",{originalErrorMessage:a.message})})),Nd}async function q1(a){try{const i=(await mE()).transaction(Al),r=await i.objectStore(Al).get(gE(a));return await i.done,r}catch(t){if(t instanceof es)Ji.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function k_(a,t){try{const r=(await mE()).transaction(Al,"readwrite");await r.objectStore(Al).put(t,gE(a)),await r.done}catch(i){if(i instanceof es)Ji.warn(i.message);else{const r=qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(r.message)}}}function gE(a){return`${a.name}!${a.options.appId}`}const H1=1024,G1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>G1){const l=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:r}=Q1(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function Q1(a,t=H1){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),P_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),P_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await q1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function P_(a){return Uc(JSON.stringify({version:2,heartbeats:a})).length}function Y1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function X1(a){Qa(new Pr("platform-logger",t=>new o1(t),"PRIVATE")),Qa(new Pr("heartbeat",t=>new F1(t),"PRIVATE")),Hs(jd,x_,a),Hs(jd,x_,"esm2020"),Hs("fire-js","")}X1("");var J1="firebase",Z1="12.9.0";Hs(J1,Z1,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,pE;(function(){var a;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,U){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return A.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=A+(U^I&(N^U))+M[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(N^A&(I^N))+M[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(I^U&(A^I))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(A^N&(U^A))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(U^I&(N^U))+M[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(N^A&(I^N))+M[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(I^U&(A^I))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(A^N&(U^A))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(U^I&(N^U))+M[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(N^A&(I^N))+M[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(I^U&(A^I))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(A^N&(U^A))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(U^I&(N^U))+M[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(N^A&(I^N))+M[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(I^U&(A^I))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(A^N&(U^A))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(N^U&(I^N))+M[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(A^I))+M[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(U^A))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(N^U))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(I^N))+M[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(A^I))+M[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(U^A))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(N^U))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(I^N))+M[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(A^I))+M[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(U^A))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(N^U))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(I^N))+M[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(A^I))+M[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(U^A))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(N^U))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(I^N^U)+M[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^N)+M[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^I)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^A)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^U)+M[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^N)+M[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^I)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^A)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^U)+M[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^N)+M[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^I)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^A)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^U)+M[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^N)+M[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^I)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^A)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(N^(I|~U))+M[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~N))+M[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~I))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~A))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~U))+M[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~N))+M[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~I))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~A))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~U))+M[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~N))+M[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~I))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~A))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~U))+M[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~N))+M[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~I))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(M[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<A;)if(M[N++]=C[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[A++]=this.g[I]>>>M&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;M&&U==A||(I[N]=U,M=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return et(y(-C));const A=[];let I=1;for(let M=0;C>=I;M++)A[M]=C/I|0,I*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return et(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let M=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var b=v(0),V=v(1),F=v(16777216);a=d.prototype,a.m=function(){if(nt(this))return-et(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(nt(this))return"-"+et(this).toString(C);const A=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=pt(I,A).g;I=mt(I,N.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function nt(C){return C.h==-1}a.l=function(C){return C=mt(this,C),nt(C)?-1:$(C)?0:1};function et(C){const A=C.g.length,I=[];for(let M=0;M<A;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}a.abs=function(){return nt(this)?et(this):this},a.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=A;N++){let U=M+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,A){return C.add(et(A))}a.j=function(C){if($(this)||$(C))return b;if(nt(this))return nt(C)?et(this).j(et(C)):et(et(this).j(C));if(nt(C))return et(this.j(et(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,ne=C.i(N)>>>16,Ce=C.i(N)&65535;I[2*M+2*N]+=w*Ce,st(I,2*M+2*N),I[2*M+2*N+1]+=U*Ce,st(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ne,st(I,2*M+2*N+1),I[2*M+2*N+2]+=U*ne,st(I,2*M+2*N+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function st(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ot(C,A){this.g=C,this.h=A}function pt(C,A){if($(A))throw Error("division by zero");if($(C))return new ot(b,b);if(nt(C))return A=pt(et(C),A),new ot(et(A.g),et(A.h));if(nt(A))return A=pt(C,et(A)),new ot(et(A.g),A.h);if(C.g.length>30){if(nt(C)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=A;M.l(C)<=0;)I=Dt(I),M=Dt(M);var N=Rt(I,1),U=Rt(M,1);for(M=Rt(M,2),I=Rt(I,2);!$(M);){var w=U.add(M);w.l(C)<=0&&(N=N.add(I),U=w),M=Rt(M,1),I=Rt(I,1)}return A=mt(C,N.j(A)),new ot(N,A)}for(N=b;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(I),w=U.j(A);nt(w)||w.l(C)>0;)I-=M,U=y(I),w=U.j(A);$(U)&&(U=V),N=N.add(U),C=mt(C,w)}return new ot(N,C)}a.B=function(C){return pt(this,C).h},a.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},a.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},a.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Dt(C){const A=C.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Rt(C,A){const I=A>>5;A%=32;const M=C.g.length-I,N=[];for(let U=0;U<M;U++)N[U]=A>0?C.i(U+I)>>>A|C.i(U+I+1)<<32-A:C.i(U+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Gs=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,dl,_E,wc,Hd,vE,EE,TE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,k,j){for(var Z=Array(arguments.length-2),St=2;St<arguments.length;St++)Z[St-2]=arguments[St];return m.prototype[k].apply(T,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const j=k.length||0;u.length=_+j;for(let Z=0;Z<j;Z++)u[_+Z]=k[Z]}else u.push(k)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,_){const T=ot.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new nt(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,Rt=!1,C=new st,A=()=>{const u=Promise.resolve(void 0);Dt=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(_){et(_)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ne,N),ne.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let j=0;j<K.length;j++)_=K[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,k){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const Z=bt(u,m,T,k);return Z>-1?(m=u[Z],_||(m.fa=!1)):(m=new W(m,this.src,j,!!T,k),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),j;(j=k>=0)&&Array.prototype.splice.call(T,k,1),j&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,T){for(let k=0;k<u.length;++k){const j=u[k];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ie(u,m,_,T,k){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(u,m[j],_,T,k);return null}return _=oo(_),u&&u[Ce]?u.J(m,_,g(T)?!!T.capture:!1,k):nr(u,m,_,!1,T,k)}function nr(u,m,_,T,k,j){if(!m)throw Error("Invalid event type");const Z=g(k)?!!k.capture:!!k;let St=ir(u);if(St||(u[kt]=St=new rt(u)),_=St.add(m,_,T,Z,j),_.proxy)return _;if(T=Fr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(k=Z),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fr(){function u(_){return m.call(u.src,u.listener,_)}const m=ro;return u}function Qr(u,m,_,T,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Qr(u,m[j],_,T,k);else T=g(T)?!!T.capture:!!T,_=oo(_),u&&u[Ce]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=bt(m,_,T,k),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,T,k)),(_=u>-1?m[u]:null)&&Kr(_))}function Kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Zn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ir(m))?(_t(_,u),_.h==0&&(_.src=null,m[kt]=null)):ht(u)}}}function Zn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ne(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Kr(u),u=_.call(T,m)}return u}function ir(u){return u=u[kt],u instanceof rt?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Qr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(T,u),tt(m,k)}k=!0;let j,Z;if(_)for(Z=_.length-1;Z>=0;Z--)j=m.g=_[Z],k=ns(j,T,!0,m)&&k;if(j=m.g=u,k=ns(j,T,!0,m)&&k,k=ns(j,T,!1,m)&&k,_)for(Z=0;Z<_.length;Z++)j=m.g=_[Z],k=ns(j,T,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ns(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let j=0;j<m.length;++j){const Z=m[j];if(Z&&!Z.da&&Z.capture==_){const St=Z.listener,fe=Z.ha||Z.src;Z.fa&&_t(u.i,Z),k=St.call(fe,T)!==!1&&k}}return k&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Gl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){M.call(this),this.h=u,this.g={}}b(sr,M);var lo=[];function uo(u){Pt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Kr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),uo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,Sh=d.JSON.parse,Fl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ql(){}function Kl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}b(Pe,N);function Sn(){N.call(this,"c")}b(Sn,N);var he={},Yl=null;function Yr(){return Yl=Yl||new pe}he.Ia="serverreachability";function Xl(u){N.call(this,he.Ia,u)}b(Xl,N);function $n(u){const m=Yr();De(m,new Xl(m))}he.STAT_EVENT="statevent";function rr(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}b(rr,N);function ye(u){const m=Yr();De(m,new rr(m,u))}he.Ja="timingevent";function Wn(u,m){N.call(this,he.Ja,u),this.size=m}b(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ah(u,m,_,T,k,j){u.info(function(){if(u.g)if(j){var Z="",St=j.split("&");for(let Bt=0;Bt<St.length;Bt++){var fe=St[Bt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Rn=se.split("_");Z=Rn.length>=2&&Rn[1]=="type"?Z+(se+"="+fe+"&"):Z+(se+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+Z})}function Jl(u,m,_,T,k,j,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+j+" "+Z})}function ei(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,_)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return is(j)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function lr(){}b(lr,Ql),lr.prototype.g=function(){return new XMLHttpRequest},ho=new lr;function Di(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function ni(u,m,_){u.M=1,u.A=ur(Ee(m)),u.u=_,u.R=!0,Xr(u,null)}function Xr(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Wr(_.i,"t",T),u.C=0,_=u.j.L,u.h=new zn,u.g=fu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(lo[0]=k.toString()),k=lo);for(let j=0;j<k.length;j++){const Z=ie(_,k[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const St=qn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||fe==7||(fe==8||Bt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var _=wh(this);if(this.o=m==200,Jl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),An(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=Wl(this,_),se==xe){St==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),ri(this,se);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Co(Z),Z.P=!0,ye(11))}}else ei(this.i,this.l,_,null),ri(this,_);St==4&&fn(this),this.o&&!this.K&&(St==4?lu(this.j,this):(this.o=!1,ii(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),An(this)}}}catch{}};function wh(u){if(!$l(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,k=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(k&&j==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function $l(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?xe:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?xe:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&($n(),ye(17)),fn(this),this.m=2,An(this)):Jr(this,this.T-u)};function An(u){u.j.I==0||u.K||lu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)sa(_),hs(_);else break t;pr(_),ye(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(y(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else di(_,11)}else if((u.L||_.g==u)&&sa(_),!w(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let Bt=k[m];const se=Bt[0];if(!(se<=_.K))if(_.K=se,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const Rn=Bt[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const mi=Bt[4];mi!=null&&(_.za=mi,_.j.info("SVER="+_.za));const Hn=Bt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Gn=u.g;if(Gn){const yr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var j=T.h;j.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(go(j,j.h),j.h=null))}if(T.G){const ra=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Ft(T.J,T.G,ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var Z=u;if(T.na=hu(T,T.L?T.ba:null,T.W),Z.L){po(T.h,Z);var St=Z,fe=T.O;fe&&(St.H=fe),St.D&&(si(St),ii(St)),T.g=Z}else au(T);_.i.length>0&&fi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||di(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?di(_,7):wo(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let k,j=null;T>=0?(k=u[_].substring(0,T),j=u[_].substring(T+1)):k=u[_],m(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,_o(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,$r,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,$r,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(cr(_,_.charAt(0)=="/"?vo:eu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",cr(_,nu)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let Z=0;Z<k.length;){const St=k[Z++];St=="."?T&&Z==k.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&Z==k.length&&j.push("")):(j.push(St),T=!0)}T=j.join("/")}else T=k}return _?m.h=T:_=u.i.toString()!=="",_?_o(m,su(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Ue(u,m,_){u.j=_?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,_){m instanceof as?(u.i=m,ta(u.i,u.l)):(_||(m=cr(m,rs)),u.i=new as(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function ur(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $r=/[#\/\?@]/g,eu=/[#\?:]/g,vo=/[#\?]/g,rs=/[#\?@]/g,nu=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=as.prototype,a.add=function(u,m){sn(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function iu(u,m){sn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)};function To(u,m){sn(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return sn(this),this.i=null,u=os(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Wr(u,m,_){iu(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),F(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const k=Di(_);_=To(this,_);for(let j=0;j<_.length;j++){let Z=k;_[j]!==""&&(Z+="="+Di(_[j])),u.push(Z)}}return this.i=u.join("&")};function su(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const k=T.toLowerCase();T!=k&&(iu(this,T),Wr(this,k,_))},u)),u.j=m}function jn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=S(bn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(bn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(bn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(bn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const _=new Ln,T=new AbortController,k=setTimeout(()=>{T.abort(),bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(k),j.ok?bn(_,"TestPingServer: ok",!0,m):bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),bn(_,"TestPingServer: error",!1,m)})}function bn(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function ls(){this.g=new Fl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Ql),ui.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(hr,pe),a=hr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&ea(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Pt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function fr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=wn(_),typeof u=="string"?_!=null&&Di(_):Ft(u,m,_))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,pe);var ci=/^https?$/i,Ao=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){dr(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ao,m,void 0)>=0)||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of _)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){dr(this,j)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ni(u)}function bo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},a.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),qn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=j===0){let Z=String(u.D).match(tu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!ci.test(Z?Z.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=qn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",bo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Zl(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[k]||[];m[k]=j,j.push(_)}Gt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=hu(this,null,this.W),fi(this)};function wo(u){if(na(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),gr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=ur(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=fu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}cu(u)}function hs(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function na(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Dt||A(),Rt||(Dt(),Rt=!0),C.add(m,u),u.D=0}}function ia(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),uu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Pn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),tt(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ru(this,k,m),_=Ee(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),gr(this,_),j&&(this.R?m="headers="+Di(wn(j))+"&"+m:this.u&&fr(_,this.u,j)),go(this.h,k),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),k.U=!0,ni(k,_,null)):ni(k,_,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),gr(u,T),u.u&&u.o&&fr(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,_),ni(_,T,m)}function gr(u,m){u.H&&Pt(u.H,function(_,T){Ft(m,T,_)}),u.l&&Pt({},function(_,T){Ft(m,T,_)})}function ru(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let St=-1;for(;;){const fe=["count="+_];St==-1?_>0?(St=k[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Bt=!0;for(let se=0;se<_;se++){var j=k[se].g;const Rn=k[se].map;if(j-=St,j<0)St=Math.max(0,k[se].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var Z=Rn instanceof Map?Rn:Object.entries(Rn);for(const[mi,Hn]of Z){let Gn=Hn;g(Hn)&&(Gn=is(Hn)),fe.push(j+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Rn)}}if(Bt){Z=fe.join("&");break t}}Z=void 0}return u=u.i.splice(0,_),m.G=u,Z}function au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Dt||A(),Rt||(Dt(),Rt=!0),C.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),uu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hs(this),ou(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ur(Ee(m)),_.u=null,_.R=!0,Xr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),pr(this),ye(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lu(u,m){var _=null;if(u.g==m){sa(u),Co(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Yr(),De(T,new Wn(T,_)),fi(u)}else au(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&pr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function uu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const k=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ur(T),k?jn(T.toString(),_):So(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),cu(u),na(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function cu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function hu(u,m,_){var T=_ instanceof dn?Ee(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const j=new dn(null);T&&Ue(j,T),m&&(j.g=m),k&&ss(j,k),_&&(j.h=_),T=j}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),gr(u,T),T}function fu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ui({ab:_})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}a=du.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,tn.Z.N.call(this)};function mu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(mu,Pe);function gu(){Sn.call(this),this.status=1}b(gu,Sn);function Vi(u){this.g=u}b(Vi,du),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new mu(u))},Vi.prototype.pa=function(u){De(this.g,new gu)},Vi.prototype.oa=function(){De(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,TE=function(){return new fs},EE=function(){return Yr()},vE=he,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,wc=or,co.COMPLETE="complete",_E=co,Kl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Kl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,yE=Yt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let to="12.9.0";function $1(a){to=a}const zr=new um("@firebase/firestore");function Ua(){return zr.logLevel}function it(a,...t){if(zr.logLevel<=Vt.DEBUG){const i=t.map(fm);zr.debug(`Firestore (${to}): ${a}`,...i)}}function Zi(a,...t){if(zr.logLevel<=Vt.ERROR){const i=t.map(fm);zr.error(`Firestore (${to}): ${a}`,...i)}}function jr(a,...t){if(zr.logLevel<=Vt.WARN){const i=t.map(fm);zr.warn(`Firestore (${to}): ${a}`,...i)}}function fm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,SE(a,r,i)}function SE(a,t,i){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Ht(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||SE(t,l,r)}function Tt(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class W1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class tb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class eb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new AE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class nb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ib{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new nb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=rb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Mt(a,t){return a<t?-1:a>t?1:0}function Gd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Od(l)===Od(c)?Mt(l,c):Od(l)?1:-1}return Mt(a.length,t.length)}const ab=55296,ob=57343;function Od(a){const t=a.charCodeAt(0);return t>=ab&&t<=ob}function Ka(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const B_="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class oe extends vi{construct(t,i,r){return new oe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return lb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new Fe([B_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(oe.fromString(t))}static fromName(t){return new ft(oe.fromString(t).popFirst(5))}static empty(){return new ft(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new oe(t.slice()))}}function ub(a,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function cb(a,t,i,r){if(t===!0&&r===!0)throw new ut(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function q_(a){if(!ft.isDocumentKey(a))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function bE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Fs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mm(a);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function kl(a,t){if(!bE(a))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const H_=-62135596800,G_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*G_);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<H_)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ee(0,0))}static max(){return new vt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function hb(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Ks(l,ft.empty(),t)}function fb(a){return new Ks(a.readTime,a.key,bl)}class Ks{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ks(vt.min(),ft.empty(),bl)}static max(){return new Ks(vt.max(),ft.empty(),bl)}}function db(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}const mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==mb)throw a;it("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>r(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((l=>l?Y.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++g,g===c&&r(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function pb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(a){return a.name==="IndexedDbTransactionError"}class nh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nh.ce=-1;const gm=-1;function ih(a){return a==null}function Lc(a){return a===0&&1/a==-1/0}function yb(a){return typeof a=="number"&&Number.isInteger(a)&&!Lc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const wE="";function _b(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=F_(t)),t=vb(a.get(i),t);return F_(t)}function vb(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function F_(a){return a+wE+""}function Q_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function tr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function RE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Me(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const i=Eb.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const IE="server_timestamp",DE="__type__",NE="__previous_value__",OE="__local_write_time__";function pm(a){return(a?.mapValue?.fields||{})[DE]?.stringValue===IE}function sh(a){const t=a.mapValue.fields[NE];return pm(t)?sh(t):t}function wl(a){const t=Ys(a.mapValue.fields[OE].timestampValue);return new ee(t.seconds,t.nanos)}class Tb{constructor(t,i,r,l,c,d,g,v,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const Pc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||Pc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}function Sb(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(a.options.projectId,t)}const VE="__type__",Ab="__max__",Tc={mapValue:{}},ME="__vector__",zc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pm(a)?4:wb(a)?9007199254740991:bb(a)?10:11:gt(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Js(a);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return wl(a).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),g=Ys(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Lc(d)===Lc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return Ka(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Q_(d)!==Q_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ri(d[v],g[v])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function Cl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(a,t){if(a===t)return 0;const i=Js(a),r=Js(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,t);case 3:return Y_(a.timestampValue,t.timestampValue);case 4:return Y_(wl(a),wl(t));case 5:return Gd(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=Xs(c),v=Xs(d);return g.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=Mt(g[y],v[y]);if(S!==0)return S}return Mt(g.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ge(c.latitude),ge(d.latitude));return g!==0?g:Mt(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return X_(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[zc]?.arrayValue,S=v[zc]?.arrayValue,b=Mt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:X_(y,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const V=Gd(v[b],S[b]);if(V!==0)return V;const F=Ya(g[v[b]],y[S[b]]);if(F!==0)return F}return Mt(v.length,S.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Y_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Ys(a),r=Ys(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function X_(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Ya(i[l],r[l]);if(c)return c}return Mt(i.length,r.length)}function Xa(a){return Fd(a)}function Fd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ys(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Fd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Fd(i.fields[d])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Rc(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(a);return t?16+Rc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Rc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return tr(r.fields,((c,d)=>{l+=c.length+Rc(d)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function Qd(a){return!!a&&"integerValue"in a}function ym(a){return!!a&&"arrayValue"in a}function J_(a){return!!a&&"nullValue"in a}function Z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cc(a){return!!a&&"mapValue"in a}function bb(a){return(a?.mapValue?.fields||{})[VE]?.stringValue===ME}function _l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return tr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=_l(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(a.arrayValue.values[i]);return t}return{...a}}function wb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ab}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=_l(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){tr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new hn(_l(this.value))}}function xE(a){const t=[];return tr(a.fields,((i,r)=>{const l=new Fe([i]);if(Cc(r)){const c=xE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Je{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,vt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(t,i){this.position=t,this.inclusive=i}}function $_(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Rb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class UE{}class Oe extends UE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Ib(t,i,r):i==="array-contains"?new Ob(t,r):i==="in"?new Vb(t,r):i==="not-in"?new Mb(t,r):i==="array-contains-any"?new xb(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Db(t,r):new Nb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(a){return a.op==="and"}function LE(a){return Cb(a)&&kE(a)}function Cb(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Kd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Xa(a.value);if(LE(a))return a.filters.map((t=>Kd(t))).join(",");{const t=a.filters.map((i=>Kd(i))).join(",");return`${a.op}(${t})`}}function PE(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&PE(d,l.filters[g])),!0):!1})(a,t):void gt(19439)}function zE(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(a):"Filter"}class Ib extends Oe{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class Db extends Oe{constructor(t,i){super(t,"in",i),this.keys=jE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Nb extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=jE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function jE(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class Ob extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ym(i)&&Cl(i.arrayValue,this.value)}}class Vb extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class Mb extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class xb extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cl(this.value.arrayValue,r)))}}class Ub{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function tv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new Ub(a,t,i,r,l,c,d)}function _m(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Kd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ih(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Xa(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Xa(r))).join(",")),t.Te=i}return t.Te}function vm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Rb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!PE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!W_(a.startAt,t.startAt)&&W_(a.endAt,t.endAt)}function Yd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class rh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kb(a,t,i,r,l,c,d,g){return new rh(a,t,i,r,l,c,d,g)}function Em(a){return new rh(a)}function ev(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Lb(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Pb(a){return a.collectionGroup!==null}function vl(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bc(c,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Bc(Fe.keyField(),r))}return t.Ie}function Ei(a){const t=Tt(a);return t.Ee||(t.Ee=zb(t,vl(a))),t.Ee}function zb(a,t){if(a.limitType==="F")return tv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bc(l.field,c)}));const i=a.endAt?new jc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new jc(a.startAt.position,a.startAt.inclusive):null;return tv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Xd(a,t,i){return new rh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ah(a,t){return vm(Ei(a),Ei(t))&&a.limitType===t.limitType}function BE(a){return`${_m(Ei(a))}|lt:${a.limitType}`}function ka(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),ih(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function oh(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of vl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,v){const y=$_(d,g,v);return d.inclusive?y<=0:y<0})(r.startAt,vl(r),l)||r.endAt&&!(function(d,g,v){const y=$_(d,g,v);return d.inclusive?y>=0:y>0})(r.endAt,vl(r),l))})(a,t)}function jb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function qE(a){return(t,i)=>{let r=!1;for(const l of vl(a)){const c=Bb(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Bb(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Ya(v,y):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class Hr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){tr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const qb=new le(ft.comparator);function $i(){return qb}const HE=new le(ft.comparator);function ml(...a){let t=HE;for(const i of a)t=t.insert(i.key,i);return t}function GE(a){let t=HE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function xr(){return El()}function FE(){return El()}function El(){return new Hr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Hb=new le(ft.comparator),Gb=new Me(ft.comparator);function xt(...a){let t=Gb;for(const i of a)t=t.add(i);return t}const Fb=new Me(Mt);function Qb(){return Fb}function Tm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function QE(a){return{integerValue:""+a}}function Kb(a,t){return yb(t)?QE(t):Tm(a,t)}class lh{constructor(){this._=void 0}}function Yb(a,t,i){return a instanceof qc?(function(l,c){const d={fields:{[DE]:{stringValue:IE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&pm(c)&&(c=sh(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,t):a instanceof Il?YE(a,t):a instanceof Dl?XE(a,t):(function(l,c){const d=KE(l,c),g=nv(d)+nv(l.Ae);return Qd(d)&&Qd(l.Ae)?QE(g):Tm(l.serializer,g)})(a,t)}function Xb(a,t,i){return a instanceof Il?YE(a,t):a instanceof Dl?XE(a,t):i}function KE(a,t){return a instanceof Hc?(function(r){return Qd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class qc extends lh{}class Il extends lh{constructor(t){super(),this.elements=t}}function YE(a,t){const i=JE(t);for(const r of a.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Dl extends lh{constructor(t){super(),this.elements=t}}function XE(a,t){let i=JE(t);for(const r of a.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class Hc extends lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function nv(a){return ge(a.integerValue||a.doubleValue)}function JE(a){return ym(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Jb(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Il&&l instanceof Il||r instanceof Dl&&l instanceof Dl?Ka(r.elements,l.elements,Ri):r instanceof Hc&&l instanceof Hc?Ri(r.Ae,l.Ae):r instanceof qc&&l instanceof qc})(a.transform,t.transform)}class Zb{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class uh{}function ZE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new WE(a.key,Ti.none()):new Ll(a.key,a.data,Ti.none());{const i=a.data,r=hn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new er(a.key,r,new Tn(l.toArray()),Ti.none())}}function $b(a,t,i){a instanceof Ll?(function(l,c,d){const g=l.value.clone(),v=sv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof er?(function(l,c,d){if(!Ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=sv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll($E(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(a,t,i,r){return a instanceof Ll?(function(c,d,g,v){if(!Ic(c.precondition,d))return g;const y=c.value.clone(),S=rv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof er?(function(c,d,g,v){if(!Ic(c.precondition,d))return g;const y=rv(c.fieldTransforms,v,d),S=d.data;return S.setAll($E(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(c,d,g){return Ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function Wb(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=KE(r.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(r.field,c))}return i||null}function iv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ka(r,l,((c,d)=>Jb(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ll extends uh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class er extends uh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function sv(a,t,i){const r=new Map;Ht(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,Xb(d,g,i[l]))}return r}function rv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Yb(c,d,t))}return r}class WE extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tw extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ew{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&$b(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=FE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=ZE(d,g);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,r)=>iv(i,r)))&&Ka(this.baseMutations,t.baseMutations,((i,r)=>iv(i,r)))}}class Sm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Hb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Sm(t,i,r,l)}}class nw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Lt;function sw(a){switch(a){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function tT(a){if(a===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(a){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:a})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function rw(){return new TextEncoder}const aw=new Gs([4294967295,4294967295],0);function av(a){const t=rw().encode(a),i=new pE;return i.update(t),new Uint8Array(i.digest())}function ov(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,r],0),new Gs([l,c],0)]}class Am{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Gs.fromNumber(r)));return l.compare(aw)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=av(t),[r,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Am(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=av(t),[r,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ch{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ch(vt.min(),l,new le(Mt),$i(),xt())}}class Pl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Pl(r,i,xt(),xt(),xt())}}class Dc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class eT{constructor(t,i){this.targetId=t,this.Ce=i}}class nT{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class lv{constructor(){this.ve=0,this.Fe=uv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),r=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new Pl(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=uv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ow{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.He=Sc(),this.Je=Sc(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Yd(c))if(r===0){const d=new ft(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xs(r).toUint8Array()}catch(v){if(v instanceof CE)return jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Am(d,l,c)}catch(v){return jr(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Yd(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=xt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ch(t,i,this.Ze,this.je,r);return this.je=$i(),this.He=Sc(),this.Je=Sc(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new lv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new le(ft.comparator)}function uv(){return new le(ft.comparator)}const lw={asc:"ASCENDING",desc:"DESCENDING"},uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cw={and:"AND",or:"OR"};class hw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(a,t){return a.useProto3Json||ih(t)?t:{value:t}}function Gc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function fw(a,t){return Gc(a,t.toTimestamp())}function Si(a){return Ht(!!a,49232),vt.fromTimestamp((function(i){const r=Ys(i);return new ee(r.seconds,r.nanos)})(a))}function bm(a,t){return Zd(a,t).canonicalString()}function Zd(a,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function sT(a){const t=oe.fromString(a);return Ht(uT(t),10190,{key:t.toString()}),t}function $d(a,t){return bm(a.databaseId,t.path)}function Vd(a,t){const i=sT(t);if(i.get(1)!==a.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(aT(i))}function rT(a,t){return bm(a.databaseId,t)}function dw(a){const t=sT(a);return t.length===4?oe.emptyPath():aT(t)}function Wd(a){return new oe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function aT(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function cv(a,t,i){return{name:$d(a,t),fields:i.value.mapValue.fields}}function mw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Ht(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:tT(y.code);return new ut(S,y.message||"")})(d);i=new nT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Vd(a,r.document.name),c=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):vt.min(),g=new hn({mapValue:{fields:r.document.fields}}),v=Je.newFoundDocument(l,c,d,g),y=r.targetIds||[],S=r.removedTargetIds||[];i=new Dc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Vd(a,r.document),c=r.readTime?Si(r.readTime):vt.min(),d=Je.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Vd(a,r.document),c=r.removedTargetIds||[];i=new Dc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new iw(l,c),g=r.targetId;i=new eT(g,d)}}return i}function gw(a,t){let i;if(t instanceof Ll)i={update:cv(a,t.key,t.value)};else if(t instanceof WE)i={delete:$d(a,t.key)};else if(t instanceof er)i={update:cv(a,t.key,t.data),updateMask:bw(t.fieldMask)};else{if(!(t instanceof tw))return gt(16599,{dt:t.type});i={verify:$d(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:fw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,t.precondition)),i}function pw(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(vt.min())&&(d=Si(c)),new Zb(d,l.transformResults||[])})(i,t)))):[]}function yw(a,t){return{documents:[rT(a,t.path)]}}function _w(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=rT(a,l);const c=(function(y){if(y.length!==0)return lT(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(V){return{field:La(V.field),direction:Tw(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function vw(a){let t=dw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const V=oT(b);return V instanceof Ci&&LE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function($){return new Bc(Pa($.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let V;return V=typeof b=="object"?b.value:b,ih(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(b){const V=!!b.before,F=b.values||[];return new jc(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const V=!b.before,F=b.values||[];return new jc(F,V)})(i.endAt)),kb(t,l,d,c,g,"F",v,y)}function Ew(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Pa(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>oT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function Tw(a){return lw[a]}function Sw(a){return uw[a]}function Aw(a){return cw[a]}function La(a){return{fieldPath:a.canonicalString()}}function Pa(a){return Fe.fromServerFormat(a.fieldPath)}function lT(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(J_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(J_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:Sw(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>lT(l)));return r.length===1?r[0]:{compositeFilter:{op:Aw(i.op),filters:r}}})(a):gt(54877,{filter:a})}function bw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function cT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class js{constructor(t,i,r,l,c=vt.min(),d=vt.min(),g=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ww{constructor(t){this.yt=t}}function Rw(a){const t=vw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Xd(t,t.limit,"L"):t}class Cw{constructor(){this.Sn=new Iw}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ks.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Iw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(oe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(oe.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(hT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ja{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ja(0)}static ar(){return new Ja(-1)}}const fv="LruGarbageCollector",Dw=1048576;function dv([a,t],[i,r]){const l=Mt(a,i);return l===0?Mt(t,r):l}class Nw{constructor(t){this.Pr=t,this.buffer=new Me(dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();dv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ow{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?it(fv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Ar(3e5)}))}}class Vw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(nh.ce);const r=new Nw(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(hv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Ua()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Mw(a,t){return new Vw(a,t)}class xw{constructor(){this.changes=new Hr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Uw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class kw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Tl(r.mutation,l,Tn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=xt()){const l=xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=ml();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=xr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,xt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=$i();const d=El(),g=(function(){return El()})();return i.forEach(((v,y)=>{const S=r.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof er)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Tl(S.mutation,y,S.mutation.getFieldMask(),ee.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new Uw(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=El();let l=new le(((d,g)=>d-g)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=r.get(v)||Tn.empty();S=g.applyToLocalView(y,S),r.set(v,S);const b=(l.get(g.batchId)||xt()).add(v);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,b=FE();S.forEach((V=>{if(!c.has(V)){const F=ZE(i.get(V),r.get(V));F!==null&&b.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return Lb(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Pb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Y.resolve(xr());let g=bl,v=c;return d.next((y=>Y.forEach(y,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,xt()))).next((S=>({batchId:g,changes:GE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=ml();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((g=>Y.forEach(g,(v=>{const y=(function(b,V){return new rh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((S=>{S.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let g=ml();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Tl(S.mutation,y,Tn.empty(),ee.now()),oh(i,y)&&(g=g.insert(v,y))})),g}))}}class Lw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Rw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),Y.resolve()}}class Pw{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=xr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const l=xr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>r&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=c.get(y.largestBatchId);S===null&&(S=xr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=xr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=l)););return Y.resolve(g)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new nw(i,r));let c=this.Lr.get(i);c===void 0&&(c=xt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class zw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class wm{constructor(){this.kr=new Me(Le.Kr),this.qr=new Me(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new ft(new oe([])),r=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new oe([])),r=new Le(i,t),l=new Le(i,t+1);let c=xt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class jw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Le.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ew(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gm:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),Y.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let g=new Me(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),Y.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Le(i,0),l=this.Jr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Bw{constructor(t){this.ti=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=$i();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=$i();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||db(fb(S),r)<=0||(l.has(S.key)||oh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ni(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new qw(this)}getSize(t){return Y.resolve(this.size)}}class qw extends xw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Hw{constructor(t){this.persistence=t,this.ri=new Hr((i=>_m(i)),vm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new wm,this.targetCount=0,this.oi=Ja._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}class fT{constructor(t,i){this._i={},this.overlays={},this.ai=new nh(0),this.ui=!1,this.ui=!0,this.ci=new zw,this.referenceDelegate=t(this),this.li=new Hw(this),this.indexManager=new Cw,this.remoteDocumentCache=(function(l){return new Bw(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ww(i),this.Pi=new Lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Pw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new jw(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new Gw(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class Gw extends gb{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Ri=new wm,this.Ai=null}static Vi(t){return new Rm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(r=>{const l=ft.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Fc{constructor(t,i){this.persistence=t,this.fi=new Hr((r=>_b(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Mw(this,i)}static Vi(t,i){return new Fc(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(r++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}wr(t,i,r){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Cm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,i.fromCache,r,l)}}class Fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Qw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return VA()?8:pb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Fw;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Ua()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ua()<=Vt.DEBUG&&it("QueryEngine","Query:",ka(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ua()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(i))):Y.resolve())}gs(t,i){if(ev(i))return Y.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=xt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,Xd(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,r,l){return ev(i)||l.isEqual(vt.min())?Y.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?Y.resolve(null):(Ua()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(i)),this.Ds(t,d,i,hb(l,bl)).next((g=>g)))}))}bs(t,i){let r=new Me(qE(t));return i.forEach(((l,c)=>{oh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Ua()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ka(i)),this.fs.getDocumentsMatchingQuery(t,i,Ks.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Im="LocalStore",Kw=3e8;class Yw{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Hr((c=>_m(c)),vm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Xw(a,t,i,r){return new Yw(a,t,i,r)}async function dT(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let v=xt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Jw(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const b=y.batch,V=b.keys();let F=Y.resolve();return V.forEach(($=>{F=F.next((()=>S.getEntry(v,$))).next((nt=>{const et=y.docVersions.get($);Ht(et!==null,48541),nt.version.compareTo(et)<0&&(b.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),S.addEntry(nt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=xt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function mT(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Zw(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((S,b)=>{const V=l.get(b);if(!V)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,r)),l=l.insert(b,F),(function(nt,et,mt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Kw?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,F,S)&&g.push(i.li.updateTargetData(c,F))}));let v=$i(),y=xt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push($w(c,d,t.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!r.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return Y.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function $w(a,t,i){let r=xt(),l=xt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=$i();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):it(Im,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function Ww(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=gm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function tR(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,Y.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new js(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function tm(a,t,i){const r=Tt(a),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;it(Im,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function mv(a,t,i){const r=Tt(a);let l=vt.min(),c=xt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const b=Tt(v),V=b.Fs.get(S);return V!==void 0?Y.resolve(b.vs.get(V)):b.li.getTargetData(y,S)})(r,d,Ei(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:xt()))).next((g=>(eR(r,jb(t),g),{documents:g,ks:c})))))}function eR(a,t,i){let r=a.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Ms.set(t,r)}class gv{constructor(){this.activeTargetIds=Qb()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nR{constructor(){this.vo=new gv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iR{Mo(t){}shutdown(){}}const pv="ConnectivityMonitor";class yv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(pv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ac=null;function em(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}const Md="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Pc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=em(),g=this.Qo(t,i.toUriEncodedString());it(Md,`Sending RPC '${t}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),S=$a(y);return this.zo(t,g,v,r,S).then((b=>(it(Md,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw jr(Md,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=sR[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class aR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",fl=(a,t,i)=>{a.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends rR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=EE();fl(t,vE.STAT_EVENT,(i=>{i.stat===Hd.PROXY?it(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Hd.NOPROXY&&it(Ye,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,r,l,c){const d=em();return new Promise(((g,v)=>{const y=new yE;y.setWithCredentials(!0),y.listenOnce(_E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wc.NO_ERROR:const b=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case wc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),v(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const V=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const nt=(function(mt){const st=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})($.status);v(new ut(nt,$.message))}else v(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,r,15)}))}T_(t,i,r){const l=em(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${y}`,g);const S=d.createWebChannel(y,g);this.I_(S);let b=!1,V=!1;const F=new aR({Ho:$=>{V?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(b||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Jo:()=>S.close()});return fl(S,dl.EventType.OPEN,(()=>{V||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),fl(S,dl.EventType.CLOSE,(()=>{V||(V=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(S))})),fl(S,dl.EventType.ERROR,($=>{V||(V=!0,jr(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),F.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),fl(S,dl.EventType.MESSAGE,($=>{if(!V){const nt=$.data[0];Ht(!!nt,16349);const et=nt,mt=et?.error||et[0]?.error;if(mt){it(Ye,`RPC '${t}' stream ${l} received error:`,mt);const st=mt.status;let ot=(function(Rt){const C=we[Rt];if(C!==void 0)return tT(C)})(st),pt=mt.message;st==="NOT_FOUND"&&pt.includes("database")&&pt.includes("does not exist")&&pt.includes(this.databaseId.database)&&jr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ot===void 0&&(ot=J.INTERNAL,pt="Unknown error status: "+st+" with message "+mt.message),V=!0,F.o_(new ut(ot,pt)),S.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,nt),F.__(nt)}})),ja.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TE()}}function oR(a){return new ja(a)}function xd(){return typeof document<"u"?document:null}function hh(a){return new hw(a,!0)}ja.c_=!1;class gT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _v="PersistentStream";class pT{constructor(t,i,r,l,c,d,g,v){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lR extends pT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=mw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Si(d.readTime):vt.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=Wd(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=Yd(v)?{documents:yw(c,v)}:{query:_w(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=iT(c,d.resumeToken);const y=Jd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Gc(c,d.snapshotVersion.toTimestamp());const y=Jd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=Ew(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=Wd(this.serializer),i.removeTarget=t,this.K_(i)}}class uR extends pT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=pw(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Wd(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>gw(this.serializer,r)))};this.K_(i)}}class cR{}class hR extends cR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Zd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Zd(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function fR(a,t,i,r){return new hR(a,t,i,r)}class dR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class mR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Gr(this)&&(it(Br,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await zl(y),y.Va.set("Unknown"),y.Ea.delete(4),await fh(y)})(this))}))})),this.Va=new dR(r,l)}}async function fh(a){if(Gr(a))for(const t of a.Ra)await t(!0)}async function zl(a){for(const t of a.Ra)await t(!1)}function yT(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Vm(i)?Om(i):io(i).O_()&&Nm(i,t))}function Dm(a,t){const i=Tt(a),r=io(i);i.Ia.delete(t),r.O_()&&_T(i,t),i.Ia.size===0&&(r.O_()?r.L_():Gr(i)&&i.Va.set("Unknown"))}function Nm(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(a).Z_(t)}function _T(a,t){a.da.$e(t),io(a).X_(t)}function Om(a){a.da=new ow({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),io(a).start(),a.Va.ua()}function Vm(a){return Gr(a)&&!io(a).x_()&&a.Ia.size>0}function Gr(a){return Tt(a).Ea.size===0}function vT(a){a.da=void 0}async function gR(a){a.Va.set("Online")}async function pR(a){a.Ia.forEach(((t,i)=>{Nm(a,t)}))}async function yR(a,t){vT(a),Vm(a)?(a.Va.ha(t),Om(a)):a.Va.set("Unknown")}async function _R(a,t,i){if(a.Va.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(a,t)}catch(r){it(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qc(a,r)}else if(t instanceof Dc?a.da.Xe(t):t instanceof eT?a.da.st(t):a.da.tt(t),!i.isEqual(vt.min()))try{const r=await mT(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),_T(c,v);const b=new js(S.target,v,y,S.sequenceNumber);Nm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){it(Br,"Failed to raise snapshot:",r),await Qc(a,r)}}async function Qc(a,t,i){if(!no(t))throw t;a.Ea.add(1),await zl(a),a.Va.set("Offline"),i||(i=()=>mT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Br,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await fh(a)}))}function ET(a,t){return t().catch((i=>Qc(a,i,t)))}async function dh(a){const t=Tt(a),i=Zs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gm;for(;vR(t);)try{const l=await Ww(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,ER(t,l)}catch(l){await Qc(t,l)}TT(t)&&ST(t)}function vR(a){return Gr(a)&&a.Ta.length<10}function ER(a,t){a.Ta.push(t);const i=Zs(a);i.O_()&&i.Y_&&i.ea(t.mutations)}function TT(a){return Gr(a)&&!Zs(a).x_()&&a.Ta.length>0}function ST(a){Zs(a).start()}async function TR(a){Zs(a).ra()}async function SR(a){const t=Zs(a);for(const i of a.Ta)t.ea(i.mutations)}async function AR(a,t,i){const r=a.Ta.shift(),l=Sm.from(r,t,i);await ET(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await dh(a)}async function bR(a,t){t&&Zs(a).Y_&&await(async function(r,l){if((function(d){return sw(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Zs(r).B_(),await ET(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await dh(r)}})(a,t),TT(a)&&ST(a)}async function vv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),it(Br,"RemoteStore received new credentials");const r=Gr(i);i.Ea.add(3),await zl(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await fh(i)}async function wR(a,t){const i=Tt(a);t?(i.Ea.delete(2),await fh(i)):t||(i.Ea.add(2),await zl(i),i.Va.set("Unknown"))}function io(a){return a.ma||(a.ma=(function(i,r,l){const c=Tt(i);return c.sa(),new lR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:gR.bind(null,a),Yo:pR.bind(null,a),t_:yR.bind(null,a),J_:_R.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),Vm(a)?Om(a):a.Va.set("Unknown")):(await a.ma.stop(),vT(a))}))),a.ma}function Zs(a){return a.fa||(a.fa=(function(i,r,l){const c=Tt(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TR.bind(null,a),t_:bR.bind(null,a),ta:SR.bind(null,a),na:AR.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await dh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Br,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Mm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new Mm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(a,t){if(Zi("AsyncQueue",`${t}: ${a}`),no(a))return new ut(J.UNAVAILABLE,`${t}: ${a}`);throw a}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Ev{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Za{constructor(t,i,r,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Za(t,i,Ba.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class RR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class CR{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),c=l.queries;l.queries=Tv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(r)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function Tv(){return new Hr((a=>BE(a)),ah)}async function IR(a,t){const i=Tt(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new RR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=xm(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Um(i)}async function DR(a,t){const i=Tt(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NR(a,t){const i=Tt(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Um(i)}function OR(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function Um(a){a.Ca.forEach((t=>{t.next()}))}var nm,Sv;(Sv=nm||(nm={})).Ma="default",Sv.Cache="cache";class VR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Za(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==nm.Cache}}class AT{constructor(t){this.key=t}}class bT{constructor(t){this.key=t}}class MR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.eu=qE(t),this.tu=new Ba(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new Ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const V=l.get(S),F=oh(this.query,b)?b:null,$=!!V&&this.mutatedKeys.has(V.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let et=!1;V&&F?V.data.isEqual(F.data)?$!==nt&&(r.track({type:3,doc:F}),et=!0):this.su(V,F)||(r.track({type:2,doc:F}),et=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!V&&F?(r.track({type:0,doc:F}),et=!0):V&&!F&&(r.track({type:1,doc:V}),et=!0,(v||y)&&(g=!0)),et&&(F?(d=d.add(F),c=nt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(F,$){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:et})}};return nt(F)-nt($)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new bT(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new AT(r))})),i}cu(t){this.Za=t.ks,this.Ya=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const km="SyncEngine";class xR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class UR{constructor(t){this.key=t,this.hu=!1}}class kR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hr((g=>BE(g)),ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new wm,this.du={},this.mu=new Map,this.fu=Ja.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LR(a,t,i=!0){const r=NT(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(r,t,i,!0),l}async function PR(a,t){const i=NT(a);await wT(i,t,!0,!1)}async function wT(a,t,i,r){const l=await tR(a.localStore,Ei(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await zR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&yT(a.remoteStore,l),g}async function zR(a,t,i,r,l){a.pu=(b,V,F)=>(async function(nt,et,mt,st){let ot=et.view.ru(mt);ot.Ss&&(ot=await mv(nt.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,ot))));const pt=st&&st.targetChanges.get(et.targetId),Dt=st&&st.targetMismatches.get(et.targetId)!=null,Rt=et.view.applyChanges(ot,nt.isPrimaryClient,pt,Dt);return bv(nt,et.targetId,Rt.au),Rt.snapshot})(a,b,V,F);const c=await mv(a.localStore,t,!0),d=new MR(t,c.ks),g=d.ru(c.documents),v=Pl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(g,a.isPrimaryClient,v);bv(a,i,y.au);const S=new xR(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function jR(a,t,i){const r=Tt(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Dm(r.remoteStore,l.targetId),im(r,l.targetId)})).catch(eo)):(im(r,l.targetId),await tm(r.localStore,l.targetId,!0))}async function BR(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(i.remoteStore,r.targetId))}async function qR(a,t,i){const r=XR(a);try{const l=await(function(d,g){const v=Tt(d),y=ee.now(),S=g.reduce(((F,$)=>F.add($.key)),xt());let b,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=$i(),nt=xt();return v.xs.getEntries(F,S).next((et=>{$=et,$.forEach(((mt,st)=>{st.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,$))).next((et=>{b=et;const mt=[];for(const st of g){const ot=Wb(st,b.get(st.key).overlayedDocument);ot!=null&&mt.push(new er(st.key,ot,xE(ot.value.mapValue),Ti.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,mt,g)})).next((et=>{V=et;const mt=et.applyToLocalDocumentSet(b,nt);return v.documentOverlayCache.saveOverlays(F,et.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:GE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await jl(r,l.changes),await dh(r.remoteStore)}catch(l){const c=xm(l,"Failed to persist write");i.reject(c)}}async function RT(a,t){const i=Tt(a);try{const r=await Zw(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await jl(i,r,t)}catch(r){await eo(r)}}function Av(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let y=!1;v.queries.forEach(((S,b)=>{for(const V of b.ba)V.va(g)&&(y=!0)})),y&&Um(v)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HR(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const g=xt().add(c),v=new ch(vt.min(),new Map,new le(Mt),d,g);await RT(r,v),r.Ru=r.Ru.remove(c),r.Au.delete(t),Lm(r)}else await tm(r.localStore,t,!1).then((()=>im(r,t,i))).catch(eo)}async function GR(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await Jw(i.localStore,t);IT(i,r,null),CT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await jl(i,l)}catch(l){await eo(l)}}async function FR(a,t,i){const r=Tt(a);try{const l=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((b=>(Ht(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);IT(r,t,i),CT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await jl(r,l)}catch(l){await eo(l)}}function CT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function IT(a,t,i){const r=Tt(a);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function im(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||DT(a,r)}))}function DT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.Ru.get(t);i!==null&&(Dm(a.remoteStore,i),a.Ru=a.Ru.remove(t),a.Au.delete(i),Lm(a))}function bv(a,t,i){for(const r of i)r instanceof AT?(a.Vu.addReference(r.key,t),QR(a,r)):r instanceof bT?(it(km,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||DT(a,r.key)):gt(19791,{wu:r})}function QR(a,t){const i=t.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(it(km,"New document in limbo: "+i),a.Eu.add(r),Lm(a))}function Lm(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(oe.fromString(t)),r=a.fu.next();a.Au.set(r,new UR(i)),a.Ru=a.Ru.insert(i,r),yT(a.remoteStore,new js(Ei(Em(i.path)),r,"TargetPurposeLimboResolution",nh.ce))}}async function jl(a,t,i){const r=Tt(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{d.push(r.pu(v,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Cm.Es(v.targetId,y);c.push(S)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(v,y){const S=Tt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(y,(V=>Y.forEach(V.Ts,(F=>S.persistence.referenceDelegate.addReference(b,V.targetId,F))).next((()=>Y.forEach(V.Is,(F=>S.persistence.referenceDelegate.removeReference(b,V.targetId,F)))))))))}catch(b){if(!no(b))throw b;it(Im,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const F=S.vs.get(V),$=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion($);S.vs=S.vs.insert(V,nt)}}})(r.localStore,c))}async function KR(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){it(km,"User change. New user:",t.toKey());const r=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jl(i,r.Ns)}}function YR(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function NT(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HR.bind(null,t),t.Pu.J_=NR.bind(null,t.eventManager),t.Pu.yu=OR.bind(null,t.eventManager),t}function XR(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Xw(this.persistence,new Qw,t.initialUser,this.serializer)}Cu(t){return new fT(Rm.Vi,this.serializer)}Du(t){return new nR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class JR extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ow(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new fT((r=>Fc.Vi(r,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Av(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KR.bind(null,this.syncEngine),await wR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CR})()}createDatastore(t){const i=hh(t.databaseInfo.databaseId),r=oR(t.databaseInfo);return fR(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new mR(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Av(this.syncEngine,i,0)),(function(){return yv.v()?new yv:new iR})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,S){const b=new kR(l,c,d,g,v,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);it(Br,"RemoteStore shutting down."),r.Ea.add(5),await zl(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class ZR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class $R{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),it($s,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await dT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function wv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await WR(a);it($s,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>vv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>vv(t.remoteStore,l))),a._onlineComponents=t}async function WR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it($s,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new Kc)}}else it($s,"Using default OfflineComponentProvider"),await Ud(a,new JR(void 0));return a._offlineComponents}async function OT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it($s,"Using user provided OnlineComponentProvider"),await wv(a,a._uninitializedComponentsProvider._online)):(it($s,"Using default OnlineComponentProvider"),await wv(a,new sm))),a._onlineComponents}function t2(a){return OT(a).then((t=>t.syncEngine))}async function Rv(a){const t=await OT(a),i=t.eventManager;return i.onListen=LR.bind(null,t.syncEngine),i.onUnlisten=jR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=PR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=BR.bind(null,t.syncEngine),i}function e2(a,t,i,r){const l=new ZR(r),c=new VR(t,l,i);return a.asyncQueue.enqueueAndForget((async()=>IR(await Rv(a),c))),()=>{l.Nu(),a.asyncQueue.enqueueAndForget((async()=>DR(await Rv(a),c)))}}function n2(a,t){const i=new Ur;return a.asyncQueue.enqueueAndForget((async()=>qR(await t2(a),t,i))),i.promise}function VT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const i2="ComponentProvider",Cv=new Map;function s2(a,t,i,r,l){return new Tb(a,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,VT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const MT="firestore.googleapis.com",Iv=!0;class Dv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=Iv}else this.host=t.host,this.ssl=t.ssl??Iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dw)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new W1;switch(r.type){case"firstParty":return new ib(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Cv.get(i);r&&(it(i2,"Removing Datastore"),Cv.delete(i),r.terminate())})(this),Promise.resolve()}}function r2(a,t,i,r={}){a=Fs(a,Pm);const l=$a(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(lE(`https://${g}`),uE("Firestore",!0)),c.host!==MT&&c.host!==g&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:r};if(!Lr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=Xe.MOCK_USER;else{y=AA(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(b)}a._authCredentials=new tb(new AE(y,S))}}class mh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new mh(this.firestore,t,this._query)}}class Ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(kl(i,Ve._jsonSchema))return new Ve(t,r||null,new ft(oe.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Re("string",Ve._jsonSchemaVersion),referencePath:Re("string")};class Nl extends mh{constructor(t,i,r){super(t,i,Em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new ft(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function Nv(a,t,...i){if(a=$e(a),arguments.length===1&&(t=dm.newId()),ub("doc","path",t),a instanceof Pm){const r=oe.fromString(t,...i);return q_(r),new Ve(a,null,new ft(r))}{if(!(a instanceof Ve||a instanceof Nl))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(oe.fromString(t,...i));return q_(r),new Ve(a.firestore,a instanceof Nl?a.converter:null,new ft(r))}}const Ov="AsyncQueue";class Vv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const r=xd();r&&it(Ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;it(Ov,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Mv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Mm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Mv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Ol extends Pm{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Vv(t),this._firestoreClient=void 0,await t}}}function a2(a,t){const i=typeof a=="object"?a:dE(),r=typeof a=="string"?a:Pc,l=hm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=TA("firestore");c&&r2(l,...c)}return l}function xT(a){if(a._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||o2(a),a._firestoreClient}function o2(a){const t=a._freezeSettings(),i=s2(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new $R(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class zm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jm{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(kl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Re("string",Jn._jsonSchemaVersion),vectorValues:Re("object")};const l2=/^__.*__$/;class u2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ll(t,this.data,i,this.fieldTransforms)}}class UT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function kT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:a})}}class Bm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Yc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(kT(this.dataSource)&&l2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class c2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||hh(t)}createContext(t,i,r,l=!1){return new Bm({dataSource:t,methodName:i,targetDoc:r,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(a){const t=a._freezeSettings(),i=hh(a._databaseId);return new c2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function h2(a,t,i,r,l,c={}){const d=a.createContext(c.merge||c.mergeFields?2:0,t,i,l);qm("Data must be an object, but it was:",d,r);const g=PT(r,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const V=Vl(t,b,i);if(!d.contains(V))throw new ut(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);BT(S,V)||S.push(V)}v=new Tn(S),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new u2(new hn(g),v,y)}class gh extends jm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gh}}function f2(a,t,i,r){const l=a.createContext(1,t,i);qm("Data must be an object, but it was:",l,r);const c=[],d=hn.empty();tr(r,((v,y)=>{const S=jT(t,v,i);y=$e(y);const b=l.childContextForFieldPath(S);if(y instanceof gh)c.push(S);else{const V=ph(y,b);V!=null&&(c.push(S),d.set(S,V))}}));const g=new Tn(c);return new UT(d,g,l.fieldTransforms)}function d2(a,t,i,r,l,c){const d=a.createContext(1,t,i),g=[Vl(t,r,i)],v=[l];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Vl(t,c[V])),v.push(c[V+1]);const y=[],S=hn.empty();for(let V=g.length-1;V>=0;--V)if(!BT(y,g[V])){const F=g[V];let $=v[V];$=$e($);const nt=d.childContextForFieldPath(F);if($ instanceof gh)y.push(F);else{const et=ph($,nt);et!=null&&(y.push(F),S.set(F,et))}}const b=new Tn(y);return new UT(S,b,d.fieldTransforms)}function ph(a,t){if(zT(a=$e(a)))return qm("Unsupported field value:",t,a),PT(a,t);if(a instanceof jm)return(function(r,l){if(!kT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let v=ph(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kb(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ee.fromDate(r);return{timestampValue:Gc(l.serializer,c)}}if(r instanceof ee){const c=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gc(l.serializer,c)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:iT(l.serializer,r._byteString)};if(r instanceof Ve){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Jn)return(function(d,g){const v=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[VE]:{stringValue:ME},[zc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Tm(g.serializer,S)}))}}}}}})(r,l);if(cT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${mm(r)}`)})(a,t)}function PT(a,t){const i={};return RE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tr(a,((r,l)=>{const c=ph(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function zT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof Ai||a instanceof Un||a instanceof Ve||a instanceof jm||a instanceof Jn||cT(a))}function qm(a,t,i){if(!zT(i)||!bE(i)){const r=mm(i);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function Vl(a,t,i){if((t=$e(t))instanceof zm)return t._internalPath;if(typeof t=="string")return jT(a,t);throw Yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const m2=new RegExp("[~\\*/\\[\\]]");function jT(a,t,i){if(t.search(m2)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new zm(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Yc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new ut(J.INVALID_ARGUMENT,g+a+v)}function BT(a,t){return a.some((i=>i.isEqual(t)))}class g2{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return tr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new Ai(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=sh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=oe.fromString(t);Ht(uT(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class qT extends g2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}const xv="@firebase/firestore",Uv="4.11.0";function kv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class HT{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Vl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends HT{data(){return super.data()}}function y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function _2(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends HT{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Vl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Re("string",kr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Nc extends kr{data(t={}){return super.data(t)}}class qa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Nc(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:v2(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function v2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Re("string",qa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function E2(a,t,i){a=Fs(a,Ve);const r=Fs(a.firestore,Ol),l=_2(a.converter,t),c=LT(r);return GT(r,[h2(c,"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Ti.none())])}function T2(a,t,i,...r){a=Fs(a,Ve);const l=Fs(a.firestore,Ol),c=LT(l);let d;return d=typeof(t=$e(t))=="string"||t instanceof zm?d2(c,"updateDoc",a._key,t,i,r):f2(c,"updateDoc",a._key,t),GT(l,[d.toMutation(a._key,Ti.exists(!0))])}function S2(a,...t){a=$e(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||kv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof Ve)d=Fs(a.firestore,Ol),g=Em(a._key.path),c={next:y=>{t[r]&&t[r](A2(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=Fs(a,mh);d=Fs(y.firestore,Ol),g=y._query;const S=new qT(d);c={next:b=>{t[r]&&t[r](new qa(d,S,y,b))},error:t[r+1],complete:t[r+2]},y2(a._query)}const v=xT(d);return e2(v,g,l,c)}function GT(a,t){const i=xT(a);return n2(i,t)}function A2(a,t,i){const r=i.docs.get(t._key),l=new qT(a);return new kr(a,l,t._key,r,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){$1(Wa),Qa(new Pr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Ol(new eb(r.getProvider("auth-internal")),new sb(d,r.getProvider("app-check-internal")),Sb(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Hs(xv,Uv,t),Hs(xv,Uv,"esm2020")})();function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=FT,QT=new xl("auth","Firebase",FT());const Xc=new um("@firebase/auth");function w2(a,...t){Xc.logLevel<=Vt.WARN&&Xc.warn(`Auth (${Wa}): ${a}`,...t)}function Oc(a,...t){Xc.logLevel<=Vt.ERROR&&Xc.error(`Auth (${Wa}): ${a}`,...t)}function Wi(a,...t){throw Hm(a,...t)}function bi(a,...t){return Hm(a,...t)}function KT(a,t,i){const r={...b2(),[t]:i};return new xl("auth","Firebase",r).create(t,{appName:a.name})}function Qs(a){return KT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return QT.create(a,...t)}function yt(a,t,...i){if(!a)throw Hm(t,...i)}function Yi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Oc(t),new Error(t)}function ts(a,t){a||Yi(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function R2(){return Lv()==="http:"||Lv()==="https:"}function Lv(){return typeof self<"u"&&self.location?.protocol||null}function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R2()||DA()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=RA()||NA()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(a,t){ts(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class YT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new Bl(3e4,6e4);function yh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function so(a,t,i,r,l={}){return XT(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ul({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:v,...c};return IA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&$a(a.emulatorConfig.host)&&(y.credentials="include"),YT.fetch()(await ZT(a,a.config.apiHost,i,g),y)})}async function XT(a,t,i){a._canInitEmulator=!1;const r={...D2,...t};try{const l=new V2(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw bc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw bc(a,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw KT(a,S,y);Wi(a,S)}}catch(l){if(l instanceof es)throw l;Wi(a,"network-request-failed",{message:String(l)})}}async function JT(a,t,i,r,l={}){const c=await so(a,t,i,r,l);return"mfaPendingCredential"in c&&Wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function ZT(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?Gm(a.config,l):`${a.config.apiScheme}://${l}`;return N2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class V2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),O2.get())})}}function bc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=bi(a,t,r);return l.customData._tokenResponse=i,l}async function M2(a,t){return so(a,"POST","/v1/accounts:delete",t)}async function Jc(a,t){return so(a,"POST","/v1/accounts:lookup",t)}function Sl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function x2(a,t=!1){const i=$e(a),r=await i.getIdToken(t),l=Fm(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Sl(kd(l.auth_time)),issuedAtTime:Sl(kd(l.iat)),expirationTime:Sl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(a){return Number(a)*1e3}function Fm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pv(a){const t=Fm(a);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&U2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function U2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class k2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(a){const t=a.auth,i=await a.getIdToken(),r=await Ml(a,Jc(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?$T(l.providerUserInfo):[],d=P2(a.providerData,c),g=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,y=g?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,S)}async function L2(a){const t=$e(a);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function P2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function $T(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function z2(a,t){const i=await XT(a,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await ZT(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return a.emulatorConfig&&$a(a.emulatorConfig.host)&&(v.credentials="include"),YT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function j2(a,t){return so(a,"POST","/v2/accounts:revokeToken",yh(a,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await z2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ha;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Us(a,t){yt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new k2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return x2(this,t)}reload(){return L2(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await Ml(this,M2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:F,providerData:$,stsTokenManager:nt}=i;yt(b&&nt,t,"internal-error");const et=Ha.fromJSON(this.name,nt);yt(typeof b=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),yt(typeof V=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(g,t.name),Us(v,t.name),Us(y,t.name),Us(S,t.name);const mt=new Xn({uid:b,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:S});return $&&Array.isArray($)&&(mt.providerData=$.map(st=>({...st}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(r);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const zv=new Map;function Xi(a){ts(a instanceof Function,"Expected a class definition");let t=zv.get(a);return t?(ts(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,zv.set(a,t),t)}class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}WT.type="NONE";const jv=WT;function Vc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ga{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ga(Xi(jv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(jv);const d=Vc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const V=await Jc(t,{idToken:S}).catch(()=>{});if(!V)break;b=await Xn._fromGetAccountInfoResponse(t,V,S)}else b=Xn._fromJSON(t,S);y!==c&&(g=b),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,r):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,r))}}function Bv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r0(t))return"Blackberry";if(a0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(s0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function t0(a=Ze()){return/firefox\//i.test(a)}function e0(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(a=Ze()){return/crios\//i.test(a)}function i0(a=Ze()){return/iemobile/i.test(a)}function s0(a=Ze()){return/android/i.test(a)}function r0(a=Ze()){return/blackberry/i.test(a)}function a0(a=Ze()){return/webos/i.test(a)}function Qm(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function B2(a=Ze()){return Qm(a)&&!!window.navigator?.standalone}function q2(){return OA()&&document.documentMode===10}function o0(a=Ze()){return Qm(a)||s0(a)||a0(a)||r0(a)||/windows phone/i.test(a)||i0(a)}function l0(a,t=[]){let i;switch(a){case"Browser":i=Bv(Ze());break;case"Worker":i=`${Bv(Ze())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${r}`}class H2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function G2(a,t={}){return so(a,"GET","/v2/passwordPolicy",yh(a,t))}const F2=6;class Q2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??F2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class K2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Qs(this));const i=t?$e(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await G2(this),i=new Q2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await j2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&w2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _h(a){return $e(a)}class qv{constructor(t){this.auth=t,this.observer=null,this.addObserver=zA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(a){Km=a}function X2(a){return Km.loadJS(a)}function J2(){return Km.gapiScript}function Z2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function $2(a,t){const i=hm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Lr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function W2(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function tC(a,t,i){const r=_h(a);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=u0(t),{host:d,port:g}=eC(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(Lr(y,r.config.emulator)&&Lr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,$a(d)?(lE(`${c}//${d}${v}`),uE("Auth",!0)):nC()}function u0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function eC(a){const t=u0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Hv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Hv(d)}}}function Hv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function nC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class c0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Fa(a,t){return JT(a,"POST","/v1/accounts:signInWithIdp",yh(a,t))}const iC="http://localhost";class qr extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:iC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ks extends ql{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Ls extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ls.credential(i,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends ql{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class zs extends ql{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function sC(a,t){return JT(a,"POST","/v1/accounts:signUp",yh(a,t))}class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Xn._fromIdTokenResponse(t,r,l),d=Gv(r);return new Ws({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Gv(r);return new Ws({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Gv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function rC(a){if(Yn(a.app))return Promise.reject(Qs(a));const t=_h(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await sC(t,{returnSecureToken:!0}),r=await Ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class $c extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function f0(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(a,c,t,r):c})}async function aC(a,t,i=!1){const r=await Ml(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ws._forOperation(a,"link",r)}async function oC(a,t,i=!1){const{auth:r}=a;if(Yn(r.app))return Promise.reject(Qs(r));const l="reauthenticate";try{const c=await Ml(a,f0(r,l,t,a),i);yt(c.idToken,r,"internal-error");const d=Fm(c.idToken);yt(d,r,"internal-error");const{sub:g}=d;return yt(a.uid===g,r,"user-mismatch"),Ws._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),c}}async function lC(a,t,i=!1){if(Yn(a.app))return Promise.reject(Qs(a));const r="signIn",l=await f0(a,r,t),c=await Ws._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function uC(a,t,i,r){return $e(a).onIdTokenChanged(t,i,r)}function cC(a,t,i){return $e(a).beforeAuthStateChanged(t,i)}function hC(a,t,i,r){return $e(a).onAuthStateChanged(t,i,r)}function fC(a){return $e(a).signOut()}const Wc="__sak";class d0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dC=1e3,mC=10;class m0 extends d0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);q2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}m0.type="LOCAL";const gC=m0;class g0 extends d0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}g0.type="SESSION";const p0=g0;function pC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new vh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await pC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Ym(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class yC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Ym("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function _C(a){wi().location.href=a}function y0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function vC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){return navigator?.serviceWorker?.controller||null}function TC(){return y0()?self:null}const _0="firebaseLocalStorageDb",SC=1,th="firebaseLocalStorage",v0="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(a,t){return a.transaction([th],t?"readwrite":"readonly").objectStore(th)}function AC(){const a=indexedDB.deleteDatabase(_0);return new Hl(a).toPromise()}function om(){const a=indexedDB.open(_0,SC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(th,{keyPath:v0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await AC(),t(await om()))})})}async function Fv(a,t,i){const r=Eh(a,!0).put({[v0]:t,value:i});return new Hl(r).toPromise()}async function bC(a,t){const i=Eh(a,!1).get(t),r=await new Hl(i).toPromise();return r===void 0?null:r.value}function Qv(a,t){const i=Eh(a,!0).delete(t);return new Hl(i).toPromise()}const wC=800,RC=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(TC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await Fv(t,Wc,"1"),await Qv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>bC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const CC=E0;new Bl(3e4,6e4);function IC(a,t){return t?Xi(t):(yt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Xm extends c0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function DC(a){return lC(a.auth,new Xm(a),a.bypassAuthState)}function NC(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),oC(i,new Xm(a),a.bypassAuthState)}async function OC(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),aC(i,new Xm(a),a.bypassAuthState)}class T0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VC=new Bl(2e3,1e4);class za extends T0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VC.get())};t()}}za.currentPopupAction=null;const MC="pendingRedirect",Mc=new Map;class xC extends T0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const r=await UC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(a,t){const i=PC(t),r=LC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function kC(a,t){Mc.set(a._key(),t)}function LC(a){return Xi(a._redirectPersistence)}function PC(a){return Vc(MC,a.config.apiKey,a.name)}async function zC(a,t,i=!1){if(Yn(a.app))return Promise.reject(Qs(a));const r=_h(a),l=IC(r,t),d=await new xC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const jC=600*1e3;class BC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!S0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(t))}saveEventToCache(t){this.cachedEventUids.add(Kv(t)),this.lastProcessedEventTime=Date.now()}}function Kv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function S0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function qC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(a);default:return!1}}async function HC(a,t={}){return so(a,"GET","/v1/projects",t)}const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function QC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await HC(a);for(const i of t)try{if(KC(i))return}catch{}Wi(a,"unauthorized-domain")}function KC(a){const t=rm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!FC.test(i))return!1;if(GC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const YC=new Bl(3e4,6e4);function Yv(){const a=wi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function XC(a){return new Promise((t,i)=>{function r(){Yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yv(),i(bi(a,"network-request-failed"))},timeout:YC.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)r();else{const l=Z2("iframefcb");return wi()[l]=()=>{gapi.load?r():i(bi(a,"network-request-failed"))},X2(`${J2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function JC(a){return xc=xc||XC(a),xc}const ZC=new Bl(5e3,15e3),$C="__/auth/iframe",WC="emulator/auth/iframe",tI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(a){const t=a.config;yt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Gm(t,WC):`https://${a.config.authDomain}/${$C}`,r={apiKey:t.apiKey,appName:a.name,v:Wa},l=eI.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ul(r).slice(1)}`}async function iI(a){const t=await JC(a),i=wi().gapi;return yt(i,a,"internal-error"),t.open({where:document.body,url:nI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=bi(a,"network-request-failed"),g=wi().setTimeout(()=>{c(d)},ZC.get());function v(){wi().clearTimeout(g),l(r)}r.ping(v).then(v,()=>{c(d)})}))}const sI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,aI=600,oI="_blank",lI="http://localhost";class Xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uI(a,t,i,r=rI,l=aI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...sI,width:r.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=n0(y)?oI:i),t0(y)&&(t=t||lI,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[F,$])=>`${V}${F}=${$},`,"");if(B2(y)&&g!=="_self")return cI(t||"",g),new Xv(null);const b=window.open(t||"",g,S);yt(b,a,"popup-blocked");try{b.focus()}catch{}return new Xv(b)}function cI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const hI="__/auth/handler",fI="emulator/auth/handler",dI=encodeURIComponent("fac");async function Jv(a,t,i,r,l,c){yt(a.config.authDomain,a,"auth-domain-config-required"),yt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Wa,eventId:l};if(t instanceof h0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",PA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ql){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await a._getAppCheckToken(),y=v?`#${dI}=${encodeURIComponent(v)}`:"";return`${mI(a)}?${Ul(g).slice(1)}${y}`}function mI({config:a}){return a.emulator?Gm(a,fI):`https://${a.authDomain}/${hI}`}const Ld="webStorageSupport";class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=zC,this._overrideRedirectResult=kC}async _openPopup(t,i,r,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Jv(t,i,r,rm(),l);return uI(t,c,Ym())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Jv(t,i,r,rm(),l);return _C(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await iI(t),r=new BC(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const c=l?.[0]?.[Ld];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return o0()||e0()||Qm()}}const pI=gI;var Zv="@firebase/auth",$v="1.12.0";class yI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _I(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vI(a){Qa(new Pr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(a)},y=new K2(r,l,c,v);return W2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Qa(new Pr("auth-internal",t=>{const i=_h(t.getProvider("auth").getImmediate());return(r=>new yI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(Zv,$v,_I(a)),Hs(Zv,$v,"esm2020")}const EI=300,TI=oE("authIdTokenMaxAge")||EI;let Wv=null;const SI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>TI)return;const l=i?.token;Wv!==l&&(Wv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function AI(a=dE()){const t=hm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=$2(a,{popupRedirectResolver:pI,persistence:[CC,gC,p0]}),r=oE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=SI(c.toString());cC(i,d,()=>d(i.currentUser)),uC(i,g=>d(g))}}const l=rE("auth");return l&&tC(i,`http://${l}`),i}function bI(){return document.getElementsByTagName("head")?.[0]??document}Y2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",bI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vI("Browser");const A0=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();const wI=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const RI=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());const tE=a=>{const t=RI(a);return t.charAt(0).toUpperCase()+t.slice(1)};var CI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const II=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const DI=ae.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},v)=>ae.createElement("svg",{ref:v,...CI,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:A0("lucide",l),...!c&&!II(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>ae.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Ii=(a,t)=>{const i=ae.forwardRef(({className:r,...l},c)=>ae.createElement(DI,{ref:c,iconNode:t,className:A0(`lucide-${wI(tE(a))}`,`lucide-${a}`,r),...l}));return i.displayName=tE(a),i};const NI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OI=Ii("calendar",NI);const VI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],MI=Ii("circle-user",VI);const xI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],b0=Ii("database",xI);const UI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jm=Ii("loader-circle",UI);const kI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LI=Ii("log-out",kI);const PI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zI=Ii("plus",PI);const jI=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],BI=Ii("shopping-cart",jI);const qI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w0=Ii("square-check-big",qI);const HI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GI=Ii("trash-2",HI);const FI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],QI=Ii("wifi",FI),KI={apiKey:"AIzaSyAXBaj32kPuwXmEpY9LjTq5d5h4ulRP3N4",authDomain:"meal-planner-sync-49152.firebaseapp.com",projectId:"meal-planner-sync-49152",storageBucket:"meal-planner-sync-49152.firebasestorage.app",messagingSenderId:"545999988540",appId:"1:545999988540:web:0cb46776eac650f2f32039"},R0=fE(KI),eE=a2(R0),Zm=AI(R0),YI=[{id:"1",name:"Oatmeal w/ Berries",ingredients:[{name:"Rolled Oats",qty:.5,unit:"cup"},{name:"Milk",qty:1,unit:"cup"},{name:"Blueberries",qty:.25,unit:"cup"},{name:"Honey",qty:1,unit:"tbsp"}]}],XI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],JI=["Breakfast","Lunch","Dinner"];function ZI(){const[a,t]=ae.useState(null),[i,r]=ae.useState(!0);return ae.useEffect(()=>{const l=hC(Zm,c=>{t(c),r(!1)});return()=>l()},[]),i?X.jsx("div",{className:"h-screen flex items-center justify-center",children:X.jsx(Jm,{className:"animate-spin text-emerald-600"})}):a?X.jsx(WI,{user:a}):X.jsx($I,{})}function $I(){const[a,t]=ae.useState(""),[i,r]=ae.useState(!1),l=async()=>{r(!0),t("");try{await rC(Zm)}catch(c){console.error(c),t("Could not start session. Check console."),r(!1)}};return X.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4",children:X.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl w-full max-w-md text-center",children:[X.jsx(b0,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),X.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Smart Meal Sync"}),X.jsx("p",{className:"text-slate-500 mb-8",children:"Plan meals across devices instantly."}),a&&X.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-4",children:a}),X.jsx("button",{onClick:l,disabled:i,className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-bold hover:bg-emerald-700 transition flex items-center justify-center gap-2",children:i?X.jsx(Jm,{className:"animate-spin"}):"Start Planning"}),X.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Session persists on this device automatically."})]})})}function WI({user:a}){const[t,i]=ae.useState("planner"),[r,l]=ae.useState("syncing"),[c,d]=ae.useState([]),[g,v]=ae.useState({}),[y,S]=ae.useState(new Set);ae.useEffect(()=>{const st=Nv(eE,"users",a.uid,"planner","data"),ot=S2(st,pt=>{if(pt.exists()){const Dt=pt.data();d(Dt.recipes||[]),v(Dt.schedule||{}),S(new Set(Dt.inventory||[])),l("synced")}else E2(st,{recipes:YI,schedule:{},inventory:[]})},pt=>{console.error("Sync Error:",pt),l("error")});return()=>ot()},[a.uid]);const b=async(st,ot)=>{l("syncing");const pt=Nv(eE,"users",a.uid,"planner","data");try{await T2(pt,{[st]:ot}),l("synced")}catch(Dt){console.error(Dt),l("error")}},{totalRequirements:V,toBuyList:F}=ae.useMemo(()=>{const st={};Object.values(g).forEach(pt=>{if(!pt)return;const Dt=c.find(Rt=>Rt.id===pt);Dt&&Dt.ingredients.forEach(Rt=>{const C=`${Rt.name.toLowerCase()}-${Rt.unit.toLowerCase()}`;st[C]||(st[C]={...Rt,qty:0,rawName:Rt.name}),st[C].qty+=parseFloat(Rt.qty)})});const ot=Object.values(st).sort((pt,Dt)=>pt.name.localeCompare(Dt.name));return{totalRequirements:ot,toBuyList:ot.filter(pt=>!y.has(pt.rawName))}},[g,c,y]),$=st=>{const ot=new Set(y);ot.has(st)?ot.delete(st):ot.add(st),S(ot),b("inventory",Array.from(ot))},nt=(st,ot,pt)=>{const Dt={...g,[`${st}-${ot}`]:pt};v(Dt),b("schedule",Dt)},et=st=>{const ot=[...c,{...st,id:Date.now().toString()}];d(ot),b("recipes",ot)},mt=st=>{const ot=c.filter(pt=>pt.id!==st);d(ot),b("recipes",ot)};return X.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans pb-20 md:pb-0",children:[X.jsx("header",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:X.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("div",{className:`p-2 rounded-lg transition-colors ${r==="synced"?"bg-emerald-500":"bg-amber-500"}`,children:r==="synced"?X.jsx(QI,{size:24}):X.jsx(Jm,{size:24,className:"animate-spin"})}),X.jsxs("div",{children:[X.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Smart Meal Sync"}),X.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[X.jsx(MI,{size:12}),X.jsxs("span",{className:"font-mono",children:["ID: ",a.uid.slice(0,6),"..."]})]})]})]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("nav",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg",children:[{id:"recipes",icon:b0,label:"Recipes"},{id:"planner",icon:OI,label:"Plan"},{id:"inventory",icon:w0,label:"Stock"},{id:"shopping",icon:BI,label:"Shop"}].map(st=>X.jsxs("button",{onClick:()=>i(st.id),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-all text-sm font-medium ${t===st.id?"bg-emerald-500 text-white shadow-md":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:[X.jsx(st.icon,{size:16}),X.jsx("span",{className:"hidden sm:inline",children:st.label})]},st.id))}),X.jsx("button",{onClick:()=>fC(Zm),className:"bg-slate-700 p-2 rounded-lg hover:bg-red-600 transition-colors",title:"Sign Out",children:X.jsx(LI,{size:20})})]})]})}),X.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[t==="recipes"&&X.jsx(tD,{recipes:c,onAdd:et,onDelete:mt}),t==="planner"&&X.jsx(nD,{days:XI,types:JI,recipes:c,schedule:g,onUpdate:nt}),t==="inventory"&&X.jsx(iD,{allIngredients:c,inventory:y,onToggle:$}),t==="shopping"&&X.jsx(sD,{total:V,buyList:F,inventory:y})]})]})}function tD({recipes:a,onAdd:t,onDelete:i}){const[r,l]=ae.useState(!1);return X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Recipe Database"}),X.jsx("button",{onClick:()=>l(!r),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:r?"Cancel":X.jsxs(X.Fragment,{children:[X.jsx(zI,{size:18})," New Recipe"]})})]}),r&&X.jsx(eD,{onSave:c=>{t(c),l(!1)}}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(c=>X.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5",children:[X.jsxs("div",{className:"flex justify-between items-start mb-4",children:[X.jsx("h3",{className:"font-bold text-lg text-slate-800",children:c.name}),X.jsx("button",{onClick:()=>i(c.id),className:"text-slate-400 hover:text-red-500",children:X.jsx(GI,{size:18})})]}),X.jsx("ul",{className:"text-sm text-slate-600 space-y-1",children:c.ingredients.map((d,g)=>X.jsxs("li",{className:"flex justify-between border-b border-slate-50 pb-1",children:[X.jsx("span",{children:d.name}),X.jsxs("span",{className:"font-mono text-slate-400",children:[d.qty," ",d.unit]})]},g))})]},c.id))})]})}function eD({onSave:a}){const[t,i]=ae.useState(""),[r,l]=ae.useState([{name:"",qty:"",unit:""}]),c=(g,v,y)=>{const S=[...r];S[g][v]=y,l(S)},d=()=>{if(!t)return;const g=r.filter(v=>v.name&&v.qty);a({name:t,ingredients:g})};return X.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-emerald-200 rounded-xl p-6 mb-8",children:[X.jsx("h3",{className:"font-bold text-lg mb-4 text-emerald-800",children:"New Recipe Entry"}),X.jsxs("div",{className:"space-y-4",children:[X.jsx("input",{value:t,onChange:g=>i(g.target.value),className:"w-full p-2 border rounded-md",placeholder:"Recipe Name"}),r.map((g,v)=>X.jsxs("div",{className:"flex gap-2",children:[X.jsx("input",{placeholder:"Item",className:"flex-1 p-2 border rounded-md",value:g.name,onChange:y=>c(v,"name",y.target.value)}),X.jsx("input",{placeholder:"Qty",type:"number",className:"w-20 p-2 border rounded-md",value:g.qty,onChange:y=>c(v,"qty",y.target.value)}),X.jsx("input",{placeholder:"Unit",className:"w-24 p-2 border rounded-md",value:g.unit,onChange:y=>c(v,"unit",y.target.value)})]},v)),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("button",{onClick:()=>l([...r,{name:"",qty:"",unit:""}]),className:"text-sm text-emerald-600",children:"+ Add Ingredient"}),X.jsx("button",{onClick:d,className:"bg-emerald-600 text-white px-6 py-2 rounded-md ml-auto",children:"Save Recipe"})]})]})]})}function nD({days:a,types:t,recipes:i,schedule:r,onUpdate:l}){return X.jsxs("div",{className:"space-y-6",children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Weekly Schedule"}),X.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 shadow-sm bg-white",children:X.jsxs("table",{className:"w-full text-left border-collapse",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{className:"p-4 bg-slate-50 border-b w-32",children:"Day"}),t.map(c=>X.jsx("th",{className:"p-4 bg-slate-50 border-b min-w-[200px]",children:c},c))]})}),X.jsx("tbody",{children:a.map(c=>X.jsxs("tr",{className:"border-b last:border-0 hover:bg-slate-50",children:[X.jsx("td",{className:"p-4 font-medium",children:c}),t.map(d=>X.jsx("td",{className:"p-3",children:X.jsxs("select",{className:"w-full p-2 bg-slate-50 border rounded-lg text-sm",value:r[`${c}-${d}`]||"",onChange:g=>l(c,d,g.target.value),children:[X.jsx("option",{value:"",children:" Select "}),i.map(g=>X.jsx("option",{value:g.id,children:g.name},g.id))]})},`${c}-${d}`))]},c))})]})})]})}function iD({allIngredients:a,inventory:t,onToggle:i}){const[r,l]=ae.useState("all"),c=ae.useMemo(()=>{const g=new Set;return a.forEach(v=>v.ingredients.forEach(y=>g.add(y.name))),Array.from(g).sort()},[a]),d=r==="stock"?c.filter(g=>t.has(g)):c;return X.jsxs("div",{className:"max-w-4xl mx-auto",children:[X.jsxs("div",{className:"flex justify-between items-center mb-6",children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Pantry Inventory"}),X.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg",children:[X.jsx("button",{onClick:()=>l("all"),className:`px-4 py-1.5 rounded-md text-sm ${r==="all"?"bg-white shadow":""}`,children:"All"}),X.jsxs("button",{onClick:()=>l("stock"),className:`px-4 py-1.5 rounded-md text-sm ${r==="stock"?"bg-white shadow":""}`,children:["Stock (",t.size,")"]})]})]}),X.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:d.map(g=>X.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer ${t.has(g)?"bg-emerald-50 border-emerald-200":""}`,children:[X.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${t.has(g)?"bg-emerald-500 border-emerald-500":"bg-white"}`,children:t.has(g)&&X.jsx(w0,{size:14,className:"text-white"})}),X.jsx("input",{type:"checkbox",className:"hidden",checked:t.has(g),onChange:()=>i(g)}),X.jsx("span",{className:"text-sm font-medium",children:g})]},g))})]})}function sD({total:a,buyList:t,inventory:i}){const[r,l]=ae.useState("buy"),c=r==="buy"?t:a;return X.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Shopping List"}),X.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg",children:[X.jsxs("button",{onClick:()=>l("buy"),className:`px-4 py-1.5 rounded-md text-sm ${r==="buy"?"bg-white shadow":""}`,children:["To Buy (",t.length,")"]}),X.jsxs("button",{onClick:()=>l("all"),className:`px-4 py-1.5 rounded-md text-sm ${r==="all"?"bg-white shadow":""}`,children:["Total (",a.length,")"]})]})]}),X.jsx("div",{className:"bg-white rounded-xl shadow-lg border overflow-hidden divide-y",children:c.length===0?X.jsx("div",{className:"p-12 text-center text-slate-400",children:"Nothing here!"}):c.map((d,g)=>X.jsxs("div",{className:"p-4 flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-4",children:[X.jsx("div",{className:`w-2 h-2 rounded-full ${r==="buy"?"bg-emerald-500":"bg-slate-300"}`}),X.jsx("span",{className:i.has(d.rawName)&&r==="all"?"line-through text-slate-400":"",children:d.rawName})]}),X.jsxs("div",{className:"font-mono bg-slate-100 px-3 py-1 rounded text-sm",children:[d.qty," ",d.unit]})]},g))})]})}fA.createRoot(document.getElementById("root")).render(X.jsx(ae.StrictMode,{children:X.jsx(ZI,{})}));
