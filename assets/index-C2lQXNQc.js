(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function yA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cd={exports:{}},dl={};var I_;function _A(){if(I_)return dl;I_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var C_;function vA(){return C_||(C_=1,Cd.exports=_A()),Cd.exports}var V=vA(),Nd={exports:{}},vt={};var N_;function EA(){if(N_)return vt;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function B(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,tt={};function ut(x,Y,nt){this.props=x,this.context=Y,this.refs=tt,this.updater=nt||$}ut.prototype.isReactComponent={},ut.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},ut.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function rt(){}rt.prototype=ut.prototype;function ht(x,Y,nt){this.props=x,this.context=Y,this.refs=tt,this.updater=nt||$}var It=ht.prototype=new rt;It.constructor=ht,J(It,ut.prototype),It.isPureReactComponent=!0;var Jt=Array.isArray;function Lt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(x,Y,nt){var st=nt.ref;return{$$typeof:s,type:x,key:Y,ref:st!==void 0?st:null,props:nt}}function D(x,Y){return R(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var b=/\/+/g;function Tt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function jt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Lt,Lt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,Y,nt,st,yt){var bt=typeof x;(bt==="undefined"||bt==="boolean")&&(x=null);var Ut=!1;if(x===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(x.$$typeof){case s:case t:Ut=!0;break;case S:return Ut=x._init,F(Ut(x._payload),Y,nt,st,yt)}}if(Ut)return yt=yt(x),Ut=st===""?"."+Tt(x,0):st,Jt(yt)?(nt="",Ut!=null&&(nt=Ut.replace(b,"$&/")+"/"),F(yt,Y,nt,"",function(ir){return ir})):yt!=null&&(N(yt)&&(yt=D(yt,nt+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(b,"$&/")+"/")+Ut)),Y.push(yt)),1;Ut=0;var Ce=st===""?".":st+":";if(Jt(x))for(var re=0;re<x.length;re++)st=x[re],bt=Ce+Tt(st,re),Ut+=F(st,Y,nt,bt,yt);else if(re=B(x),typeof re=="function")for(x=re.call(x),re=0;!(st=x.next()).done;)st=st.value,bt=Ce+Tt(st,re++),Ut+=F(st,Y,nt,bt,yt);else if(bt==="object"){if(typeof x.then=="function")return F(jt(x),Y,nt,st,yt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(x,Y,nt){if(x==null)return x;var st=[],yt=0;return F(x,st,"","",function(bt){return Y.call(nt,bt,yt++)}),st}function ft(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qt={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return vt.Activity=w,vt.Children=Qt,vt.Component=ut,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=J({},x.props),yt=x.key;if(Y!=null)for(bt in Y.key!==void 0&&(yt=""+Y.key),Y)!A.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(st[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var Ut=Array(bt),Ce=0;Ce<bt;Ce++)Ut[Ce]=arguments[Ce+2];st.children=Ut}return R(x.type,yt,st)},vt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},vt.createElement=function(x,Y,nt){var st,yt={},bt=null;if(Y!=null)for(st in Y.key!==void 0&&(bt=""+Y.key),Y)A.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Ut=arguments.length-2;if(Ut===1)yt.children=nt;else if(1<Ut){for(var Ce=Array(Ut),re=0;re<Ut;re++)Ce[re]=arguments[re+2];yt.children=Ce}if(x&&x.defaultProps)for(st in Ut=x.defaultProps,Ut)yt[st]===void 0&&(yt[st]=Ut[st]);return R(x,bt,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:p,render:x}},vt.isValidElement=N,vt.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ft}},vt.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},vt.startTransition=function(x){var Y=C.T,nt={};C.T=nt;try{var st=x(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,zt)}catch(bt){zt(bt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(x){return C.H.use(x)},vt.useActionState=function(x,Y,nt){return C.H.useActionState(x,Y,nt)},vt.useCallback=function(x,Y){return C.H.useCallback(x,Y)},vt.useContext=function(x){return C.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},vt.useEffect=function(x,Y){return C.H.useEffect(x,Y)},vt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(x,Y,nt){return C.H.useImperativeHandle(x,Y,nt)},vt.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},vt.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},vt.useMemo=function(x,Y){return C.H.useMemo(x,Y)},vt.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},vt.useReducer=function(x,Y,nt){return C.H.useReducer(x,Y,nt)},vt.useRef=function(x){return C.H.useRef(x)},vt.useState=function(x){return C.H.useState(x)},vt.useSyncExternalStore=function(x,Y,nt){return C.H.useSyncExternalStore(x,Y,nt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.4",vt}var D_;function ym(){return D_||(D_=1,Nd.exports=EA()),Nd.exports}var Rt=ym();const TA=yA(Rt);var Dd={exports:{}},ml={},Od={exports:{}},xd={};var O_;function SA(){return O_||(O_=1,(function(s){function t(F,et){var ft=F.length;F.push(et);t:for(;0<ft;){var zt=ft-1>>>1,Qt=F[zt];if(0<l(Qt,et))F[zt]=et,F[ft]=Qt,ft=zt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ft=F.pop();if(ft!==et){F[0]=ft;t:for(var zt=0,Qt=F.length,x=Qt>>>1;zt<x;){var Y=2*(zt+1)-1,nt=F[Y],st=Y+1,yt=F[st];if(0>l(nt,ft))st<Qt&&0>l(yt,nt)?(F[zt]=yt,F[st]=ft,zt=st):(F[zt]=nt,F[Y]=ft,zt=Y);else if(st<Qt&&0>l(yt,ft))F[zt]=yt,F[st]=ft,zt=st;else break t}}return et}function l(F,et){var ft=F.sortIndex-et.sortIndex;return ft!==0?ft:F.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],S=1,w=null,M=3,B=!1,$=!1,J=!1,tt=!1,ut=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function It(F){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=F)a(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Jt(F){if(J=!1,It(F),!$)if(i(_)!==null)$=!0,Lt||(Lt=!0,k());else{var et=i(y);et!==null&&jt(Jt,et.startTime-F)}}var Lt=!1,C=-1,A=5,R=-1;function D(){return tt?!0:!(s.unstable_now()-R<A)}function N(){if(tt=!1,Lt){var F=s.unstable_now();R=F;var et=!0;try{t:{$=!1,J&&(J=!1,rt(C),C=-1),B=!0;var ft=M;try{e:{for(It(F),w=i(_);w!==null&&!(w.expirationTime>F&&D());){var zt=w.callback;if(typeof zt=="function"){w.callback=null,M=w.priorityLevel;var Qt=zt(w.expirationTime<=F);if(F=s.unstable_now(),typeof Qt=="function"){w.callback=Qt,It(F),et=!0;break e}w===i(_)&&a(_),It(F)}else a(_);w=i(_)}if(w!==null)et=!0;else{var x=i(y);x!==null&&jt(Jt,x.startTime-F),et=!1}}break t}finally{w=null,M=ft,B=!1}et=void 0}}finally{et?k():Lt=!1}}}var k;if(typeof ht=="function")k=function(){ht(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Tt=b.port2;b.port1.onmessage=N,k=function(){Tt.postMessage(null)}}else k=function(){ut(N,0)};function jt(F,et){C=ut(function(){F(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ft=M;M=et;try{return F()}finally{M=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=M;M=F;try{return et()}finally{M=ft}},s.unstable_scheduleCallback=function(F,et,ft){var zt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,F){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ft+Qt,F={id:S++,callback:et,priorityLevel:F,startTime:ft,expirationTime:Qt,sortIndex:-1},ft>zt?(F.sortIndex=ft,t(y,F),i(_)===null&&F===i(y)&&(J?(rt(C),C=-1):J=!0,jt(Jt,ft-zt))):(F.sortIndex=Qt,t(_,F),$||B||($=!0,Lt||(Lt=!0,k()))),F},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(F){var et=M;return function(){var ft=M;M=et;try{return F.apply(this,arguments)}finally{M=ft}}}})(xd)),xd}var x_;function AA(){return x_||(x_=1,Od.exports=SA()),Od.exports}var Md={exports:{}},Ye={};var M_;function bA(){if(M_)return Ye;M_=1;var s=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},Ye.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,w=p(S,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:B}):S==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,w=p(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var V_;function wA(){if(V_)return Md.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=bA(),Md.exports}var k_;function RA(){if(k_)return ml;k_=1;var s=AA(),t=ym(),i=wA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ut:return"Profiler";case tt:return"StrictMode";case Jt:return"Suspense";case Lt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Tt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Tt(e(n))}catch{}}return null}var jt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],Qt=-1;function x(e){return{current:e}}function Y(e){0>Qt||(e.current=zt[Qt],zt[Qt]=null,Qt--)}function nt(e,n){Qt++,zt[Qt]=e.current,e.current=n}var st=x(null),yt=x(null),bt=x(null),Ut=x(null);function Ce(e,n){switch(nt(bt,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=$y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function re(){Y(st),Y(yt),Y(bt)}function ir(e){e.memoizedState!==null&&nt(Ut,e);var n=st.current,r=$y(n,e.type);n!==r&&(nt(yt,e),nt(st,r))}function Yr(e){yt.current===e&&(Y(st),Y(yt)),Ut.current===e&&(Y(Ut),ul._currentValue=ft)}var Xr,Jr;function Wn(e){if(Xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",Jr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Jr}var lo=!1;function sr(e,n){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){j=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return Wn("Activity");default:return""}}function co(e){try{var n="",r=null;do n+=uo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Nh=s.unstable_shouldYield,Zl=s.unstable_requestPaint,We=s.unstable_now,rr=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Pn=null,Pe=null;function An(e){if(typeof tu=="function"&&eu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:iu,nu=Math.log,$r=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/$r|0)|0}var ti=256,ar=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-fe(r),K=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}r&=~K}o!==0&&lr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function lr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function mo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-fe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function po(e,n){var r=n&-n;return r=(r&42)!==0?1:ur(r),(r&(e.suspendedLanes|n))!==0?0:r}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:E_(e.type))}function jn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,si="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Mh="__reactListeners$"+Bn,au="__reactHandles$"+Bn,ou="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Wr(e){delete e[ve],delete e[Ve],delete e[Zr],delete e[Mh],delete e[au]}function ai(e){var n=e[ve];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=s_(e);e!==null;){if(r=e[ve])return r;e=s_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var go=new Set,yo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(yo[e]=n,e=0;e<n.length;e++)go.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function lu(e){return ye.call(Eo,e)?!0:ye.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function ta(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Te(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function nn(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,ke(n)):r!=null?So(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function So(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function as(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function os(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(jt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Kt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function fr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&cr(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&as(e,!!r.multiple,n,!1)}}}var sa=!1;function cs(e,n,r){if(sa)return e(n,r);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(us!==null||hi!==null)&&(rc(),us&&(n=us,e=hi,hi=us=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function Hn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Rn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){dr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{dr=!1}var fi=null,Ro=null,mr=null;function Io(){if(mr)return mr;var e,n=Ro,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Fn(){return!1}function ze(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Fn,this.isPropagationStopped=Fn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(xi),hs=w({},xi,{view:0,detail:0}),Co=ze(hs),fs,ra,mi,aa=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),No=ze(aa),gr=w({},aa,{dataTransfer:0}),du=ze(gr),mu=w({},hs,{relatedTarget:0}),yr=ze(mu),Do=w({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=ze(Do),oa=w({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ze(oa),yu=w({},xi,{data:0}),pi=ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function ds(){return Tu}var tn=w({},hs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=ze(tn),Au=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(Au),u=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=ze(u),v=w({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=w({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(U),W=w({},xi,{newState:0,oldState:0}),St=ze(W),de=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,gi=Rn&&(!Ht||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function _r(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function BT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function qT(e,n){if(ua)return e==="compositionend"||!Ht&&_r(e,n)?(e=Io(),mr=Ro=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!HT[e.type]:n==="textarea"}function lp(e,n,r,o){us?hi?hi.push(o):hi=[o]:us=o,n=fc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Oo=null,xo=null;function FT(e){Fy(e,0)}function bu(e){var n=fn(e);if(cr(n))return e}function up(e,n){if(e==="change")return n}var cp=!1;if(Rn){var Vh;if(Rn){var kh="oninput"in document;if(!kh){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),kh=typeof hp.oninput=="function"}Vh=kh}else Vh=!1;cp=Vh&&(!document.documentMode||9<document.documentMode)}function fp(){Oo&&(Oo.detachEvent("onpropertychange",dp),xo=Oo=null)}function dp(e){if(e.propertyName==="value"&&bu(xo)){var n=[];lp(n,xo,e,wn(e)),cs(FT,n)}}function GT(e,n,r){e==="focusin"?(fp(),Oo=n,xo=r,Oo.attachEvent("onpropertychange",dp)):e==="focusout"&&fp()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(xo)}function KT(e,n){if(e==="click")return bu(n)}function YT(e,n){if(e==="input"||e==="change")return bu(n)}function XT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:XT;function Mo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ye.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,n){var r=mp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mp(r)}}function gp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JT=Rn&&"documentMode"in document&&11>=document.documentMode,ca=null,Uh=null,Vo=null,Ph=!1;function _p(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||ca==null||ca!==ci(o)||(o=ca,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=fc(Uh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},zh={},vp={};Rn&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Er(e){if(zh[e])return zh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in vp)return zh[e]=n[r];return e}var Ep=Er("animationend"),Tp=Er("animationiteration"),Sp=Er("animationstart"),$T=Er("transitionrun"),ZT=Er("transitionstart"),WT=Er("transitioncancel"),Ap=Er("transitionend"),bp=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Kn(e,n){bp.set(e,n),li(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],fa=0,Bh=0;function Ru(){for(var e=fa,n=Bh=fa=0;n<e;){var r=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&wp(r,h,f)}}function Iu(e,n,r,o){Cn[fa++]=e,Cn[fa++]=n,Cn[fa++]=r,Cn[fa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return Iu(e,n,r,o),Cu(e)}function Tr(e,n){return Iu(e,null,null,n),Cu(e)}function wp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<nl)throw nl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function tS(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new tS(e,n,r,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=rA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=pn(31,r,n,h),e.elementType=R,e.lanes=f,e;case J:return Sr(r.children,h,f,n);case tt:g=8,h|=24;break;case ut:return e=pn(12,r,n,h|2),e.elementType=ut,e.lanes=f,e;case Jt:return e=pn(13,r,n,h),e.elementType=Jt,e.lanes=f,e;case Lt:return e=pn(19,r,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case rt:g=9;break t;case It:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Fh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Ip(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var r=Cp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:co(n)},Cp.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var ma=[],pa=0,Du=null,ko=0,Dn=[],On=0,ms=null,yi=1,_i="";function ki(e,n){ma[pa++]=ko,ma[pa++]=Du,Du=e,ko=n}function Np(e,n,r){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ms,ms=e;var o=yi;e=_i;var h=32-fe(o)-1;o&=~(1<<h),r+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-fe(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function Qh(e){e.return!==null&&(ki(e,1),Np(e,1,0))}function Kh(e){for(;e===Du;)Du=ma[--pa],ma[pa]=null,ko=ma[--pa],ma[pa]=null;for(;e===ms;)ms=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null,yi=Dn[--On],Dn[On]=null}function Dp(e,n){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ms,yi=n.id,_i=n.overflow,ms=e}var je=null,ne=null,kt=!1,ps=null,xn=!1,Yh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Nn(n,e)),Yh}function Op(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ve]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<sl.length;r++)Nt(sl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),os(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Yy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||gs(e,!0)}function xp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!kt)return xp(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&ne&&gs(e),xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=i_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=i_(e)}else n===27?(n=ne,Ds(e.type)?(e=_d,_d=null,ne=e):ne=n):ne=je?Vn(e.stateNode.nextSibling):null;return!0}function Ar(){ne=je=null,kt=!1}function Xh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function Lo(e){ps===null?ps=[e]:ps.push(e)}var Jh=x(null),br=null,Li=null;function ys(e,n,r){nt(Jh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Jh.current,Y(Jh)}function $h(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$h(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),$h(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Zh(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Mp(br,e)}function xu(e,n){return br===null&&wr(e),Mp(e,n)}function Mp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return r}var eS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},nS=s.unstable_scheduleCallback,iS=s.unstable_NormalPriority,Se={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new eS,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&nS(iS,function(){e.controller.abort()})}var Po=null,tf=0,_a=0,va=null;function sS(e,n){if(Po===null){var r=Po=[];tf=0,_a=sd(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Vp,Vp),n}function Vp(){if(--tf===0&&Po!==null){va!==null&&(va.status="fulfilled");var e=Po;Po=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rS(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var kp=F.S;F.S=function(e,n){_y=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sS(e,n),kp!==null&&kp(e,n)};var Rr=x(null);function ef(){var e=Rr.current;return e!==null?e:ee.pooledCache}function Mu(e,n){n===null?nt(Rr,Rr.current):nt(Rr,n.pool)}function Lp(){var e=ef();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),nf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jp(e),e}throw Cr=n,Ea}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cr=r,Ea):r}}var Cr=null;function zp(){if(Cr===null)throw Error(a(459));var e=Cr;return Cr=null,e}function jp(e){if(e===Ea||e===Vu)throw Error(a(483))}var Ta=null,zo=0;function Lu(e){var n=zo;return zo+=1,Ta===null&&(Ta=[]),Pp(Ta,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bp(e){function n(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function r(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Vi(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,P,Q){return O===null||O.tag!==6?(O=Fh(P,L.mode,Q),O.return=L,O):(O=h(O,P),O.return=L,O)}function I(L,O,P,Q){var ct=P.type;return ct===J?G(L,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ir(ct)===O.type)?(O=h(O,P.props),jo(O,P),O.return=L,O):(O=Nu(P.type,P.key,P.props,null,L.mode,Q),jo(O,P),O.return=L,O)}function z(L,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Gh(P,L.mode,Q),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function G(L,O,P,Q,ct){return O===null||O.tag!==7?(O=Sr(P,L.mode,Q,ct),O.return=L,O):(O=h(O,P),O.return=L,O)}function K(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=Nu(O.type,O.key,O.props,null,L.mode,P),jo(P,O),P.return=L,P;case $:return O=Gh(O,L.mode,P),O.return=L,O;case A:return O=Ir(O),K(L,O,P)}if(jt(O)||k(O))return O=Sr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return K(L,Lu(O),P);if(O.$$typeof===ht)return K(L,xu(L,O),P);Uu(L,O)}return null}function j(L,O,P,Q){var ct=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(L,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ct?I(L,O,P,Q):null;case $:return P.key===ct?z(L,O,P,Q):null;case A:return P=Ir(P),j(L,O,P,Q)}if(jt(P)||k(P))return ct!==null?null:G(L,O,P,Q,null);if(typeof P.then=="function")return j(L,O,Lu(P),Q);if(P.$$typeof===ht)return j(L,O,xu(L,P),Q);Uu(L,P)}return null}function H(L,O,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,E(O,L,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return L=L.get(Q.key===null?P:Q.key)||null,I(O,L,Q,ct);case $:return L=L.get(Q.key===null?P:Q.key)||null,z(O,L,Q,ct);case A:return Q=Ir(Q),H(L,O,P,Q,ct)}if(jt(Q)||k(Q))return L=L.get(P)||null,G(O,L,Q,ct,null);if(typeof Q.then=="function")return H(L,O,P,Lu(Q),ct);if(Q.$$typeof===ht)return H(L,O,P,xu(O,Q),ct);Uu(O,Q)}return null}function at(L,O,P,Q){for(var ct=null,Bt=null,ot=O,wt=O=0,Ot=null;ot!==null&&wt<P.length;wt++){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var qt=j(L,ot,P[wt],Q);if(qt===null){ot===null&&(ot=Ot);break}e&&ot&&qt.alternate===null&&n(L,ot),O=f(qt,O,wt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt,ot=Ot}if(wt===P.length)return r(L,ot),kt&&ki(L,wt),ct;if(ot===null){for(;wt<P.length;wt++)ot=K(L,P[wt],Q),ot!==null&&(O=f(ot,O,wt),Bt===null?ct=ot:Bt.sibling=ot,Bt=ot);return kt&&ki(L,wt),ct}for(ot=o(ot);wt<P.length;wt++)Ot=H(ot,L,wt,P[wt],Q),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?wt:Ot.key),O=f(Ot,O,wt),Bt===null?ct=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ot.forEach(function(ks){return n(L,ks)}),kt&&ki(L,wt),ct}function mt(L,O,P,Q){if(P==null)throw Error(a(151));for(var ct=null,Bt=null,ot=O,wt=O=0,Ot=null,qt=P.next();ot!==null&&!qt.done;wt++,qt=P.next()){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var ks=j(L,ot,qt.value,Q);if(ks===null){ot===null&&(ot=Ot);break}e&&ot&&ks.alternate===null&&n(L,ot),O=f(ks,O,wt),Bt===null?ct=ks:Bt.sibling=ks,Bt=ks,ot=Ot}if(qt.done)return r(L,ot),kt&&ki(L,wt),ct;if(ot===null){for(;!qt.done;wt++,qt=P.next())qt=K(L,qt.value,Q),qt!==null&&(O=f(qt,O,wt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt);return kt&&ki(L,wt),ct}for(ot=o(ot);!qt.done;wt++,qt=P.next())qt=H(ot,L,wt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?wt:qt.key),O=f(qt,O,wt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt);return e&&ot.forEach(function(gA){return n(L,gA)}),kt&&ki(L,wt),ct}function te(L,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var ct=P.key;O!==null;){if(O.key===ct){if(ct=P.type,ct===J){if(O.tag===7){r(L,O.sibling),Q=h(O,P.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ir(ct)===O.type){r(L,O.sibling),Q=h(O,P.props),jo(Q,P),Q.return=L,L=Q;break t}r(L,O);break}else n(L,O);O=O.sibling}P.type===J?(Q=Sr(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=Nu(P.type,P.key,P.props,null,L.mode,Q),jo(Q,P),Q.return=L,L=Q)}return g(L);case $:t:{for(ct=P.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(L,O.sibling),Q=h(O,P.children||[]),Q.return=L,L=Q;break t}else{r(L,O);break}else n(L,O);O=O.sibling}Q=Gh(P,L.mode,Q),Q.return=L,L=Q}return g(L);case A:return P=Ir(P),te(L,O,P,Q)}if(jt(P))return at(L,O,P,Q);if(k(P)){if(ct=k(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),mt(L,O,P,Q)}if(typeof P.then=="function")return te(L,O,Lu(P),Q);if(P.$$typeof===ht)return te(L,O,xu(L,P),Q);Uu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(L,O.sibling),Q=h(O,P),Q.return=L,L=Q):(r(L,O),Q=Fh(P,L.mode,Q),Q.return=L,L=Q),g(L)):r(L,O)}return function(L,O,P,Q){try{zo=0;var ct=te(L,O,P,Q);return Ta=null,ct}catch(ot){if(ot===Ea||ot===Vu)throw ot;var Bt=pn(29,ot,null,L.mode);return Bt.lanes=Q,Bt.return=L,Bt}}}var Nr=Bp(!0),qp=Bp(!1),_s=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),wp(e,null,r),n}return Iu(e,o,n,r),Cu(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function qo(){if(of){var e=va;if(e!==null)throw e}}function Ho(e,n,r,o){of=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(o&j)===j){j!==0&&j===_a&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;j=n;var te=r;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){K=at.call(te,K,j);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call(te,K,j):at,j==null)break t;K=w({},K,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=K):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=K}}function Hp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Fp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hp(r[e],n)}var Sa=x(null),Pu=x(0);function Gp(e,n){e=Qi,nt(Pu,e),nt(Sa,n),Qi=e|n.baseLanes}function lf(){nt(Pu,Qi),nt(Sa,Sa.current)}function uf(){Qi=Pu.current,Y(Sa),Y(Pu)}var gn=x(null),Mn=null;function Ts(e){var n=e.alternate;nt(me,me.current&1),nt(gn,e),Mn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Mn=e)}function cf(e){nt(me,me.current),nt(gn,e),Mn===null&&(Mn=e)}function Qp(e){e.tag===22?(nt(me,me.current),nt(gn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){nt(me,me.current),nt(gn,gn.current)}function yn(e){Y(gn),Mn===e&&(Mn=null),Y(me)}var me=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Zt=null,Ae=null,ju=!1,Aa=!1,Dr=!1,Bu=0,Fo=0,ba=null,aS=0;function ce(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function ff(e,n,r,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Ng:If,Dr=!1,f=r(o,h),Dr=!1,Aa&&(f=Yp(n,r,o,h)),Kp(e),f}function Kp(e){F.H=Ko;var n=Zt!==null&&Zt.next!==null;if(Pi=0,Ae=Zt=At=null,ju=!1,Fo=0,ba=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Ou(e)&&(be=!0))}function Yp(e,n,r,o){At=e;var h=0;do{if(Aa&&(ba=null),Fo=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Dg,f=n(r,o)}while(Aa);return f}function oS(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(At.flags|=1024),n}function df(){var e=Bu!==0;return Bu=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function pf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Pi=0,Ae=Zt=At=null,Aa=!1,Fo=Bu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Zt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Fo;return Fo+=1,ba===null&&(ba=[]),e=Pp(ba,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Ng:If),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ht)return Be(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=D;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=pe();return yf(n,Zt,e)}function yf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Pi&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===_a&&(G=!0);else if((Pi&j)===j){z=z.next,j===_a&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,g=f):I=I.next=K,At.lanes|=j,ws|=j;K=z.action,Dr&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,At.lanes|=K,ws|=K;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!mn(f,e.memoizedState)&&(be=!0,G&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Xp(e,n,r){var o=At,h=pe(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn((Zt||h).memoizedState,r);if(g&&(h.memoizedState=r,be=!0),h=h.queue,Tf(Zp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},$p.bind(null,o,h,r,n),null),ee===null)throw Error(a(349));f||(Pi&127)!==0||Jp(o,n,r)}return r}function Jp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=qu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function $p(e,n,r,o){n.value=r,n.getSnapshot=o,Wp(n)&&tg(e)}function Zp(e,n,r){return r(function(){Wp(n)&&tg(e)})}function Wp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function tg(e){var n=Tr(e,2);n!==null&&un(n,e,2)}function vf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Dr){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function eg(e,n,r,o){return e.baseState=r,yf(e,Zt,typeof o=="function"?o:zi)}function lS(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ng(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,o),I=F.S;I!==null&&I(g,E),ig(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),ig(e,n,f)}catch(z){Ef(e,n,z)}}function ig(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){sg(e,n,o)},function(o){return Ef(e,n,o)}):sg(e,n,r)}function sg(e,n,r){n.status="fulfilled",n.value=r,rg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ng(e,r)))}function Ef(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,rg(n),n=n.next;while(n!==o)}e.action=null}function rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ag(e,n){return n}function og(e,n){if(kt){var r=ee.formState;if(r!==null){t:{var o=At;if(kt){if(ne){e:{for(var h=ne,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Vn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},r.queue=o,r=Rg.bind(null,At,o),o.dispatch=r,o=vf(!1),f=Rf.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=lS.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function lg(e){var n=pe();return ug(n,Zt,e)}function ug(e,n,r){if(n=yf(e,n,ag)[0],e=Fu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===Ea?Vu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},uS.bind(null,h,r),null)),[o,f,e]}function uS(e,n){e.action=n}function cg(e){var n=pe(),r=Zt;if(r!==null)return ug(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=qu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function hg(){return pe().memoizedState}function Gu(e,n,r,o){var h=en();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&hf(o,Zt.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(At.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function fg(e,n){Gu(8390656,8,e,n)}function Tf(e,n){Qu(2048,8,e,n)}function cS(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=qu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function dg(e){var n=pe().memoizedState;return cS({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function mg(e,n){return Qu(4,2,e,n)}function pg(e,n){return Qu(4,4,e,n)}function gg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yg(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,gg.bind(null,n,e),r)}function Sf(){}function _g(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function vg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Dr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function Af(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ey(),At.lanes|=e,ws|=e,r)}function Eg(e,n,r,o){return mn(r,n)?r:Sa.current!==null?(e=Af(e,r,o),mn(e,n)||(be=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(be=!0,e.memoizedState=r):(e=Ey(),At.lanes|=e,ws|=e,n)}function Tg(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Rf(e,!1,n,r);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=rS(I,o);Qo(e,n,G,En(e))}else Qo(e,n,o,En(e))}catch(K){Qo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function hS(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Sg(e).queue;Tg(e,h,n,ft,r===null?hS:function(){return Ag(e),r(o)})}function Sg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ag(e){var n=Sg(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},En())}function wf(){return Be(ul)}function bg(){return pe().memoizedState}function wg(){return pe().memoizedState}function fS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=vs(r);var o=Es(n,e,r);o!==null&&(un(o,n,r),Bo(o,n,r)),n={cache:Wh()},e.payload=n;return}n=n.return}}function dS(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ig(n,r):(r=qh(e,n,r,o),r!==null&&(un(r,e,o),Cg(r,n,o)))}function Rg(e,n,r){var o=En();Qo(e,n,r,o)}function Qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ig(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Iu(e,n,h,0),ee===null&&Ru(),!1}catch{}if(r=qh(e,n,h,o),r!==null)return un(r,e,o),Cg(r,n,o),!0}return!1}function Rf(e,n,r,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&un(n,e,2)}function Ku(e){var n=e.alternate;return e===At||n!==null&&n===At}function Ig(e,n){Aa=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Cg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}var Ko={readContext:Be,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Ko.useEffectEvent=ce;var Ng={readContext:Be,use:Hu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:fg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,gg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Dr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(Dr){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=dS.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=Rg.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(e,n){var r=en();return Af(r,e,n)},useTransition:function(){var e=vf(!1);return e=Tg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=en();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ee===null)throw Error(a(349));(Dt&127)!==0||Jp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,fg(Zp.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},$p.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=ee.identifierPrefix;if(kt){var r=_i,o=yi;r=(o&~(1<<32-fe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=aS++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:og,useActionState:og,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return en().memoizedState=fS.bind(null,At)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},If={readContext:Be,use:Hu,useCallback:_g,useContext:Be,useEffect:Tf,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:Fu,useRef:hg,useState:function(){return Fu(zi)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=pe();return Eg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Xp,useId:bg,useHostTransitionStatus:wf,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var r=pe();return eg(r,Zt,e,n)},useMemoCache:gf,useCacheRefresh:wg};If.useEffectEvent=dg;var Dg={readContext:Be,use:Hu,useCallback:_g,useContext:Be,useEffect:Tf,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:_f,useRef:hg,useState:function(){return _f(zi)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=pe();return Zt===null?Af(r,e,n):Eg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=_f(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Xp,useId:bg,useHostTransitionStatus:wf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var r=pe();return Zt!==null?eg(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:wg};Dg.useEffectEvent=dg;function Cf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=vs(r);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,r),n!==null&&(un(n,e,r),Bo(n,e,r))}};function Og(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function xg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Mg(e){wu(e)}function Vg(e){console.error(e)}function kg(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Ug(e){return e=vs(e),e.tag=3,e}function Pg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lg(n,r,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function mS(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?ac():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ed(e,o,h)),!1}throw Error(a(435,r.tag))}return ed(e,o,h),ac(),!1}if(kt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Lo(Nn(e,r)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Lo(Nn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,r),h=Df(e.stateNode,o,h),af(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,r),el===null?el=[f]:el.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ug(h),Pg(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),be=!1;function qe(e,n,r,o){n.child=e===null?qp(n,null,r,o):Nr(n,e.child,r,o)}function zg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return wr(n),o=ff(e,n,r,g,f,h),E=df(),e!==null&&!be?(mf(e,n,h),ji(e,n,h)):(kt&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function jg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bg(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Bg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,ji(e,n,h)}return xf(e,n,r,o,h)}function qg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Hg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Gp(n,f):lf(),Qp(n);else return o=n.lanes=536870912,Hg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),Gp(n,f),Ss(),n.memoizedState=null):(e!==null&&Mu(n,null),lf(),Ss());return qe(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(e,n,r,o,h){var f=ef();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),lf(),Qp(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fg(e,n,r){return Nr(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function pS(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Yo(null,e);if(cf(n),(e=ne)?(e=n_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ip(e),r.return=n,n.child=r,je=n,ne=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Fg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ya(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(o=ee,o!==null&&(g=po(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(e,g),un(o,e,g),Of;ac(),n=Fg(e,n,r)}else e=f.treeContext,ne=Vn(g.nextSibling),je=n,kt=!0,ps=null,xn=!1,e!==null&&Dp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,o,h){return wr(n),r=ff(e,n,r,o,void 0,h),o=df(),e!==null&&!be?(mf(e,n,h),ji(e,n,h)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Gg(e,n,r,o,h,f){return wr(n),n.updateQueue=null,r=Yp(n,o,r,h),Kp(e),o=df(),e!==null&&!be?(mf(e,n,f),ji(e,n,f)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Qg(e,n,r,o,h){if(wr(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Or(r,E);f.props=I;var z=f.context,G=r.contextType;g=da,typeof G=="object"&&G!==null&&(g=Be(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&xg(n,f,o,g),_s=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||_s?(typeof K=="function"&&(Cf(n,r,K,o),z=n.memoizedState),(I=_s||Og(n,r,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,G=Or(r,g),f.props=G,K=n.pendingProps,j=f.context,z=r.contextType,I=da,typeof z=="object"&&z!==null&&(I=Be(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==I)&&xg(n,f,o,I),_s=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var H=n.memoizedState;g!==K||j!==H||_s||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Cf(n,r,E,o),H=n.memoizedState),(G=_s||Og(n,r,G,o,j,H,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Kg(e,n,r,o){return Ar(),n.flags|=256,qe(e,n,r,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Lp()}}function kf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Yg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ts(n):Ss(),(e=ne)?(e=n_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ip(e),r.return=n,n.child=r,je=n,ne=null)):e=null,e===null)throw gs(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Sr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,g,r),n.memoizedState=Mf,Yo(null,o)):(Ts(n),Lf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Uf(e,n,r)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Sr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,r),o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,g,r),n.memoizedState=Mf,n=Yo(null,o));else if(Ts(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Uf(e,n,r)}else if(be||ya(e,n,r,!1),g=(r&e.childLanes)!==0,be||g){if(g=ee,g!==null&&(o=po(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Tr(e,o),un(g,e,o),Of;gd(E)||ac(),n=Uf(e,n,r)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Vn(E.nextSibling),je=n,kt=!0,ps=null,xn=!1,e!==null&&Dp(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Sr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(r):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Lp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,r),n.memoizedState=Mf,Yo(e.child,o)):(Ts(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Lf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Uf(e,n,r){return Nr(n,e.child,null,r),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,r)}function Pf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Jg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),qe(e,n,o,r),o=kt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xg(e,r,n);else if(e.tag===19)Xg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Pf(n,!0,r,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function gS(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ys(n,Se,e.memoizedState.cache),Ar();break;case 27:case 5:ir(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yg(e,n,r):(Ts(n),e=ji(e,n,r),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Jg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,qg(e,n,r,n.pendingProps);case 24:ys(n,Se,e.memoizedState.cache)}return ji(e,n,r)}function $g(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!zf(e,r)&&(n.flags&128)===0)return be=!1,gS(e,n,r);be=(e.flags&131072)!==0}else be=!1,kt&&(n.flags&1048576)!==0&&Np(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Or(e,o),n.tag=1,n=Qg(null,n,e,o,r)):(n.tag=0,n=xf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===It){n.tag=11,n=zg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=jg(null,n,e,o,r);break t}}throw n=Tt(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Or(o,n.pendingProps),Qg(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Ho(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ys(n,Se,o),o!==f.cache&&Zh(n,[Se],r,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kg(e,n,o,r);break t}else if(o!==h){h=Nn(Error(a(424)),n),Lo(h),n=Kg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Vn(e.firstChild),je=n,kt=!0,ps=null,xn=!0,r=qp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ar(),o===h){n=ji(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=l_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=dc(bt.current).createElement(r),o[ve]=n,o[Ve]=e,He(o,r,e),Ee(o),n.stateNode=o):n.memoizedState=l_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ir(n),e===null&&kt&&(o=n.stateNode=r_(n.type,n.pendingProps,bt.current),je=n,xn=!0,h=ne,Ds(n.type)?(_d=h,ne=Vn(o.firstChild)):ne=h),qe(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=QS(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,je=n,ne=Vn(o.firstChild),xn=!1,h=!0):h=!1),h||gs(n)),ir(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,oS,null,null,r),ul._currentValue=h),Ju(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=ne)&&(r=KS(r,n.pendingProps,xn),r!==null?(n.stateNode=r,je=n,ne=null,e=!0):e=!1),e||gs(n)),null;case 13:return Yg(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,r):qe(e,n,o,r),n.child;case 11:return zg(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return jg(e,n,n.type,n.pendingProps,r);case 15:return Bg(e,n,n.type,n.pendingProps,r);case 19:return Jg(e,n,r);case 31:return pS(e,n,r);case 22:return qg(e,n,r,n.pendingProps);case 24:return wr(n),o=Be(Se),e===null?(h=ef(),h===null&&(h=ee,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},sf(n),ys(n,Se,h)):((e.lanes&r)!==0&&(rf(e,n),Ho(n,null,null,r),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Se,o)):(o=f.cache,ys(n,Se,o),o!==h.cache&&Zh(n,[Se],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function jf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw Cr=ku,nf}else e.flags&=-16777217}function Zg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d_(n))if(by())e.flags|=8192;else throw Cr=ku,nf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Na|=n)}function Xo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function yS(e,n,r){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Se),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),Zg(n,f)):(ie(n),jf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ie(n),Zg(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ie(n),jf(n,h,e,o,r)),null;case 27:if(Yr(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=st.current,ga(n)?Op(n):(e=r_(h,o,r),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=st.current,ga(n))Op(n);else{var g=dc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ie(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ga(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,r)),e||gs(n,!0)}else e=dc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&ld(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rp(r,e),r=r.sibling;return nt(me,me.current&1|2),kt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ic&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*We()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=me.current,nt(me,h?r&1|2:r&1),kt&&ki(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Rr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _S(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),uf(),e!==null&&Y(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Se),null;case 25:return null;default:return null}}function Wg(e,n){switch(Kh(n),n.tag){case 3:Ui(Se),re();break;case 26:case 27:case 5:Yr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(me);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),uf(),e!==null&&Y(Rr);break;case 24:Ui(Se)}}function Jo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function As(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(G){Xt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function ty(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Fp(n,r)}catch(o){Xt(e,e.return,o)}}}function ey(e,n,r){r.props=Or(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function $o(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function ny(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;jS(o,e.type,r,n),o[Ve]=n}catch(h){Xt(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ds(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function sy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[ve]=e,n[Ve]=r}catch(f){Xt(e,e.return,f)}}var qi=!1,we=!1,Ff=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Le=null;function vS(e,n){if(e=e.containerInfo,hd=Ec,e=yp(e),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(I=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},Ec=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Or(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)pd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function ay(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&Jo(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(r,r.return,g)}else{var h=Or(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(r,r.return,g)}}o&64&&ty(r),o&512&&$o(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fp(e,n)}catch(g){Xt(r,r.return,g)}}break;case 27:n===null&&o&4&&sy(r);case 26:case 5:Fi(e,r),n===null&&o&4&&ny(r),o&512&&$o(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&uy(e,r);break;case 13:Fi(e,r),o&4&&cy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=CS.bind(null,r),YS(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||we,h=qi;var f=we;qi=o,(we=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),qi=h,we=f}break;case 30:break;default:Fi(e,r)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Hi(e,n,r){for(r=r.child;r!==null;)ly(e,n,r),r=r.sibling}function ly(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:we||vi(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:we||vi(r,n);var o=oe,h=rn;Ds(r.type)&&(oe=r.stateNode,rn=!1),Hi(e,n,r),al(r.stateNode),oe=o,rn=h;break;case 5:we||vi(r,n);case 6:if(o=oe,h=rn,oe=null,Hi(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):t_(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,Hi(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:As(2,r,n),we||As(4,r,n),Hi(e,n,r);break;case 1:we||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ey(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:we=(o=we)||r.memoizedState!==null,Hi(e,n,r),we=o;break;default:Hi(e,n,r)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Xt(n,n.return,r)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Xt(n,n.return,r)}}function ES(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ry),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=ES(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=NS.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));ly(f,g,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var Yn=null;function hy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(As(3,e,e.return),Jo(3,e),As(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Yn;if(an(n,e),on(e),o&512&&(we||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[ve]=e,Ee(f),o=f;break t;case"link":var g=h_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(g=h_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else f_(h,e.type,e.stateNode);else e.stateNode=c_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?f_(h,e.type,e.stateNode):c_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||r===null||vi(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Xt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Xt(e,e.return,at)}}break;case 3:if(gc=null,h=Yn,Yn=mc(n.containerInfo),an(n,e),Yn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(at){Xt(e,e.return,at)}Ff&&(Ff=!1,fy(e));break;case 4:o=Yn,Yn=mc(e.stateNode.containerInfo),an(n,e),on(e),Yn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=qi,G=we;if(qi=z||h,we=G||I,an(n,e),we=G,qi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||qi||we||xr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Xt(I,I.return,at)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Xt(I,I.return,at)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?e_(H,!0):e_(I.stateNode,!1)}catch(at){Xt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(iy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);Wu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=qf(e);Wu(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=qf(e);Hf(e,z,I);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ay(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),xr(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ey(n,n.return,r),xr(n);break;case 27:al(n.stateNode);case 26:case 5:vi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Jo(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Hp(I[h],E)}catch(z){Xt(o,o.return,z)}}r&&g&64&&ty(f),$o(f,f.return);break;case 27:sy(f);case 26:case 5:Gi(h,f,r),r&&o===null&&g&4&&ny(f),$o(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&g&4&&uy(h,f);break;case 13:Gi(h,f,r),r&&g&4&&cy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),$o(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Gf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Xn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,r,o),n=n.sibling}function dy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,o),h&2048&&Jo(9,n);break;case 1:Xn(e,n,r,o);break;case 3:Xn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Xn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Xn(e,n,r,o);break;case 31:Xn(e,n,r,o);break;case 13:Xn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,o):Zo(e,n):f._visibility&2?Xn(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Xn(e,n,r,o),h&2048&&Qf(n.alternate,n);break;default:Xn(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,I,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ra(f,g,E,I,h):Zo(f,g):(G._visibility|=2,Ra(f,g,E,I,h)),h&&z&2048&&Gf(g.alternate,g);break;case 24:Ra(f,g,E,I,h),h&&z&2048&&Qf(g.alternate,g);break;default:Ra(f,g,E,I,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(r,o),h&2048&&Gf(o.alternate,o);break;case 24:Zo(r,o),h&2048&&Qf(o.alternate,o);break;default:Zo(r,o)}n=n.sibling}}var Wo=8192;function Ia(e,n,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)my(e,n,r),e=e.sibling}function my(e,n,r){switch(e.tag){case 26:Ia(e,n,r),e.flags&Wo&&e.memoizedState!==null&&aA(r,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,r);break;case 3:case 4:var o=Yn;Yn=mc(e.stateNode.containerInfo),Ia(e,n,r),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ia(e,n,r),Wo=o):Ia(e,n,r));break;default:Ia(e,n,r)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,yy(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&As(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):tl(e);break;default:tl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,yy(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function yy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(oy(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var TS={getCacheForType:function(e){var n=Be(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Se).controller.signal}},SS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Ct=null,Dt=0,Yt=0,_n=null,bs=!1,Ca=!1,Kf=!1,Qi=0,he=0,ws=0,Mr=0,Yf=0,vn=0,Na=0,el=null,ln=null,Xf=!1,nc=0,_y=0,ic=1/0,sc=null,Rs=null,De=0,Is=null,Da=null,Ki=0,Jf=0,$f=null,vy=null,nl=0,Zf=null;function En(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?sd():ru()}function Ey(){if(vn===0)if((Dt&536870912)===0||kt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Cs(e,Dt,vn,!1)),or(e,r),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Mr|=r),he===4&&Cs(e,Dt,vn,!1)),Ei(e))}function Ty(e,n,r){if((Ft&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?wS(e,n):td(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Cs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!AS(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=el;var I=E.current.memoizedState.isDehydrated;if(I&&(Oa(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!bs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-We(),10<h)){if(Cs(o,n,vn,!bs),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=Zy(Sy.bind(null,o,r,ln,sc,Xf,n,vn,Mr,Na,bs,f,"Throttled",-0,0),h);break t}Sy(o,r,ln,sc,Xf,n,vn,Mr,Na,bs,f,null,-0,0)}}break}while(!0);Ei(e)}function Sy(e,n,r,o,h,f,g,E,I,z,G,K,j,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},my(n,f,K);var at=(f&62914560)===f?nc-We():(f&4194048)===f?_y-We():0;if(at=oA(K,at),at!==null){Ki=f,e.cancelPendingCommit=at(Dy.bind(null,e,n,f,r,o,h,g,E,I,G,K,null,j,H)),Cs(e,f,g,!z);return}}Dy(e,n,f,r,o,h,g,E,I)}function AS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,r,o){n&=~Yf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&lr(e,r,n)}function rc(){return(Ft&6)===0?(il(0),!1):!0}function Wf(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Li=br=null,pf(e),Ta=null,zo=0,e=Ct;for(;e!==null;)Wg(e.alternate,e),e=e.return;Ct=null}}function Oa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,HS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,Wf(),ee=e,Ct=r=Vi(e.current,null),Dt=n,Yt=0,_n=null,bs=!1,Ca=zn(e,n),Kf=!1,Na=vn=Yf=Mr=ws=he=0,ln=el=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Ru(),r}function Ay(e,n){At=null,F.H=Ko,n===Ea||n===Vu?(n=zp(),Yt=3):n===nf?(n=zp(),Yt=4):Yt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(he=1,Yu(e,Nn(n,e.current)))}function by(){var e=gn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function wy(){var e=F.H;return F.H=Ko,e===null?Ko:e}function Ry(){var e=F.A;return F.A=TS,e}function ac(){he=4,bs||(Dt&4194048)!==Dt&&gn.current!==null||(Ca=!0),(ws&134217727)===0&&(Mr&134217727)===0||ee===null||Cs(ee,Dt,vn,!1)}function td(e,n,r){var o=Ft;Ft|=2;var h=wy(),f=Ry();(ee!==e||Dt!==n)&&(sc=null,Oa(e,n)),n=!1;var g=he;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,I=_n;switch(Yt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Yt;if(Yt=0,_n=null,xa(e,E,I,z),r&&Ca){g=0;break t}break;default:z=Yt,Yt=0,_n=null,xa(e,E,I,z)}}bS(),g=he;break}catch(G){Ay(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=br=null,Ft=o,F.H=h,F.A=f,Ct===null&&(ee=null,Dt=0,Ru()),g}function bS(){for(;Ct!==null;)Iy(Ct)}function wS(e,n){var r=Ft;Ft|=2;var o=wy(),h=Ry();ee!==e||Dt!==n?(sc=null,ic=We()+500,Oa(e,n)):Ca=zn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,xa(e,n,f,1);break;case 2:case 9:if(Up(f)){Yt=0,_n=null,Cy(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ei(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Up(f)?(Yt=0,_n=null,Cy(n)):(Yt=0,_n=null,xa(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?d_(g):E.stateNode.complete){Yt=0,_n=null;var I=E.sibling;if(I!==null)Ct=I;else{var z=E.return;z!==null?(Ct=z,oc(z)):Ct=null}break e}}Yt=0,_n=null,xa(e,n,f,5);break;case 6:Yt=0,_n=null,xa(e,n,f,6);break;case 8:Wf(),he=6;break t;default:throw Error(a(462))}}RS();break}catch(G){Ay(e,G)}while(!0);return Li=br=null,F.H=o,F.A=h,Ft=r,Ct!==null?0:(ee=null,Dt=0,Ru(),he)}function RS(){for(;Ct!==null&&!Nh();)Iy(Ct)}function Iy(e){var n=$g(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?oc(e):Ct=n}function Cy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Gg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Gg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:pf(n);default:Wg(r,n),n=Ct=Rp(n,Qi),n=$g(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?oc(e):Ct=n}function xa(e,n,r,o){Li=br=null,pf(n),Ta=null,zo=0;var h=n.return;try{if(mS(e,h,n,r,Dt)){he=1,Yu(e,Nn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,Yu(e,Nn(r,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Ca||(Dt&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ny(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,bs);return}e=n.return;var r=yS(n.alternate,n,Qi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function Ny(e,n){do{var r=_S(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);he=6,Ct=null}function Dy(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do lc();while(De!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,xh(e,r,f,g,E,I),e===ee&&(Ct=ee=null,Dt=0),Da=n,Is=e,Ki=r,Jf=f,$f=h,vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,DS(ss,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,g=Ft,Ft|=4;try{vS(e,n,r)}finally{Ft=g,et.p=h,F.T=o}}De=1,Oy(),xy(),My()}}function Oy(){if(De===1){De=0;var e=Is,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=et.p;et.p=2;var h=Ft;Ft|=4;try{hy(n,e);var f=fd,g=yp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&gp(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,mt=Math.min(I.start,at),te=I.end===void 0?mt:Math.min(I.end,at);!H.extend&&mt>te&&(g=te,te=mt,mt=g);var L=pp(E,mt),O=pp(E,te);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=K.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),mt>te?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!hd,fd=hd=null}finally{Ft=h,et.p=o,F.T=r}}e.current=n,De=2}}function xy(){if(De===2){De=0;var e=Is,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=et.p;et.p=2;var h=Ft;Ft|=4;try{ay(e,n.alternate,n)}finally{Ft=h,et.p=o,F.T=r}}De=3}}function My(){if(De===4||De===3){De=0,Zl();var e=Is,n=Da,r=Ki,o=vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=Is=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Di(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Ki&3)!==0&&lc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Zf?nl++:(nl=0,Zf=e):nl=0,il(0)}}function Vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function lc(){return Oy(),xy(),My(),ky()}function ky(){if(De!==5)return!1;var e=Is,n=Jf;Jf=0;var r=Di(Ki),o=F.T,h=et.p;try{et.p=32>r?32:r,F.T=null,r=$f,$f=null;var f=Is,g=Ki;if(De=0,Da=Is=null,Ki=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,gy(f.current),dy(f,f.current,g,r),Ft=E,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{et.p=h,F.T=o,Vy(e,n)}}function Ly(e,n,r){n=Nn(r,n),n=Df(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(or(e,2),Ei(e))}function Xt(e,n,r){if(e.tag===3)Ly(e,e,r);else for(;n!==null;){if(n.tag===3){Ly(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Nn(r,e),r=Ug(2),o=Es(n,r,2),o!==null&&(Pg(r,o,n,e),or(o,2),Ei(o));break}}n=n.return}}function ed(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new SS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Kf=!0,h.add(r),e=IS.bind(null,e,n,r),n.then(e,e))}function IS(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ee===e&&(Dt&r)===r&&(he===4||he===3&&(Dt&62914560)===Dt&&300>We()-nc?(Ft&2)===0&&Oa(e,0):Yf|=r,Na===Dt&&(Na=0)),Ei(e)}function Uy(e,n){n===0&&(n=su()),e=Tr(e,n),e!==null&&(or(e,n),Ei(e))}function CS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(e,r)}function NS(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,r)}function DS(e,n){return Ne(e,n)}var uc=null,Ma=null,nd=!1,cc=!1,id=!1,Ns=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?uc=Ma=e:Ma=Ma.next=e),cc=!0,nd||(nd=!0,xS())}function il(e,n){if(!id&&cc){id=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,By(o,f))}else f=Dt,f=ni(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(r=!0,By(o,f));o=o.next}while(r);id=!1}}function OS(){Py()}function Py(){cc=nd=!1;var e=0;Ns!==0&&qS()&&(e=Ns);for(var n=We(),r=null,o=uc;o!==null;){var h=o.next,f=zy(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Ma=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}De!==0&&De!==5||il(e),Ns!==0&&(Ns=0)}function zy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&is(o),Di(r)){case 2:case 8:r=fo;break;case 32:r=ss;break;case 268435456:r=Wl;break;default:r=ss}return o=jy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function jy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ty(e,o,n),zy(e,We()),e.callbackNode!=null&&e.callbackNode===r?jy.bind(null,e):null)}function By(e,n){if(lc())return null;Ty(e,n,!0)}function xS(){FS(function(){(Ft&6)!==0?Ne(ho,OS):Py()})}function sd(){if(Ns===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ns=e}return Ns}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Hy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function MS(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=qy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var I=g?Hy(h,g):new FormData(h);bf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Hy(h,g):new FormData(h),bf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],VS=ad.toLowerCase(),kS=ad[0].toUpperCase()+ad.slice(1);Kn(VS,"on"+kS)}Kn(Ep,"onAnimationEnd"),Kn(Tp,"onAnimationIteration"),Kn(Sp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn($T,"onTransitionRun"),Kn(ZT,"onTransitionStart"),Kn(WT,"onTransitionCancel"),Kn(Ap,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Fy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}}}}function Nt(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var o=e+"__bubble";r.has(o)||(Gy(n,e,2,!1),r.add(o))}function od(e,n,r){var o=0;n&&(o|=4),Gy(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[hc]){e[hc]=!0,go.forEach(function(r){r!=="selectionchange"&&(LS.has(r)||od(r,!1,e),od(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,od("selectionchange",!1,n))}}function Gy(e,n,r,o){switch(E_(n)){case 2:var h=cA;break;case 8:h=hA;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,G=wn(r),K=[];t:{var j=bp.get(e);if(j!==void 0){var H=di,at=e;switch(e){case"keypress":if(pr(r)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":at="focus",H=yr;break;case"focusout":at="blur",H=yr;break;case"beforeblur":case"afterblur":H=yr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ep:case Tp:case Sp:H=pu;break;case Ap:H=T;break;case"scroll":case"scrollend":H=Co;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=St}var mt=(n&4)!==0,te=!mt&&(e==="scroll"||e==="scrollend"),L=mt?j!==null?j+"Capture":null:j;mt=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=Hn(O,L),Q!=null&&mt.push(rl(O,Q,P))),te)break;O=O.return}0<mt.length&&(j=new H(j,at,null,r,G),K.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==wo&&(at=r.relatedTarget||r.fromElement)&&(ai(at)||at[si]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=z,at=at?ai(at):null,at!==null&&(te=c(at),mt=at.tag,at!==te||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(mt=No,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,Q="onPointerLeave",L="onPointerEnter",O="pointer"),te=H==null?j:fn(H),P=at==null?j:fn(at),j=new mt(Q,O+"leave",H,r,G),j.target=te,j.relatedTarget=P,Q=null,ai(G)===z&&(mt=new mt(L,O+"enter",at,r,G),mt.target=P,mt.relatedTarget=te,Q=mt),te=Q,H&&at)e:{for(mt=US,L=H,O=at,P=0,Q=L;Q;Q=mt(Q))P++;Q=0;for(var ct=O;ct;ct=mt(ct))Q++;for(;0<P-Q;)L=mt(L),P--;for(;0<Q-P;)O=mt(O),Q--;for(;P--;){if(L===O||O!==null&&L===O.alternate){mt=L;break e}L=mt(L),O=mt(O)}mt=null}else mt=null;H!==null&&Qy(K,j,H,mt,!1),at!==null&&te!==null&&Qy(K,te,at,mt,!0)}}t:{if(j=z?fn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=up;else if(op(j))if(cp)Bt=YT;else{Bt=QT;var ot=GT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&na(z.elementType)&&(Bt=up):Bt=KT;if(Bt&&(Bt=Bt(e,z))){lp(K,Bt,r,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&So(j,"number",j.value)}switch(ot=z?fn(z):window,e){case"focusin":(op(ot)||ot.contentEditable==="true")&&(ca=ot,Uh=z,Vo=null);break;case"focusout":Vo=Uh=ca=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,_p(K,r,G);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":_p(K,r,G)}var wt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ua?_r(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(gi&&r.locale!=="ko"&&(ua||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ua&&(wt=Io()):(fi=G,Ro="value"in fi?fi.value:fi.textContent,ua=!0)),ot=fc(z,Ot),0<ot.length&&(Ot=new pi(Ot,e,null,r,G),K.push({event:Ot,listeners:ot}),wt?Ot.data=wt:(wt=la(r),wt!==null&&(Ot.data=wt)))),(wt=In?BT(e,r):qT(e,r))&&(Ot=fc(z,"onBeforeInput"),0<Ot.length&&(ot=new pi("onBeforeInput","beforeinput",null,r,G),K.push({event:ot,listeners:Ot}),ot.data=wt)),MS(K,e,z,r,G)}Fy(K,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&o.unshift(rl(e,h,f)),h=Hn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function US(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(r,f),z!=null&&g.unshift(rl(r,z,I))):h||(z=Hn(r,f),z!=null&&g.push(rl(r,z,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var PS=/\r\n?/g,zS=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(PS,`
`).replace(zS,"")}function Yy(e,n){return n=Ky(n),Ky(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ta(e,r,o))}}function cd(e,n,r,o,h,f){switch(r){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Wt(e,n,o,G,r,null)}}uu(e,f,E,I,z,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):r!=null&&as(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,g,E,r,null)}os(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,I,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Nt(sl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,r,null)}return;default:if(na(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&cd(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Wt(e,n,E,o,r,null))}function jS(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,K)}}for(var j in o){var H=o[j];if(K=r[j],o.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Wt(e,n,j,H,o,K)}}ea(e,g,E,I,z,G,f,h);return;case"select":H=g=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Wt(e,n,h,f,o,I)}n=E,r=g,o=H,j!=null?as(e,!!r,j,!1):!!o!=!!r&&(n!=null?as(e,!!r,n,!0):as(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}cu(e,j,H);return;case"option":for(var at in r)j=r[at],r.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Wt(e,n,at,null,o,j));for(I in o)j=o[I],H=r[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,I,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)j=r[mt],r.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Wt(e,n,mt,null,o,j);for(z in o)if(j=o[z],H=r[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,z,j,o,H)}return;default:if(na(n)){for(var te in r)j=r[te],r.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&cd(e,n,te,void 0,o,j);for(G in o)j=o[G],H=r[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||cd(e,n,G,j,o,H);return}}for(var L in r)j=r[L],r.hasOwnProperty(L)&&j!=null&&!o.hasOwnProperty(L)&&Wt(e,n,L,null,o,j);for(K in o)j=o[K],H=r[K],!o.hasOwnProperty(K)||j===H||j==null&&H==null||Wt(e,n,K,j,o,H)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Xy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&Xy(K)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function qS(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(GS)}:Zy;function GS(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function t_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,al(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&al(e.ownerDocument.body);r=h}while(r);Ua(n)}function e_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),Wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function QS(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function KS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function n_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function YS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function i_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function s_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var kn=new Map,a_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=et.d;et.d={f:XS,r:JS,D:$S,C:ZS,L:WS,m:tA,X:nA,S:eA,M:iA};function XS(){var e=Yi.f(),n=rc();return e||n}function JS(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function o_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),a_.has(h)||(a_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function $S(e){Yi.D(e),o_("dns-prefetch",e,null)}function ZS(e,n){Yi.C(e,n),o_("preconnect",e,n)}function WS(e,n,r){Yi.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function tA(e,n){Yi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ll(f)))return}o=r.createElement("link"),He(o,"link",e),Ee(o),r.head.appendChild(o)}}}function eA(e,n,r){Yi.S(e,n,r);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=kn.get(f))&&vd(e,r);var I=g=o.createElement("link");Ee(I),He(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function nA(e,n){Yi.X(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&Ed(e,n),f=r.createElement("script"),Ee(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iA(e,n){Yi.M(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Ed(e,n),f=r.createElement("script"),Ee(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function l_(e,n,r,o){var h=(h=bt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ka(r.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||sA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function sA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),Ee(n),e.head.appendChild(n))}function La(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function c_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=ka(r.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=u_(r),(h=kn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=La(r.src),(h=e.querySelector(ll(f)))?(n.instance=h,Ee(h),h):(o=r,(h=kn.get(f))&&(o=w({},r),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function h_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function f_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function rA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function d_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function aA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ee(f);return}f=n.ownerDocument||n,o=u_(o),(h=kn.get(h))&&vd(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function oA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*BS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(lA,e),_c=null,yc.call(e))}function lA(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function uA(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function m_(e,n,r,o,h,f,g,E,I,z,G,K){return e=new uA(e,n,r,g,I,z,G,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},sf(f),e}function p_(e){return e?(e=da,e):da}function g_(e,n,r,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Es(e,o,n),r!==null&&(un(r,e,n),Bo(r,e,n))}function y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Sd(e,n){y_(e,n),(e=e.alternate)&&y_(e,n)}function __(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&un(n,e,67108864),Sd(e,67108864)}}function v_(e){if(e.tag===13||e.tag===31){var n=En();n=ur(n);var r=Tr(e,n);r!==null&&un(r,e,n),Sd(e,n)}}var Ec=!0;function cA(e,n,r,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Ad(e,n,r,o)}finally{et.p=f,F.T=h}}function hA(e,n,r,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Ad(e,n,r,o)}finally{et.p=f,F.T=h}}function Ad(e,n,r,o){if(Ec){var h=bd(o);if(h===null)ud(e,n,o,Tc,r),T_(e,o);else if(dA(h,e,n,r,o))o.stopPropagation();else if(T_(e,o),n&4&&-1<fA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-fe(g);E.entanglements[1]|=I,g&=~I}Ei(f),(Ft&6)===0&&(ic=We()+500,il(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&un(E,f,2),rc(),Sd(f,2)}if(f=bd(o),f===null&&ud(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,r)}}function bd(e){return e=wn(e),wd(e)}var Tc=null;function wd(e){if(Tc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function E_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case ho:return 2;case fo:return 8;case ss:case Dh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Os=null,xs=null,Ms=null,cl=new Map,hl=new Map,Vs=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&__(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function dA(e,n,r,o,h){switch(n){case"focusin":return Os=fl(Os,e,n,r,o,h),!0;case"dragenter":return xs=fl(xs,e,n,r,o,h),!0;case"mouseover":return Ms=fl(Ms,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,r,o,h)),!0}return!1}function S_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){v_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){v_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return n=bn(r),n!==null&&__(n),e.blockedOn=r,!1;n.shift()}return!0}function A_(e,n,r){Sc(e)&&r.delete(n)}function mA(){Rd=!1,Os!==null&&Sc(Os)&&(Os=null),xs!==null&&Sc(xs)&&(xs=null),Ms!==null&&Sc(Ms)&&(Ms=null),cl.forEach(A_),hl.forEach(A_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mA)))}var bc=null;function b_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(I){return Ac(I,e)}Os!==null&&Ac(Os,e),xs!==null&&Ac(xs,e),Ms!==null&&Ac(Ms,e),cl.forEach(n),hl.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)S_(r),r.blockedOn===null&&Vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||b_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),b_(r)}}}function w_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}wc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();g_(r,o,e,n,null,null)},wc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),rc(),n[si]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&S_(e)}};var R_=t.version;if(R_!=="19.2.4")throw Error(a(527,R_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var pA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Pn=Rc.inject(pA),Pe=Rc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Mg,f=Vg,g=kg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=m_(e,1,!1,null,null,r,o,null,h,f,g,w_),e[si]=n.current,ld(e),new Id(n)},ml.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Mg,g=Vg,E=kg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=m_(e,1,!0,n,r??null,o,h,I,f,g,E,w_),n.context=p_(null),r=n.current,o=En(),o=ur(o),h=vs(o),h.callback=null,Es(r,h,o),r=o,n.current.lanes=r,or(n,r),Ei(n),e[si]=n.current,ld(e),new wc(n)},ml.version="19.2.4",ml}var L_;function IA(){if(L_)return Dd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=RA(),Dd.exports}var CA=IA();const NA=()=>{};var U_={};const dE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},DA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,B=y&63;_||(B=64,d||(M=64)),a.push(i[S],i[w],i[M],i[B])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(dE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):DA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new OA;const M=c<<2|p>>4;if(a.push(M),y!==64){const B=p<<4&240|y>>2;if(a.push(B),w!==64){const $=y<<6&192|w;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(s){const t=dE(s);return mE.encodeByteArray(t,!0)},Hc=function(s){return xA(s).replace(/\./g,"")},pE=function(s){try{return mE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VA=()=>MA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof U_>"u")return;const s=U_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&pE(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return NA()||VA()||kA()||LA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},gE=s=>ch()?.emulatorHosts?.[s],UA=s=>{const t=gE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},yE=()=>ch()?.config,_E=s=>ch()?.[`_${s}`];class PA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vE(s){return(await fetch(s,{credentials:"include"})).ok}function zA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function jA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function BA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function EE(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Sl[s]===t||Sl[s]||P_)return;Sl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=jA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,B){M.setAttribute("width","24"),M.setAttribute("id",B),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{P_=!0,d()},M}function S(M,B){M.setAttribute("id",B),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=BA(a),B=i("text"),$=document.getElementById(B)||document.createElement("span"),J=i("learnmore"),tt=document.getElementById(J)||document.createElement("a"),ut=i("preprendIcon"),rt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ht=M.element;p(ht),S(tt,J);const It=y();_(rt,ut),ht.append(rt,$,tt,It),document.body.appendChild(ht)}c?($.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function HA(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YA(){return!HA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const $A="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$A,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ZA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function ZA(s,t){return s.replace(WA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const WA=/\{\$([^}]+)}/g;function t1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Pr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(z_(c)&&z_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function z_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function gl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function yl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function e1(s,t){const i=new n1(s,t);return i.subscribe.bind(i)}class n1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");i1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}function Qe(s){return s&&s._delegate?s._delegate:s}class zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vr="[DEFAULT]";class s1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new PA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(a1(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:r1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(s){return s===Vr?void 0:s}function a1(s){return s.instantiationMode==="EAGER"}class o1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new s1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const l1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},u1=xt.INFO,c1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},h1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=c1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=u1,this._logHandler=h1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?l1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const f1=(s,t)=>t.some(i=>s instanceof i);let j_,B_;function d1(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m1(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Qd=new WeakMap,SE=new WeakMap,kd=new WeakMap,vm=new WeakMap;function p1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&TE.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function g1(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||SE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function y1(s){Kd=s(Kd)}function _1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ld(this),t,...i);return SE.set(a,t.sort?t.sort():[t]),qs(a)}:m1().includes(s)?function(...t){return s.apply(Ld(this),t),qs(TE.get(this))}:function(...t){return qs(s.apply(Ld(this),t))}}function v1(s){return typeof s=="function"?_1(s):(s instanceof IDBTransaction&&g1(s),f1(s,d1())?new Proxy(s,Kd):s)}function qs(s){if(s instanceof IDBRequest)return p1(s);if(kd.has(s))return kd.get(s);const t=v1(s);return t!==s&&(kd.set(s,t),vm.set(t,s)),t}const Ld=s=>vm.get(s);function E1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qs(d.result),_.oldVersion,_.newVersion,qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const T1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Ud=new Map;function q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=S1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||T1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ud.set(t,c),c}y1(s=>({...s,get:(t,i,a)=>q_(t,i)||s.get(t,i,a),has:(t,i)=>!!q_(t,i)||s.has(t,i)}));class A1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(b1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function b1(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",H_="0.14.8";const Zi=new _m("@firebase/app"),w1="@firebase/app-compat",R1="@firebase/analytics-compat",I1="@firebase/analytics",C1="@firebase/app-check-compat",N1="@firebase/app-check",D1="@firebase/auth",O1="@firebase/auth-compat",x1="@firebase/database",M1="@firebase/data-connect",V1="@firebase/database-compat",k1="@firebase/functions",L1="@firebase/functions-compat",U1="@firebase/installations",P1="@firebase/installations-compat",z1="@firebase/messaging",j1="@firebase/messaging-compat",B1="@firebase/performance",q1="@firebase/performance-compat",H1="@firebase/remote-config",F1="@firebase/remote-config-compat",G1="@firebase/storage",Q1="@firebase/storage-compat",K1="@firebase/firestore",Y1="@firebase/ai",X1="@firebase/firestore-compat",J1="firebase",$1="12.9.0";const Xd="[DEFAULT]",Z1={[Yd]:"fire-core",[w1]:"fire-core-compat",[I1]:"fire-analytics",[R1]:"fire-analytics-compat",[N1]:"fire-app-check",[C1]:"fire-app-check-compat",[D1]:"fire-auth",[O1]:"fire-auth-compat",[x1]:"fire-rtdb",[M1]:"fire-data-connect",[V1]:"fire-rtdb-compat",[k1]:"fire-fn",[L1]:"fire-fn-compat",[U1]:"fire-iid",[P1]:"fire-iid-compat",[z1]:"fire-fcm",[j1]:"fire-fcm-compat",[B1]:"fire-perf",[q1]:"fire-perf-compat",[H1]:"fire-rc",[F1]:"fire-rc-compat",[G1]:"fire-gcs",[Q1]:"fire-gcs-compat",[K1]:"fire-fst",[X1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};const Fc=new Map,W1=new Map,Jd=new Map;function F_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(Jd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,s);for(const i of Fc.values())F_(i,s);for(const i of W1.values())F_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Bl("app","Firebase",tb);class eb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const no=$1;function AE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=yE()),!i)throw Hs.create("no-options");const c=Fc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new o1(l);for(const _ of Jd.values())d.addComponent(_);const p=new eb(i,a,d);return Fc.set(l,p),p}function bE(s=Xd){const t=Fc.get(s);if(!t&&s===Xd&&yE())return AE();if(!t)throw Hs.create("no-app",{appName:s});return t}function Fs(s,t,i){let a=Z1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Xa(new zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const nb="firebase-heartbeat-database",ib=1,Cl="firebase-heartbeat-store";let Pd=null;function wE(){return Pd||(Pd=E1(nb,ib,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hs.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function sb(s){try{const i=(await wE()).transaction(Cl),a=await i.objectStore(Cl).get(RE(s));return await i.done,a}catch(t){if(t instanceof ns)Zi.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function G_(s,t){try{const a=(await wE()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,RE(s)),await a.done}catch(i){if(i instanceof ns)Zi.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function RE(s){return`${s.name}!${s.options.appId}`}const rb=1024,ab=30;class ob{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ub(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ab){const l=cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q_(),{heartbeatsToSend:i,unsentEntries:a}=lb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function lb(s,t=rb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),K_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),K_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function K_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function cb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function hb(s){Xa(new zr("platform-logger",t=>new A1(t),"PRIVATE")),Xa(new zr("heartbeat",t=>new ob(t),"PRIVATE")),Fs(Yd,H_,s),Fs(Yd,H_,"esm2020"),Fs("fire-js","")}hb("");var fb="firebase",db="12.9.0";Fs(fb,db,"app");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,IE;(function(){var s;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(D,N,k){for(var b=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)b[Tt-2]=arguments[Tt];return A.prototype[N].apply(D,b)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,R){R||(R=0);const D=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)D[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)D[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let k=C.g[3],b;b=A+(k^R&(N^k))+D[0]+3614090360&4294967295,A=R+(b<<7&4294967295|b>>>25),b=k+(N^A&(R^N))+D[1]+3905402710&4294967295,k=A+(b<<12&4294967295|b>>>20),b=N+(R^k&(A^R))+D[2]+606105819&4294967295,N=k+(b<<17&4294967295|b>>>15),b=R+(A^N&(k^A))+D[3]+3250441966&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(k^R&(N^k))+D[4]+4118548399&4294967295,A=R+(b<<7&4294967295|b>>>25),b=k+(N^A&(R^N))+D[5]+1200080426&4294967295,k=A+(b<<12&4294967295|b>>>20),b=N+(R^k&(A^R))+D[6]+2821735955&4294967295,N=k+(b<<17&4294967295|b>>>15),b=R+(A^N&(k^A))+D[7]+4249261313&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(k^R&(N^k))+D[8]+1770035416&4294967295,A=R+(b<<7&4294967295|b>>>25),b=k+(N^A&(R^N))+D[9]+2336552879&4294967295,k=A+(b<<12&4294967295|b>>>20),b=N+(R^k&(A^R))+D[10]+4294925233&4294967295,N=k+(b<<17&4294967295|b>>>15),b=R+(A^N&(k^A))+D[11]+2304563134&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(k^R&(N^k))+D[12]+1804603682&4294967295,A=R+(b<<7&4294967295|b>>>25),b=k+(N^A&(R^N))+D[13]+4254626195&4294967295,k=A+(b<<12&4294967295|b>>>20),b=N+(R^k&(A^R))+D[14]+2792965006&4294967295,N=k+(b<<17&4294967295|b>>>15),b=R+(A^N&(k^A))+D[15]+1236535329&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(N^k&(R^N))+D[1]+4129170786&4294967295,A=R+(b<<5&4294967295|b>>>27),b=k+(R^N&(A^R))+D[6]+3225465664&4294967295,k=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(k^A))+D[11]+643717713&4294967295,N=k+(b<<14&4294967295|b>>>18),b=R+(k^A&(N^k))+D[0]+3921069994&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^k&(R^N))+D[5]+3593408605&4294967295,A=R+(b<<5&4294967295|b>>>27),b=k+(R^N&(A^R))+D[10]+38016083&4294967295,k=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(k^A))+D[15]+3634488961&4294967295,N=k+(b<<14&4294967295|b>>>18),b=R+(k^A&(N^k))+D[4]+3889429448&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^k&(R^N))+D[9]+568446438&4294967295,A=R+(b<<5&4294967295|b>>>27),b=k+(R^N&(A^R))+D[14]+3275163606&4294967295,k=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(k^A))+D[3]+4107603335&4294967295,N=k+(b<<14&4294967295|b>>>18),b=R+(k^A&(N^k))+D[8]+1163531501&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^k&(R^N))+D[13]+2850285829&4294967295,A=R+(b<<5&4294967295|b>>>27),b=k+(R^N&(A^R))+D[2]+4243563512&4294967295,k=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(k^A))+D[7]+1735328473&4294967295,N=k+(b<<14&4294967295|b>>>18),b=R+(k^A&(N^k))+D[12]+2368359562&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(R^N^k)+D[5]+4294588738&4294967295,A=R+(b<<4&4294967295|b>>>28),b=k+(A^R^N)+D[8]+2272392833&4294967295,k=A+(b<<11&4294967295|b>>>21),b=N+(k^A^R)+D[11]+1839030562&4294967295,N=k+(b<<16&4294967295|b>>>16),b=R+(N^k^A)+D[14]+4259657740&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^k)+D[1]+2763975236&4294967295,A=R+(b<<4&4294967295|b>>>28),b=k+(A^R^N)+D[4]+1272893353&4294967295,k=A+(b<<11&4294967295|b>>>21),b=N+(k^A^R)+D[7]+4139469664&4294967295,N=k+(b<<16&4294967295|b>>>16),b=R+(N^k^A)+D[10]+3200236656&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^k)+D[13]+681279174&4294967295,A=R+(b<<4&4294967295|b>>>28),b=k+(A^R^N)+D[0]+3936430074&4294967295,k=A+(b<<11&4294967295|b>>>21),b=N+(k^A^R)+D[3]+3572445317&4294967295,N=k+(b<<16&4294967295|b>>>16),b=R+(N^k^A)+D[6]+76029189&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^k)+D[9]+3654602809&4294967295,A=R+(b<<4&4294967295|b>>>28),b=k+(A^R^N)+D[12]+3873151461&4294967295,k=A+(b<<11&4294967295|b>>>21),b=N+(k^A^R)+D[15]+530742520&4294967295,N=k+(b<<16&4294967295|b>>>16),b=R+(N^k^A)+D[2]+3299628645&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(N^(R|~k))+D[0]+4096336452&4294967295,A=R+(b<<6&4294967295|b>>>26),b=k+(R^(A|~N))+D[7]+1126891415&4294967295,k=A+(b<<10&4294967295|b>>>22),b=N+(A^(k|~R))+D[14]+2878612391&4294967295,N=k+(b<<15&4294967295|b>>>17),b=R+(k^(N|~A))+D[5]+4237533241&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~k))+D[12]+1700485571&4294967295,A=R+(b<<6&4294967295|b>>>26),b=k+(R^(A|~N))+D[3]+2399980690&4294967295,k=A+(b<<10&4294967295|b>>>22),b=N+(A^(k|~R))+D[10]+4293915773&4294967295,N=k+(b<<15&4294967295|b>>>17),b=R+(k^(N|~A))+D[1]+2240044497&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~k))+D[8]+1873313359&4294967295,A=R+(b<<6&4294967295|b>>>26),b=k+(R^(A|~N))+D[15]+4264355552&4294967295,k=A+(b<<10&4294967295|b>>>22),b=N+(A^(k|~R))+D[6]+2734768916&4294967295,N=k+(b<<15&4294967295|b>>>17),b=R+(k^(N|~A))+D[13]+1309151649&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~k))+D[4]+4149444226&4294967295,A=R+(b<<6&4294967295|b>>>26),b=k+(R^(A|~N))+D[11]+3174756917&4294967295,k=A+(b<<10&4294967295|b>>>22),b=N+(A^(k|~R))+D[2]+718787259&4294967295,N=k+(b<<15&4294967295|b>>>17),b=R+(k^(N|~A))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,D=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(D[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,D),N=0;break}}else for(;k<A;)if(D[N++]=C[k++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)C[A++]=this.g[R]>>>D&255;return C};function c(C,A){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let D=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;D&&k==A||(R[N]=k,D=!1)}this.g=R}var p={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return tt(y(-C));const A=[];let R=1;for(let D=0;C>=R;D++)A[D]=C/R|0,R*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return tt(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let D=w;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const b=parseInt(C.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),D=D.j(N).add(y(b))):(D=D.j(R),D=D.add(y(b)))}return D}var w=_(0),M=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-tt(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);C+=(D>=0?D:4294967296+D)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(J(this))return"-"+tt(this).toString(C);const A=y(Math.pow(C,6));var R=this;let D="";for(;;){const N=It(R,A).g;R=ut(R,N.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,$(R))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function J(C){return C.h==-1}s.l=function(C){return C=ut(this,C),J(C)?-1:$(C)?0:1};function tt(C){const A=C.g.length,R=[];for(let D=0;D<A;D++)R[D]=~C.g[D];return new d(R,~C.h).add(M)}s.abs=function(){return J(this)?tt(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let D=0;for(let N=0;N<=A;N++){let k=D+(this.i(N)&65535)+(C.i(N)&65535),b=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);D=b>>>16,k&=65535,b&=65535,R[N]=b<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ut(C,A){return C.add(tt(A))}s.j=function(C){if($(this)||$(C))return w;if(J(this))return J(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(J(C))return tt(this.j(tt(C)));if(this.l(B)<0&&C.l(B)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<C.g.length;N++){const k=this.i(D)>>>16,b=this.i(D)&65535,Tt=C.i(N)>>>16,jt=C.i(N)&65535;R[2*D+2*N]+=b*jt,rt(R,2*D+2*N),R[2*D+2*N+1]+=k*jt,rt(R,2*D+2*N+1),R[2*D+2*N+1]+=b*Tt,rt(R,2*D+2*N+1),R[2*D+2*N+2]+=k*Tt,rt(R,2*D+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function rt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ht(C,A){this.g=C,this.h=A}function It(C,A){if($(A))throw Error("division by zero");if($(C))return new ht(w,w);if(J(C))return A=It(tt(C),A),new ht(tt(A.g),tt(A.h));if(J(A))return A=It(C,tt(A)),new ht(tt(A.g),A.h);if(C.g.length>30){if(J(C)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,D=A;D.l(C)<=0;)R=Jt(R),D=Jt(D);var N=Lt(R,1),k=Lt(D,1);for(D=Lt(D,2),R=Lt(R,2);!$(D);){var b=k.add(D);b.l(C)<=0&&(N=N.add(R),k=b),D=Lt(D,1),R=Lt(R,1)}return A=ut(C,N.j(A)),new ht(N,A)}for(N=w;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=y(R),b=k.j(A);J(b)||b.l(C)>0;)R-=D,k=y(R),b=k.j(A);$(k)&&(k=M),N=N.add(k),C=ut(C,b)}return new ht(N,C)}s.B=function(C){return It(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)&C.i(D);return new d(R,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)|C.i(D);return new d(R,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)^C.i(D);return new d(R,this.h^C.h)};function Jt(C){const A=C.g.length+1,R=[];for(let D=0;D<A;D++)R[D]=C.i(D)<<1|C.i(D-1)>>>31;return new d(R,C.h)}function Lt(C,A){const R=A>>5;A%=32;const D=C.g.length-R,N=[];for(let k=0;k<D;k++)N[k]=A>0?C.i(k+R)>>>A|C.i(k+R+1)<<32-A:C.i(k+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,IE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Gs=d}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,_l,NE,Mc,$d,DE,OE,xE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[U].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=U[W]}else u.push(U)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new J(()=>new It,u=>u.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Lt=!1,C=new rt,A=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(R)}};function R(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){tt(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function Tt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Tt,N),Tt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=bt(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,T,U);return null}return v=co(v),u&&u[jt]?u.J(m,v,p(T)?!!T.capture:!1,U):ir(u,m,v,!1,T,U)}function ir(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let St=sr(u);if(St||(u[Ut]=St=new st(u)),v=St.add(m,v,T,W,q),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Xr(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xr(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=co(v),u&&u[jt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,T,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&Jr(v))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[jt])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function Wn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new Tt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Jr(u),u=v.call(T,m)}return u}function sr(u){return u=u[Ut],u instanceof st?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function ye(){D.call(this),this.i=new st(this),this.M=this,this.G=null}w(ye,D),ye.prototype[jt]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),nt(m,U)}U=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],U=is(q,T,!0,m)&&U;if(q=m.g=u,U=is(q,T,!0,m)&&U,U=is(q,T,!1,m)&&U,v)for(W=0;W<v.length;W++)q=m.g=v[W],U=is(q,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const St=W.listener,de=W.ha||W.src;W.fa&&yt(u.i,W),U=St.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){D.call(this),this.h=u,this.g={}}w(rr,D);var ho=[];function fo(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),fo(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Dh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}w(Pe,N);function An(){N.call(this,"c")}w(An,N);var fe={},nu=null;function $r(){return nu=nu||new ye}fe.Ia="serverreachability";function iu(u){N.call(this,fe.Ia,u)}w(iu,N);function ti(u){const m=$r();Ne(m,new iu(m))}fe.STAT_EVENT="statevent";function ar(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}w(ar,N);function _e(u){const m=$r();Ne(m,new ar(m,u))}fe.Ja="timingevent";function ei(u,m){N.call(this,fe.Ja,u),this.size=m}w(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var W="",St=q.split("&");for(let Ht=0;Ht<St.length;Ht++){var de=St[Ht].split("=");if(de.length>1){const ae=de[0];de=de[1];const In=ae.split("_");W=In.length>=2&&In[1]=="type"?W+(ae+"="+de+"&"):W+(ae+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+W})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,v)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ss(q)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ur(){}w(ur,tu),ur.prototype.g=function(){return new XMLHttpRequest},po=new ur;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function si(u,m,v){u.M=1,u.A=cr(Te(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ho[0]=U.toString()),U=ho);for(let q=0;q<U.length;q++){const W=re(v,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Fn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||de==7||(de==8||Ht<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var q=T;break e}}q=null}if(u=q)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ou(this,v),ae==Ve){St==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(W),W.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);St==4&&fn(this),this.o&&!this.K&&(St==4?gu(this.j,this):(this.o=!1,ri(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),bn(this)}}}catch{}};function Mh(u){if(!au(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_e(17)),fn(this),this.m=2,bn(this)):Wr(this,this.T-u)};function bn(u){u.j.I==0||u.K||gu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),fs(v);else break t;yr(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!b(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const In=Ht[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const gi=Ht[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const _r=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var q=T.h;q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_o(q,q.h),q.h=null))}if(T.G){const la=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Kt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=vu(T,T.L?T.ba:null,T.W),W.L){vo(T.h,W);var St=W,de=T.O;de&&(St.H=de),St.D&&(ai(St),ri(St)),T.g=W}else mu(T);v.i.length>0&&mi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(v,7):Co(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,To(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,ea,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?So:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,cu)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let W=0;W<U.length;){const St=U[W++];St=="."?T&&W==U.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==U.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?To(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new dn(u)}function ke(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof os?(u.i=m,ia(u.i,u.l)):(v||(m=hr(m,as)),u.i=new os(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function cr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,uu=/[#\?:]/g,So=/[#\?]/g,as=/[#\?@]/g,cu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return sn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function bo(u,m){sn(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Di(v);v=bo(this,v);for(let q=0;q<v.length;q++){let W=U;v[q]!==""&&(W+="="+Di(v[q])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(hu(this,T),na(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=S(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new Wl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,tu),hi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,ye),s=fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Hn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return zt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Kt(u,m,v))}function $t(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($t,ye);var fi=/^https?$/i,Ro=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){mr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){mr(this,q)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Oi(u)}function Io(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},s.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let W=String(u.D).match(lu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!fi.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Io(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var v=ru(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),mi(this)};function Co(u){if(ra(u),u.I==3){var m=u.V++,v=Te(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),gr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=cr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}_u(u)}function fs(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ra(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||A(),Lt||(Jt(),Lt=!0),C.add(m,u),u.D=0}}function aa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),v=Te(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),gr(this,v),q&&(this.R?m="headers="+Di(Rn(q))+"&"+m:this.u&&dr(v,this.u,q)),_o(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),gr(u,T),u.u&&u.o&&dr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),si(v,T,m)}function gr(u,m){u.H&&zt(u.H,function(v,T){Kt(m,T,v)}),u.l&&zt({},function(v,T){Kt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=U[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Ht=!0;for(let ae=0;ae<v;ae++){var q=U[ae].g;const In=U[ae].map;if(q-=St,q<0)St=Math.max(0,U[ae].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var W=In instanceof Map?In:Object.entries(In);for(const[gi,Gn]of W){let Qn=Gn;p(Gn)&&(Qn=ss(Gn)),de.push(q+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw de.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(In)}}if(Ht){W=de.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||A(),Lt||(Jt(),Lt=!0),C.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fs(this),pu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(Te(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),yr(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){oa(u),Do(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=$r(),Ne(T,new ei(T,v)),mi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),cr(T),U?qn(T.toString(),v):wo(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),_u(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof dn?Te(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new dn(null);T&&ke(q,T),m&&(q.g=m),U&&rs(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),gr(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new hi({ab:v})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Co(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,tn.Z.N.call(this)};function Su(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Pe);function Au(){An.call(this),this.status=1}w(Au,An);function Mi(u){this.g=u}w(Mi,Tu),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new Su(u))},Mi.prototype.pa=function(u){Ne(this.g,new Au)},Mi.prototype.oa=function(){Ne(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,xE=function(){return new ds},OE=function(){return $r()},DE=fe,$d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Mc=lr,mo.COMPLETE="complete",NE=mo,eu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,_l=eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,CE=$t}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let io="12.9.0";function mb(s){io=s}const jr=new _m("@firebase/firestore");function Pa(){return jr.logLevel}function it(s,...t){if(jr.logLevel<=xt.DEBUG){const i=t.map(Tm);jr.debug(`Firestore (${io}): ${s}`,...i)}}function Wi(s,...t){if(jr.logLevel<=xt.ERROR){const i=t.map(Tm);jr.error(`Firestore (${io}): ${s}`,...i)}}function Br(s,...t){if(jr.logLevel<=xt.WARN){const i=t.map(Tm);jr.warn(`Firestore (${io}): ${s}`,...i)}}function Tm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,ME(s,a,i)}function ME(s,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||ME(t,l,a)}function Et(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class VE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class gb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class yb{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new VE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class _b{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _b(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new X_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Tb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(s,t){return s<t?-1:s>t?1:0}function Zd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Mt(l,c):zd(l)?1:-1}return Mt(s.length,t.length)}const Sb=55296,Ab=57343;function zd(s){const t=s.charCodeAt(0);return t>=Sb&&t<=Ab}function Ja(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const J_="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class le extends Ti{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return bb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Ge([J_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}function wb(s,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Rb(s,t,i,a){if(t===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $_(s){if(!dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function kE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Am(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Qs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Am(s);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Hl(s,t){if(!kE(s))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const Z_=-62135596800,W_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*W_);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Z_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function Ib(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Ks(l,dt.empty(),t)}function Cb(s){return new Ks(s.readTime,s.key,Nl)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(_t.min(),dt.empty(),Nl)}static max(){return new Ks(_t.max(),dt.empty(),Nl)}}function Nb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}const Db="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ob{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==Db)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function xb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const bm=-1;function fh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function Mb(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const LE="";function Vb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=tv(t)),t=kb(s.get(i),t);return tv(t)}function kb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case LE:i+="";break;default:i+=c}}return i}function tv(s){return s+LE+""}function ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ws(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function UE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Me(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=Lb.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const zE="server_timestamp",jE="__type__",BE="__previous_value__",qE="__local_write_time__";function wm(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===zE}function dh(s){const t=s.mapValue.fields[BE];return wm(t)?dh(t):t}function Dl(s){const t=Ys(s.mapValue.fields[qE].timestampValue);return new se(t.seconds,t.nanos)}class Ub{constructor(t,i,a,l,c,d,p,_,y,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=w}}const Qc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function Pb(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(s.options.projectId,t)}const HE="__type__",zb="__max__",Nc={mapValue:{}},FE="__vector__",Kc="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wm(s)?4:Bb(s)?9007199254740991:jb(s)?10:11:gt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Js(s);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dl(s).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),p=Ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ev(d)!==ev(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ci(d[_],p[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function xl(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function $a(s,t){if(s===t)return 0;const i=Js(s),a=Js(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return iv(s.timestampValue,t.timestampValue);case 4:return iv(Dl(s),Dl(t));case 5:return Zd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),_=Xs(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const S=Mt(p[y],_[y]);if(S!==0)return S}return Mt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return sv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Kc]?.arrayValue,S=_[Kc]?.arrayValue,w=Mt(y?.values?.length||0,S?.values?.length||0);return w!==0?w:sv(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const M=Zd(_[w],S[w]);if(M!==0)return M;const B=$a(p[_[w]],y[S[w]]);if(B!==0)return B}return Mt(_.length,S.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=Ys(s),a=Ys(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function sv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$a(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Za(s){return Wd(s)}function Wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Vc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(s);return t?16+Vc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ws(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function tm(s){return!!s&&"integerValue"in s}function Rm(s){return!!s&&"arrayValue"in s}function rv(s){return!!s&&"nullValue"in s}function av(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function jb(s){return(s?.mapValue?.fields||{})[HE]?.stringValue===FE}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ws(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function Bb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ws(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Al(this.value))}}function GE(s){const t=[];return Ws(s.fields,((i,a)=>{const l=new Ge([i]);if(kc(a)){const c=GE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class $e{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function ov(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function qb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class QE{}class Oe extends QE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fb(t,i,a):i==="array-contains"?new Kb(t,a):i==="in"?new Yb(t,a):i==="not-in"?new Xb(t,a):i==="array-contains-any"?new Jb(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Gb(t,a):new Qb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends QE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return KE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(s){return s.op==="and"}function YE(s){return Hb(s)&&KE(s)}function Hb(s){for(const t of s.filters)if(t instanceof Ni)return!1;return!0}function em(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(YE(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function XE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&XE(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function JE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(JE).join(" ,")+"}"})(s):"Filter"}class Fb extends Oe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Gb extends Oe{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Qb extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Kb extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&xl(i.arrayValue,this.value)}}class Yb extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class Xb extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class Jb extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class $b{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function uv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new $b(s,t,i,a,l,c,d)}function Im(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Cm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!XE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!lv(s.startAt,t.startAt)&&lv(s.endAt,t.endAt)}function nm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Zb(s,t,i,a,l,c,d,p){return new mh(s,t,i,a,l,c,d,p)}function Nm(s){return new mh(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Wb(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function tw(s){return s.collectionGroup!==null}function bl(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Xc(Ge.keyField(),a))}return t.Ie}function Si(s){const t=Et(s);return t.Ee||(t.Ee=ew(t,bl(s))),t.Ee}function ew(s,t){if(s.limitType==="F")return uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return uv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t,i){return new mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ph(s,t){return Cm(Si(s),Si(t))&&s.limitType===t.limitType}function ZE(s){return`${Im(Si(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>JE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function gh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=ov(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,p,_){const y=ov(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,bl(a),l))})(s,t)}function nw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function WE(s){return(t,i)=>{let a=!1;for(const l of bl(s)){const c=iw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iw(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?$a(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ws(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}const sw=new ue(dt.comparator);function ts(){return sw}const t0=new ue(dt.comparator);function vl(...s){let t=t0;for(const i of s)t=t.insert(i.key,i);return t}function e0(s){let t=t0;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function kr(){return wl()}function n0(){return wl()}function wl(){return new Gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const rw=new ue(dt.comparator),aw=new Me(dt.comparator);function Vt(...s){let t=aw;for(const i of s)t=t.add(i);return t}const ow=new Me(Mt);function lw(){return ow}function Dm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function i0(s){return{integerValue:""+s}}function uw(s,t){return Mb(t)?i0(t):Dm(s,t)}class yh{constructor(){this._=void 0}}function cw(s,t,i){return s instanceof Jc?(function(l,c){const d={fields:{[jE]:{stringValue:zE},[qE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=dh(c)),c&&(d.fields[BE]=c),{mapValue:d}})(i,t):s instanceof Ml?r0(s,t):s instanceof Vl?a0(s,t):(function(l,c){const d=s0(l,c),p=hv(d)+hv(l.Ae);return tm(d)&&tm(l.Ae)?i0(p):Dm(l.serializer,p)})(s,t)}function hw(s,t,i){return s instanceof Ml?r0(s,t):s instanceof Vl?a0(s,t):i}function s0(s,t){return s instanceof $c?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends yh{}class Ml extends yh{constructor(t){super(),this.elements=t}}function r0(s,t){const i=o0(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends yh{constructor(t){super(),this.elements=t}}function a0(s,t){let i=o0(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class $c extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function hv(s){return ge(s.integerValue||s.doubleValue)}function o0(s){return Rm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof Vl&&l instanceof Vl?Ja(a.elements,l.elements,Ci):a instanceof $c&&l instanceof $c?Ci(a.Ae,l.Ae):a instanceof Jc&&l instanceof Jc})(s.transform,t.transform)}class dw{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class _h{}function l0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new c0(s.key,Ai.none()):new Fl(s.key,s.data,Ai.none());{const i=s.data,a=hn.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new tr(s.key,a,new Tn(l.toArray()),Ai.none())}}function mw(s,t,i){s instanceof Fl?(function(l,c,d){const p=l.value.clone(),_=dv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof tr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=dv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(u0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(s,t,i,a){return s instanceof Fl?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=c.value.clone(),S=mv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof tr?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=mv(c.fieldTransforms,_,d),S=d.data;return S.setAll(u0(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function pw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=s0(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function fv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>fw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function u0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function dv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,hw(d,p,i[l]))}return a}function mv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,cw(c,d,t))}return a}class c0 extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=n0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=l0(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>fv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>fv(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return rw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Om(t,i,a,l)}}class _w{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Pt;function Ew(s){switch(s){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function h0(s){if(s===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Tw(){return new TextEncoder}const Sw=new Gs([4294967295,4294967295],0);function pv(s){const t=Tw().encode(s),i=new IE;return i.update(t),new Uint8Array(i.digest())}function gv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,a],0),new Gs([l,c],0)]}class xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gs.fromNumber(a)));return l.compare(Sw)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=pv(t),[a,l]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=pv(t),[a,l]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(_t.min(),l,new ue(Mt),ts(),Vt())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,Vt(),Vt(),Vt())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class f0{constructor(t,i){this.targetId=t,this.Ce=i}}class d0{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class yv{constructor(){this.ve=0,this.Fe=_v(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=_v()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Aw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(a).toUint8Array()}catch(_){if(_ instanceof PE)return Br("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new xm(d,l,c)}catch(_){return Br(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ze,this.je,a);return this.je=ts(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new yv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(dt.comparator)}function _v(){return new ue(dt.comparator)}const bw={asc:"ASCENDING",desc:"DESCENDING"},ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class Iw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||fh(t)?t:{value:t}}function Zc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function m0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Cw(s,t){return Zc(s,t.toTimestamp())}function bi(s){return Gt(!!s,49232),_t.fromTimestamp((function(i){const a=Ys(i);return new se(a.seconds,a.nanos)})(s))}function Mm(s,t){return rm(s,t).canonicalString()}function rm(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function p0(s){const t=le.fromString(s);return Gt(E0(t),10190,{key:t.toString()}),t}function am(s,t){return Mm(s.databaseId,t.path)}function jd(s,t){const i=p0(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(y0(i))}function g0(s,t){return Mm(s.databaseId,t)}function Nw(s){const t=p0(s);return t.length===4?le.emptyPath():y0(t)}function om(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function y0(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vv(s,t,i){return{name:am(s,t),fields:i.value.mapValue.fields}}function Dw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:h0(y.code);return new lt(S,y.message||"")})(d);i=new d0(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(s,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):_t.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=$e.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Uc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(s,a.document),c=a.readTime?bi(a.readTime):_t.min(),d=$e.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(s,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vw(l,c),p=a.targetId;i=new f0(p,d)}}return i}function Ow(s,t){let i;if(t instanceof Fl)i={update:vv(s,t.key,t.value)};else if(t instanceof c0)i={delete:am(s,t.key)};else if(t instanceof tr)i={update:vv(s,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof gw))return gt(16599,{dt:t.type});i={verify:am(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Cw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function xw(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(_t.min())&&(d=bi(c)),new dw(d,l.transformResults||[])})(i,t)))):[]}function Mw(s,t){return{documents:[g0(s,t.path)]}}function Vw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=g0(s,l);const c=(function(y){if(y.length!==0)return v0(Ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(M){return{field:ja(M.field),direction:Uw(M.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function kw(s){let t=Nw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=_0(w);return M instanceof Ni&&YE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function($){return new Xc(Ba($.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,fh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,B=w.values||[];return new Yc(B,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,B=w.values||[];return new Yc(B,M)})(i.endAt)),Zb(t,l,d,c,p,"F",_,y)}function Lw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>_0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Uw(s){return bw[s]}function Pw(s){return ww[s]}function zw(s){return Rw[s]}function ja(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Ge.fromServerFormat(s.fieldPath)}function v0(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:Pw(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const a=i.getFilters().map((l=>v0(l)));return a.length===1?a[0]:{compositeFilter:{op:zw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function jw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function E0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function T0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Bs{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Bw{constructor(t){this.yt=t}}function qw(s){const t=kw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?im(t,t.limit,"L"):t}class Hw{constructor(){this.Sn=new Fw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ks.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Fw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(S0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wa(0)}static ar(){return new Wa(-1)}}const Tv="LruGarbageCollector",Gw=1048576;function Sv([s,t],[i,a]){const l=Mt(s,i);return l===0?Mt(t,a):l}class Qw{constructor(t){this.Pr=t,this.buffer=new Me(Sv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Kw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Tv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(Tv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Ar(3e5)}))}}class Yw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const a=new Qw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ev)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Pa()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function Xw(s,t){return new Yw(s,t)}class Jw{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Zw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Tn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ts();const d=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof tr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Rl(S.mutation,y,S.mutation.getFieldMask(),se.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new $w(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new ue(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||Tn.empty();S=p.applyToLocalView(y,S),a.set(_,S);const w=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,S=_.value,w=n0();S.forEach((M=>{if(!c.has(M)){const B=l0(i.get(M),a.get(M));B!==null&&w.set(M,B),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Wb(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(kr());let p=Nl,_=c;return d.next((y=>X.forEach(y,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{_=_.insert(S,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((S=>({batchId:p,changes:e0(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new mh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,$e.newInvalidDocument(S)))}));let p=vl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Rl(S.mutation,y,Tn.empty(),se.now()),gh(i,y)&&(p=p.insert(_,y))})),p}))}}class Ww{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:qw(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class tR{constructor(){this.overlays=new ue(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=kr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=kr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=kr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _w(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class eR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Vm{constructor(){this.kr=new Me(Ue.Kr),this.qr=new Me(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new le([])),a=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new le([])),a=new Ue(i,t),l=new Ue(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class nR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Ue.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?bm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new dt(c),0);let p=new Me(Mt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iR{constructor(t){this.ti=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ts();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Nb(Cb(S),a)<=0||(l.has(S.key)||gh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sR(this)}getSize(t){return X.resolve(this.size)}}class sR extends Jw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class rR{constructor(t){this.persistence=t,this.ri=new Gr((i=>Im(i)),Cm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Vm,this.targetCount=0,this.oi=Wa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class A0{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new eR,this.referenceDelegate=t(this),this.li=new rR(this),this.indexManager=new Hw,this.remoteDocumentCache=(function(l){return new iR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Bw(i),this.Pi=new Ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new nR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new aR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class aR extends Ob{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Ri=new Vm,this.Ai=null}static Vi(t){return new km(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.fi=new Gr((a=>Vb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Xw(this,i)}static Vi(t,i){return new Wc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Lm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lm(t,i.fromCache,a,l)}}class oR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return YA()?8:xb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Pa()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Pa()<=xt.DEBUG&&it("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Pa()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}gs(t,i){if(cv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,im(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return cv(i)||l.isEqual(_t.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Pa()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.Ds(t,d,i,Ib(l,Nl)).next((p=>p)))}))}bs(t,i){let a=new Me(WE(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Pa()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(t,i,Ks.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",uR=3e8;class cR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Mt),this.Fs=new Gr((c=>Im(c)),Cm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function hR(s,t,i,a){return new cR(s,t,i,a)}async function b0(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function fR(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,S){const w=y.batch,M=w.keys();let B=X.resolve();return M.forEach(($=>{B=B.next((()=>S.getEntry(_,$))).next((J=>{const tt=y.docVersions.get($);Gt(tt!==null,48541),J.version.compareTo(tt)<0&&(w.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),S.addEntry(J)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function w0(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function dR(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,w)=>{const M=l.get(w);if(!M)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let B=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,a)),l=l.insert(w,B),(function(J,tt,ut){return J.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=uR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(M,B,S)&&p.push(i.li.updateTargetData(c,B))}));let _=ts(),y=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(mR(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(_t.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function mR(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ts();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Um,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function pR(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function gR(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function lm(s,t,i){const a=Et(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Av(s,t,i){const a=Et(s);let l=_t.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const w=Et(_),M=w.Fs.get(S);return M!==void 0?X.resolve(w.vs.get(M)):w.li.getTargetData(y,S)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Vt()))).next((p=>(yR(a,nw(t),p),{documents:p,ks:c})))))}function yR(s,t,i){let a=s.Ms.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class bv{constructor(){this.activeTargetIds=lw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _R{constructor(){this.vo=new bv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new bv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vR{Mo(t){}shutdown(){}}const wv="ConnectivityMonitor";class Rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(wv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function um(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Bd="RestConnection",ER={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=um(),p=this.Qo(t,i.toUriEncodedString());it(Bd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),S=eo(y);return this.zo(t,p,_,a,S).then((w=>(it(Bd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Br(Bd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=ER[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class SR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",pl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ha extends TR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ha.c_){const t=OE();pl(t,DE.STAT_EVENT,(i=>{i.stat===$d.PROXY?it(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===$d.NOPROXY&&it(Xe,"STAT_EVENT: detected no buffering proxy")})),Ha.c_=!0}}zo(t,i,a,l,c){const d=um();return new Promise(((p,_)=>{const y=new CE;y.setWithCredentials(!0),y.listenOnce(NE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const w=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Mc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),_(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const M=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const J=(function(ut){const rt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(rt)>=0?rt:Z.UNKNOWN})($.status);_(new lt(J,$.message))}else _(new lt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let w=!1,M=!1;const B=new SR({Ho:$=>{M?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(w||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),w=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Jo:()=>S.close()});return pl(S,_l.EventType.OPEN,(()=>{M||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),B.i_())})),pl(S,_l.EventType.CLOSE,(()=>{M||(M=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),B.o_(),this.E_(S))})),pl(S,_l.EventType.ERROR,($=>{M||(M=!0,Br(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),B.o_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),pl(S,_l.EventType.MESSAGE,($=>{if(!M){const J=$.data[0];Gt(!!J,16349);const tt=J,ut=tt?.error||tt[0]?.error;if(ut){it(Xe,`RPC '${t}' stream ${l} received error:`,ut);const rt=ut.status;let ht=(function(Lt){const C=Re[Lt];if(C!==void 0)return h0(C)})(rt),It=ut.message;rt==="NOT_FOUND"&&It.includes("database")&&It.includes("does not exist")&&It.includes(this.databaseId.database)&&Br(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ht===void 0&&(ht=Z.INTERNAL,It="Unknown error status: "+rt+" with message "+ut.message),M=!0,B.o_(new lt(ht,It)),S.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,J),B.__(J)}})),Ha.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xE()}}function AR(s){return new Ha(s)}function qd(){return typeof document<"u"?document:null}function Eh(s){return new Iw(s,!0)}Ha.c_=!1;class R0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Iv="PersistentStream";class I0{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bR extends I0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Dw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?bi(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=nm(_)?{documents:Mw(c,_)}:{query:Vw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=m0(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Zc(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=Lw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class wR extends I0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xw(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Ow(this.serializer,a)))};this.K_(i)}}class RR{}class IR extends RR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function CR(s,t,i,a){return new IR(s,t,i,a)}class NR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class DR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(it(qr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await Ql(y),y.Va.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Va=new NR(a,l)}}async function Th(s){if(Qr(s))for(const t of s.Ra)await t(!0)}async function Ql(s){for(const t of s.Ra)await t(!1)}function C0(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):ao(i).O_()&&zm(i,t))}function Pm(s,t){const i=Et(s),a=ao(i);i.Ia.delete(t),a.O_()&&N0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Va.set("Unknown"))}function zm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(s).Z_(t)}function N0(s,t){s.da.$e(t),ao(s).X_(t)}function jm(s){s.da=new Aw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Va.ua()}function Bm(s){return Qr(s)&&!ao(s).x_()&&s.Ia.size>0}function Qr(s){return Et(s).Ea.size===0}function D0(s){s.da=void 0}async function OR(s){s.Va.set("Online")}async function xR(s){s.Ia.forEach(((t,i)=>{zm(s,t)}))}async function MR(s,t){D0(s),Bm(s)?(s.Va.ha(t),jm(s)):s.Va.set("Unknown")}async function VR(s,t,i){if(s.Va.set("Online"),t instanceof d0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){it(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(s,a)}else if(t instanceof Uc?s.da.Xe(t):t instanceof f0?s.da.st(t):s.da.tt(t),!i.isEqual(_t.min()))try{const a=await w0(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),N0(c,_);const w=new Bs(S.target,_,y,S.sequenceNumber);zm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(qr,"Failed to raise snapshot:",a),await th(s,a)}}async function th(s,t,i){if(!ro(t))throw t;s.Ea.add(1),await Ql(s),s.Va.set("Offline"),i||(i=()=>w0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function O0(s,t){return t().catch((i=>th(s,i,t)))}async function Sh(s){const t=Et(s),i=$s(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;kR(t);)try{const l=await pR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,LR(t,l)}catch(l){await th(t,l)}x0(t)&&M0(t)}function kR(s){return Qr(s)&&s.Ta.length<10}function LR(s,t){s.Ta.push(t);const i=$s(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function x0(s){return Qr(s)&&!$s(s).x_()&&s.Ta.length>0}function M0(s){$s(s).start()}async function UR(s){$s(s).ra()}async function PR(s){const t=$s(s);for(const i of s.Ta)t.ea(i.mutations)}async function zR(s,t,i){const a=s.Ta.shift(),l=Om.from(a,t,i);await O0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function jR(s,t){t&&$s(s).Y_&&await(async function(a,l){if((function(d){return Ew(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();$s(a).B_(),await O0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(s,t),x0(s)&&M0(s)}async function Cv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(qr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Ql(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function BR(s,t){const i=Et(s);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Ql(i),i.Va.set("Unknown"))}function ao(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new bR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:OR.bind(null,s),Yo:xR.bind(null,s),t_:MR.bind(null,s),J_:VR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Bm(s)?jm(s):s.Va.set("Unknown")):(await s.ma.stop(),D0(s))}))),s.ma}function $s(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new wR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UR.bind(null,s),t_:jR.bind(null,s),ta:PR.bind(null,s),na:zR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(s,t){if(Wi("AsyncQueue",`${t}: ${s}`),ro(s))return new lt(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Nv{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Fa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class qR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class HR{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Dv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Dv(){return new Gr((s=>ZE(s)),ph)}async function FR(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new qR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Hm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Fm(i)}async function GR(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QR(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Fm(i)}function KR(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Fm(s){s.Ca.forEach((t=>{t.next()}))}var cm,Ov;(Ov=cm||(cm={})).Ma="default",Ov.Cache="cache";class YR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class V0{constructor(t){this.key=t}}class k0{constructor(t){this.key=t}}class XR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=WE(t),this.tu=new Fa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Nv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,w)=>{const M=l.get(S),B=gh(this.query,w)?w:null,$=!!M&&this.mutatedKeys.has(M.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let tt=!1;M&&B?M.data.isEqual(B.data)?$!==J&&(a.track({type:3,doc:B}),tt=!0):this.su(M,B)||(a.track({type:2,doc:B}),tt=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(p=!0)):!M&&B?(a.track({type:0,doc:B}),tt=!0):M&&!B&&(a.track({type:1,doc:M}),tt=!0,(_||y)&&(p=!0)),tt&&(B?(d=d.add(B),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(B,$){const J=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:tt})}};return J(B)-J($)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new k0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new V0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gm="SyncEngine";class JR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $R{constructor(t){this.key=t,this.hu=!1}}class ZR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>ZE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(dt.comparator),this.Au=new Map,this.Vu=new Vm,this.du={},this.mu=new Map,this.fu=Wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WR(s,t,i=!0){const a=B0(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await L0(a,t,i,!0),l}async function t2(s,t){const i=B0(s);await L0(i,t,!0,!1)}async function L0(s,t,i,a){const l=await gR(s.localStore,Si(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await e2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&C0(s.remoteStore,l),p}async function e2(s,t,i,a,l){s.pu=(w,M,B)=>(async function(J,tt,ut,rt){let ht=tt.view.ru(ut);ht.Ss&&(ht=await Av(J.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,ht))));const It=rt&&rt.targetChanges.get(tt.targetId),Jt=rt&&rt.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(ht,J.isPrimaryClient,It,Jt);return Mv(J,tt.targetId,Lt.au),Lt.snapshot})(s,w,M,B);const c=await Av(s.localStore,t,!0),d=new XR(t,c.ks),p=d.ru(c.documents),_=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);Mv(s,i,y.au);const S=new JR(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function n2(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Pm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(so)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function i2(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function s2(s,t,i){const a=h2(s);try{const l=await(function(d,p){const _=Et(d),y=se.now(),S=p.reduce(((B,$)=>B.add($.key)),Vt());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=ts(),J=Vt();return _.xs.getEntries(B,S).next((tt=>{$=tt,$.forEach(((ut,rt)=>{rt.isValidDocument()||(J=J.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,$))).next((tt=>{w=tt;const ut=[];for(const rt of p){const ht=pw(rt,w.get(rt.key).overlayedDocument);ht!=null&&ut.push(new tr(rt.key,ht,GE(ht.value.mapValue),Ai.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,ut,p)})).next((tt=>{M=tt;const ut=tt.applyToLocalDocumentSet(w,J);return _.documentOverlayCache.saveOverlays(B,tt.batchId,ut)}))})).then((()=>({batchId:M.batchId,changes:e0(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function U0(s,t){const i=Et(s);try{const a=await dR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await so(a)}}function xv(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let y=!1;_.queries.forEach(((S,w)=>{for(const M of w.ba)M.va(p)&&(y=!0)})),y&&Fm(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function r2(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const p=Vt().add(c),_=new vh(_t.min(),new Map,new ue(Mt),d,p);await U0(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Qm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(so)}async function a2(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await fR(i.localStore,t);z0(i,a,null),P0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await so(l)}}async function o2(s,t,i){const a=Et(s);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Gt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);z0(a,t,i),P0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await so(l)}}function P0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function z0(s,t,i){const a=Et(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function hm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||j0(s,a)}))}function j0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Pm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Qm(s))}function Mv(s,t,i){for(const a of i)a instanceof V0?(s.Vu.addReference(a.key,t),l2(s,a)):a instanceof k0?(it(Gm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||j0(s,a.key)):gt(19791,{wu:a})}function l2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(it(Gm,"New document in limbo: "+i),s.Eu.add(a),Qm(s))}function Qm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(le.fromString(t)),a=s.fu.next();s.Au.set(a,new $R(i)),s.Ru=s.Ru.insert(i,a),C0(s.remoteStore,new Bs(Si(Nm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Kl(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Lm.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=Et(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Ts,(B=>S.persistence.referenceDelegate.addReference(w,M.targetId,B))).next((()=>X.forEach(M.Is,(B=>S.persistence.referenceDelegate.removeReference(w,M.targetId,B)))))))))}catch(w){if(!ro(w))throw w;it(Um,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const B=S.vs.get(M),$=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion($);S.vs=S.vs.insert(M,J)}}})(a.localStore,c))}async function u2(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){it(Gm,"User change. New user:",t.toKey());const a=await b0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ns)}}function c2(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function B0(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r2.bind(null,t),t.Pu.J_=QR.bind(null,t.eventManager),t.Pu.yu=KR.bind(null,t.eventManager),t}function h2(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hR(this.persistence,new lR,t.initialUser,this.serializer)}Cu(t){return new A0(km.Vi,this.serializer)}Du(t){return new _R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class f2 extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Kw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new A0((a=>Wc.Vi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=u2.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HR})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=AR(t.databaseInfo);return CR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new DR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Rv.v()?new Rv:new vR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,S){const w=new ZR(l,c,d,p,_,y);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(qr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class d2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zs="FirestoreClient";class m2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(Zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),it(Zs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await b0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Vv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await p2(s);it(Zs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Cv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Cv(t.remoteStore,l))),s._onlineComponents=t}async function p2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Zs,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Br("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new eh)}}else it(Zs,"Using default OfflineComponentProvider"),await Hd(s,new f2(void 0));return s._offlineComponents}async function q0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Zs,"Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(it(Zs,"Using default OnlineComponentProvider"),await Vv(s,new fm))),s._onlineComponents}function g2(s){return q0(s).then((t=>t.syncEngine))}async function kv(s){const t=await q0(s),i=t.eventManager;return i.onListen=WR.bind(null,t.syncEngine),i.onUnlisten=n2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=t2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=i2.bind(null,t.syncEngine),i}function y2(s,t,i,a){const l=new d2(a),c=new YR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>FR(await kv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>GR(await kv(s),c)))}}function _2(s,t){const i=new Lr;return s.asyncQueue.enqueueAndForget((async()=>s2(await g2(s),t,i))),i.promise}function H0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const v2="ComponentProvider",Lv=new Map;function E2(s,t,i,a,l){return new Ub(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,H0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const F0="firestore.googleapis.com",Uv=!0;class Pv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F0,this.ssl=Uv}else this.host=t.host,this.ssl=t.ssl??Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=S0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Rb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Km{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new pb;switch(a.type){case"firstParty":return new vb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Lv.get(i);a&&(it(v2,"Removing Datastore"),Lv.delete(i),a.terminate())})(this),Promise.resolve()}}function T2(s,t,i,a={}){s=Qs(s,Km);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(vE(`https://${p}`),EE("Firestore",!0)),c.host!==F0&&c.host!==p&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=Je.MOCK_USER;else{y=zA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Je(w)}s._authCredentials=new gb(new VE(y,S))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,xe._jsonSchema))return new xe(t,a||null,new dt(le.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ie("string",xe._jsonSchemaVersion),referencePath:Ie("string")};class kl extends Ah{constructor(t,i,a){super(t,i,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new dt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function zv(s,t,...i){if(s=Qe(s),arguments.length===1&&(t=Sm.newId()),wb("doc","path",t),s instanceof Km){const a=le.fromString(t,...i);return $_(a),new xe(s,null,new dt(a))}{if(!(s instanceof xe||s instanceof kl))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return $_(a),new xe(s.firestore,s instanceof kl?s.converter:null,new dt(a))}}const jv="AsyncQueue";class Bv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R0(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&it(jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(jv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function qv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ll extends Km{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bv(t),this._firestoreClient=void 0,await t}}}function S2(s,t){const i=typeof s=="object"?s:bE(),a=typeof s=="string"?s:Qc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=UA("firestore");c&&T2(l,...c)}return l}function G0(s){if(s._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||A2(s),s._firestoreClient}function A2(s){const t=s._freezeSettings(),i=E2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new m2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xm{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class $n{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,$n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new $n(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ie("string",$n._jsonSchemaVersion),vectorValues:Ie("object")};const b2=/^__.*__$/;class w2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class Q0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function K0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class Jm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return nh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(K0(this.dataSource)&&b2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class R2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,l=!1){return new Jm({dataSource:t,methodName:i,targetDoc:a,path:Ge.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y0(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new R2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function I2(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);$m("Data must be an object, but it was:",d,a);const p=X0(a,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=Ul(t,w,i);if(!d.contains(M))throw new lt(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Z0(S,M)||S.push(M)}_=new Tn(S),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new w2(new hn(p),_,y)}class bh extends Xm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function C2(s,t,i,a){const l=s.createContext(1,t,i);$m("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();Ws(a,((_,y)=>{const S=$0(t,_,i);y=Qe(y);const w=l.childContextForFieldPath(S);if(y instanceof bh)c.push(S);else{const M=wh(y,w);M!=null&&(c.push(S),d.set(S,M))}}));const p=new Tn(c);return new Q0(d,p,l.fieldTransforms)}function N2(s,t,i,a,l,c){const d=s.createContext(1,t,i),p=[Ul(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Ul(t,c[M])),_.push(c[M+1]);const y=[],S=hn.empty();for(let M=p.length-1;M>=0;--M)if(!Z0(y,p[M])){const B=p[M];let $=_[M];$=Qe($);const J=d.childContextForFieldPath(B);if($ instanceof bh)y.push(B);else{const tt=wh($,J);tt!=null&&(y.push(B),S.set(B,tt))}}const w=new Tn(y);return new Q0(S,w,d.fieldTransforms)}function wh(s,t){if(J0(s=Qe(s)))return $m("Unsupported field value:",t,s),X0(s,t);if(s instanceof Xm)return(function(a,l){if(!K0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=wh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return uw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Zc(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:m0(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $n)return(function(d,p){const _=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[HE]:{stringValue:FE},[Kc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Dm(p.serializer,S)}))}}}}}})(a,l);if(T0(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Am(a)}`)})(s,t)}function X0(s,t){const i={};return UE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ws(s,((a,l)=>{const c=wh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function J0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof wi||s instanceof Un||s instanceof xe||s instanceof Xm||s instanceof $n||T0(s))}function $m(s,t,i){if(!J0(i)||!kE(i)){const a=Am(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Ul(s,t,i){if((t=Qe(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return $0(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function $0(s,t,i){if(t.search(D2)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(Z.INVALID_ARGUMENT,p+s+_)}function Z0(s,t){return s.some((i=>i.isEqual(t)))}class O2{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ws(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new $n(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Gt(E0(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class W0 extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}const Hv="@firebase/firestore",Fv="4.11.0";function Gv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class tT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ul("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class x2 extends tT{data(){return super.data()}}function M2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function V2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends tT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ul("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Ie("string",Ur._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Pc extends Ur{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:k2(p.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function k2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ie("string",Ga._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function L2(s,t,i){s=Qs(s,xe);const a=Qs(s.firestore,Ll),l=V2(s.converter,t),c=Y0(a);return eT(a,[I2(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ai.none())])}function U2(s,t,i,...a){s=Qs(s,xe);const l=Qs(s.firestore,Ll),c=Y0(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof Ym?N2(c,"updateDoc",s._key,t,i,a):C2(c,"updateDoc",s._key,t),eT(l,[d.toMutation(s._key,Ai.exists(!0))])}function P2(s,...t){s=Qe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Gv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Gv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof xe)d=Qs(s.firestore,Ll),p=Nm(s._key.path),c={next:y=>{t[a]&&t[a](z2(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Qs(s,Ah);d=Qs(y.firestore,Ll),p=y._query;const S=new W0(d);c={next:w=>{t[a]&&t[a](new Ga(d,S,y,w))},error:t[a+1],complete:t[a+2]},M2(s._query)}const _=G0(d);return y2(_,p,l,c)}function eT(s,t){const i=G0(s);return _2(i,t)}function z2(s,t,i){const a=i.docs.get(t._key),l=new W0(s);return new Ur(s,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){mb(no),Xa(new zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ll(new yb(a.getProvider("auth-internal")),new Eb(d,a.getProvider("app-check-internal")),Pb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fs(Hv,Fv,t),Fs(Hv,Fv,"esm2020")})();function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=nT,iT=new Bl("auth","Firebase",nT());const ih=new _m("@firebase/auth");function B2(s,...t){ih.logLevel<=xt.WARN&&ih.warn(`Auth (${no}): ${s}`,...t)}function zc(s,...t){ih.logLevel<=xt.ERROR&&ih.error(`Auth (${no}): ${s}`,...t)}function Zn(s,...t){throw Zm(s,...t)}function Ri(s,...t){return Zm(s,...t)}function sT(s,t,i){const a={...j2(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function $i(s){return sT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return iT.create(s,...t)}function pt(s,t,...i){if(!s)throw Zm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zc(t),new Error(t)}function es(s,t){s||Xi(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function q2(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||GA()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=qA()||QA()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wm(s,t){es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class rT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K2=new Yl(3e4,6e4);function er(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function nr(s,t,i,a,l={}){return aT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return FA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(y.credentials="include"),rT.fetch()(await oT(s,s.config.apiHost,i,p),y)})}async function aT(s,t,i){s._canInitEmulator=!1;const a={...G2,...t};try{const l=new X2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sT(s,S,y);Zn(s,S)}}catch(l){if(l instanceof ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Xl(s,t,i,a,l={}){const c=await nr(s,t,i,a,l);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function oT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Wm(s.config,l):`${s.config.apiScheme}://${l}`;return Q2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Y2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),K2.get())})}}function xc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(s,t,a);return l.customData._tokenResponse=i,l}function Kv(s){return s!==void 0&&s.enterprise!==void 0}class J2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Y2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $2(s,t){return nr(s,"GET","/v2/recaptchaConfig",er(s,t))}async function Z2(s,t){return nr(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return nr(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function W2(s,t=!1){const i=Qe(s),a=await i.getIdToken(t),l=tp(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Fd(l.auth_time)),issuedAtTime:Il(Fd(l.iat)),expirationTime:Il(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function tp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=pE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Yv(s){const t=tp(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&tI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function tI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,i=await s.getIdToken(),a=await Pl(s,sh(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?lT(l.providerUserInfo):[],d=iI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function nI(s){const t=Qe(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function lT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function sI(s,t){const i=await aT(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await oT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),rT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rI(s,t){return nr(s,"POST","/v2/accounts:revokeToken",er(s,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await sI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Qa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ls(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new eI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return W2(this,t)}reload(){return nI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Pl(this,Z2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:B,providerData:$,stsTokenManager:J}=i;pt(w&&J,t,"internal-error");const tt=Qa.fromJSON(this.name,J);pt(typeof w=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),pt(typeof M=="boolean",t,"internal-error"),pt(typeof B=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(_,t.name),Ls(y,t.name),Ls(S,t.name);const ut=new Jn({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:S});return $&&Array.isArray($)&&(ut.providerData=$.map(rt=>({...rt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?lT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(a);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Xv=new Map;function Ji(s){es(s instanceof Function,"Expected a class definition");let t=Xv.get(s);return t?(es(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Xv.set(s,t),t)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}uT.type="NONE";const Jv=uT;function jc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(Ji(Jv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(Jv);const d=jc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let w;if(typeof S=="string"){const M=await sh(t,{idToken:S}).catch(()=>{});if(!M)break;w=await Jn._fromGetAccountInfoResponse(t,M,S)}else w=Jn._fromJSON(t,S);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,a))}}function $v(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pT(t))return"Blackberry";if(gT(t))return"Webos";if(hT(t))return"Safari";if((t.includes("chrome/")||fT(t))&&!t.includes("edge/"))return"Chrome";if(mT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function cT(s=Ze()){return/firefox\//i.test(s)}function hT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fT(s=Ze()){return/crios\//i.test(s)}function dT(s=Ze()){return/iemobile/i.test(s)}function mT(s=Ze()){return/android/i.test(s)}function pT(s=Ze()){return/blackberry/i.test(s)}function gT(s=Ze()){return/webos/i.test(s)}function ep(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aI(s=Ze()){return ep(s)&&!!window.navigator?.standalone}function oI(){return KA()&&document.documentMode===10}function yT(s=Ze()){return ep(s)||mT(s)||gT(s)||pT(s)||/windows phone/i.test(s)||dT(s)}function _T(s,t=[]){let i;switch(s){case"Browser":i=$v(Ze());break;case"Worker":i=`${$v(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class lI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function uI(s,t={}){return nr(s,"GET","/v2/passwordPolicy",er(s,t))}const cI=6;class hI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class fI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject($i(this));const i=t?Qe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uI(this),i=new hI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&B2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kr(s){return Qe(s)}class Zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=e1(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(s){Rh=s}function vT(s){return Rh.loadJS(s)}function mI(){return Rh.recaptchaEnterpriseScript}function pI(){return Rh.gapiScript}function gI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new _I}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class _I{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const vI="recaptcha-enterprise",ET="NO_RECAPTCHA";class EI{constructor(t){this.type=vI,this.auth=Kr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{$2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new J2(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;Kv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(ET)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&Kv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=mI();_.length!==0&&(_+=p),vT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Wv(s,t,i,a=!1,l=!1){const c=new EI(s);let d;if(l)d=ET;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function pm(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Wv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Wv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function TI(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:t})}function SI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=Kr(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:p}=bI(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Pr(y,a.config.emulator)&&Pr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(vE(`${c}//${d}${_}`),EE("Auth",!0)):wI()}function TT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function bI(s){const t=TT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:tE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:tE(d)}}}function tE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class np{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function RI(s,t){return nr(s,"POST","/v1/accounts:signUp",t)}async function II(s,t){return Xl(s,"POST","/v1/accounts:signInWithPassword",er(s,t))}async function CI(s,t){return Xl(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}async function NI(s,t){return Xl(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}class zl extends np{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new zl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,i,"signInWithPassword",II);case"emailLink":return CI(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,a,"signUpPassword",RI);case"emailLink":return NI(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ya(s,t){return Xl(s,"POST","/v1/accounts:signInWithIdp",er(s,t))}const DI="http://localhost";class Hr extends np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}function OI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xI(s){const t=gl(yl(s)).link,i=t?gl(yl(t)).deep_link_id:null,a=gl(yl(s)).deep_link_id;return(a?gl(yl(a)).link:null)||a||i||t||s}class ip{constructor(t){const i=gl(yl(t)),a=i.apiKey??null,l=i.oobCode??null,c=OI(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=xI(t);try{return new ip(i)}catch{return null}}}class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=ip.parseLink(i);return pt(a,"argument-error"),zl._fromEmailAndCode(t,a.code,a.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ST{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Jl{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ps extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends Jl{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function MI(s,t){return Xl(s,"POST","/v1/accounts:signUp",er(s,t))}class Fr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=eE(a);return new Fr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=eE(a);return new Fr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function eE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ah extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ah(t,i,a,l)}}function AT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,c,t,a):c})}async function VI(s,t,i=!1){const a=await Pl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Fr._forOperation(s,"link",a)}async function kI(s,t,i=!1){const{auth:a}=s;if(Ln(a.app))return Promise.reject($i(a));const l="reauthenticate";try{const c=await Pl(s,AT(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=tp(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),Fr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function bT(s,t,i=!1){if(Ln(s.app))return Promise.reject($i(s));const a="signIn",l=await AT(s,a,t),c=await Fr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function LI(s,t){return bT(Kr(s),t)}async function wT(s){const t=Kr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function UI(s,t,i){if(Ln(s.app))return Promise.reject($i(s));const a=Kr(s),d=await pm(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&wT(s),_}),p=await Fr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function PI(s,t,i){return Ln(s.app)?Promise.reject($i(s)):LI(Qe(s),oo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&wT(s),a})}function zI(s,t,i,a){return Qe(s).onIdTokenChanged(t,i,a)}function jI(s,t,i){return Qe(s).beforeAuthStateChanged(t,i)}function BI(s,t,i,a){return Qe(s).onAuthStateChanged(t,i,a)}function qI(s){return Qe(s).signOut()}const oh="__sak";class RT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const HI=1e3,FI=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);oI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const GI=IT;class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CT.type="SESSION";const NT=CT;function QI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await QI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function sp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=sp("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function YI(s){Ii().location.href=s}function DT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function XI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){return navigator?.serviceWorker?.controller||null}function $I(){return DT()?self:null}const OT="firebaseLocalStorageDb",ZI=1,lh="firebaseLocalStorage",xT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function WI(){const s=indexedDB.deleteDatabase(OT);return new $l(s).toPromise()}function gm(){const s=indexedDB.open(OT,ZI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:xT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?t(a):(a.close(),await WI(),t(await gm()))})})}async function nE(s,t,i){const a=Ch(s,!0).put({[xT]:t,value:i});return new $l(a).toPromise()}async function tC(s,t){const i=Ch(s,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function iE(s,t){const i=Ch(s,!0).delete(t);return new $l(i).toPromise()}const eC=800,nC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>nC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance($I()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await nE(t,oh,"1"),await iE(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>nE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>tC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const iC=MT;new Yl(3e4,6e4);function sC(s,t){return t?Ji(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class rp extends np{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function rC(s){return bT(s.auth,new rp(s),s.bypassAuthState)}function aC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),kI(i,new rp(s),s.bypassAuthState)}async function oC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),VI(i,new rp(s),s.bypassAuthState)}class VT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:Zn(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lC=new Yl(2e3,1e4);class qa extends VT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lC.get())};t()}}qa.currentPopupAction=null;const uC="pendingRedirect",Bc=new Map;class cC extends VT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await hC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(s,t){const i=mC(t),a=dC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function fC(s,t){Bc.set(s._key(),t)}function dC(s){return Ji(s._redirectPersistence)}function mC(s){return jc(uC,s.config.apiKey,s.name)}async function pC(s,t,i=!1){if(Ln(s.app))return Promise.reject($i(s));const a=Kr(s),l=sC(a,t),d=await new cC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const gC=600*1e3;class yC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_C(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(t))}saveEventToCache(t){this.cachedEventUids.add(sE(t)),this.lastProcessedEventTime=Date.now()}}function sE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function _C(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(s);default:return!1}}async function vC(s,t={}){return nr(s,"GET","/v1/projects",t)}const EC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TC=/^https?/;async function SC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await vC(s);for(const i of t)try{if(AC(i))return}catch{}Zn(s,"unauthorized-domain")}function AC(s){const t=dm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!TC.test(i))return!1;if(EC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const bC=new Yl(3e4,6e4);function rE(){const s=Ii().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function wC(s){return new Promise((t,i)=>{function a(){rE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rE(),i(Ri(s,"network-request-failed"))},timeout:bC.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=gI("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ri(s,"network-request-failed"))},vT(`${pI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function RC(s){return qc=qc||wC(s),qc}const IC=new Yl(5e3,15e3),CC="__/auth/iframe",NC="emulator/auth/iframe",DC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Wm(t,NC):`https://${s.config.authDomain}/${CC}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=OC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function MC(s){const t=await RC(s),i=Ii().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:xC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},IC.get());function _(){Ii().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const VC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kC=500,LC=600,UC="_blank",PC="http://localhost";class aE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(s,t,i,a=kC,l=LC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...VC,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=fT(y)?UC:i),cT(y)&&(t=t||PC,_.scrollbars="yes");const S=Object.entries(_).reduce((M,[B,$])=>`${M}${B}=${$},`,"");if(aI(y)&&p!=="_self")return jC(t||"",p),new aE(null);const w=window.open(t||"",p,S);pt(w,s,"popup-blocked");try{w.focus()}catch{}return new aE(w)}function jC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const BC="__/auth/handler",qC="emulator/auth/handler",HC=encodeURIComponent("fac");async function oE(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof ST){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",t1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Jl){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),y=_?`#${HC}=${encodeURIComponent(_)}`:"";return`${FC(s)}?${ql(p).slice(1)}${y}`}function FC({config:s}){return s.emulator?Wm(s,qC):`https://${s.authDomain}/${BC}`}const Gd="webStorageSupport";class GC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=pC,this._overrideRedirectResult=fC}async _openPopup(t,i,a,l){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await oE(t,i,a,dm(),l);return zC(t,c,sp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await oE(t,i,a,dm(),l);return YI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await MC(t),a=new yC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=SC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return yT()||hT()||ep()}}const QC=GC;var lE="@firebase/auth",uE="1.12.0";class KC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(s){Xa(new zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(s)},y=new fI(a,l,c,_);return SI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new zr("auth-internal",t=>{const i=Kr(t.getProvider("auth").getImmediate());return(a=>new KC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(lE,uE,YC(s)),Fs(lE,uE,"esm2020")}const JC=300,$C=_E("authIdTokenMaxAge")||JC;let cE=null;const ZC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>$C)return;const l=i?.token;cE!==l&&(cE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function WC(s=bE()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TI(s,{popupRedirectResolver:QC,persistence:[iC,GI,NT]}),a=_E("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=ZC(c.toString());jI(i,d,()=>d(i.currentUser)),zI(i,p=>d(p))}}const l=gE("auth");return l&&AI(i,`http://${l}`),i}function tN(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",tN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");const LT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const eN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const hE=s=>{const t=nN(s);return t.charAt(0).toUpperCase()+t.slice(1)};var iN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rN=Rt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Rt.createElement("svg",{ref:_,...iN,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:LT("lucide",l),...!c&&!sN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>Rt.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Sn=(s,t)=>{const i=Rt.forwardRef(({className:a,...l},c)=>Rt.createElement(rN,{ref:c,iconNode:t,className:LT(`lucide-${eN(hE(s))}`,`lucide-${s}`,a),...l}));return i.displayName=hE(s),i};const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oN=Sn("calendar",aN);const lN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],uN=Sn("circle-user",lN);const cN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],UT=Sn("database",cN);const hN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PT=Sn("loader-circle",hN);const fN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dN=Sn("log-out",fN);const mN=[["path",{d:"M5 12h14",key:"1ays0h"}]],pN=Sn("minus",mN);const gN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jl=Sn("plus",gN);const yN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_N=Sn("shopping-cart",yN);const vN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EN=Sn("square-check-big",vN);const TN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],SN=Sn("tag",TN);const AN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zT=Sn("trash-2",AN);const bN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],wN=Sn("wifi",bN);const RN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ap=Sn("x",RN),IN={apiKey:"AIzaSyAXBaj32kPuwXmEpY9LjTq5d5h4ulRP3N4",authDomain:"meal-planner-sync-49152.firebaseapp.com",projectId:"meal-planner-sync-49152",storageBucket:"meal-planner-sync-49152.firebasestorage.app",messagingSenderId:"545999988540",appId:"1:545999988540:web:0cb46776eac650f2f32039"},jT=AE(IN),fE=S2(jT),uh=WC(jT),CN=[{id:"1",name:"Oatmeal w/ Berries",tags:["Breakfast","Vegetarian"],ingredients:[{name:"Rolled Oats",qty:.5,unit:"cup"},{name:"Milk",qty:1,unit:"cup"},{name:"Blueberries",qty:.25,unit:"cup"},{name:"Honey",qty:1,unit:"tbsp"}]}],NN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],DN=["Breakfast","Lunch","Dinner"];function ON(){const[s,t]=Rt.useState(null),[i,a]=Rt.useState(!0);return Rt.useEffect(()=>{const l=BI(uh,c=>{t(c),a(!1)});return()=>l()},[]),i?V.jsx("div",{className:"h-screen flex items-center justify-center",children:V.jsx(PT,{className:"animate-spin text-emerald-600"})}):s?V.jsx(MN,{user:s}):V.jsx(xN,{})}function xN(){const[s,t]=Rt.useState(!0),[i,a]=Rt.useState(""),[l,c]=Rt.useState(""),[d,p]=Rt.useState(""),_=async y=>{y.preventDefault(),p("");try{s?await PI(uh,i,l):await UI(uh,i,l)}catch(S){p(S.message.replace("Firebase: ",""))}};return V.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl w-full max-w-md text-center",children:[V.jsx(UT,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),V.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Smart Meal Sync"}),V.jsx("p",{className:"text-slate-500 mb-8",children:s?"Sign in to sync across devices":"Create an account to get started"}),V.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d&&V.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-left",children:d}),V.jsx("input",{type:"email",placeholder:"Email",required:!0,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:i,onChange:y=>a(y.target.value)}),V.jsx("input",{type:"password",placeholder:"Password",required:!0,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:l,onChange:y=>c(y.target.value)}),V.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-bold hover:bg-emerald-700 transition",children:s?"Sign In":"Create Account"})]}),V.jsx("button",{onClick:()=>t(!s),className:"w-full mt-4 text-slate-500 text-sm hover:text-emerald-600",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})]})})}function MN({user:s}){const[t,i]=Rt.useState("planner"),[a,l]=Rt.useState("syncing"),[c,d]=Rt.useState([]),[p,_]=Rt.useState({}),[y,S]=Rt.useState({}),[w,M]=Rt.useState({}),[B,$]=Rt.useState([]);Rt.useEffect(()=>{const A=zv(fE,"users",s.uid,"planner","data"),R=P2(A,D=>{if(D.exists()){const N=D.data();d(N.recipes||[]),_(N.schedule||{}),M(N.customUnits||{}),$(N.extraList||[]);let k=N.inventory||{};Array.isArray(k)&&(k=k.reduce((b,Tt)=>({...b,[Tt]:1}),{})),S(k),l("synced")}else L2(A,{recipes:CN,schedule:{},inventory:{},customUnits:{},extraList:[]})},D=>{console.error("Sync Error:",D),l("error")});return()=>R()},[s.uid]);const J=async(A,R)=>{l("syncing");const D=zv(fE,"users",s.uid,"planner","data");try{await U2(D,{[A]:R}),l("synced")}catch(N){console.error(N),l("error")}},tt=Rt.useMemo(()=>{const A=new Set;return c.forEach(R=>R.ingredients.forEach(D=>A.add(D.name))),Object.keys(y).forEach(R=>A.add(R)),B.forEach(R=>A.add(R.name)),Array.from(A).sort()},[c,y,B]),{totalRequirements:ut,toBuyList:rt}=Rt.useMemo(()=>{const A={};Object.values(p).forEach(b=>{if(!b)return;const Tt=c.find(jt=>jt.id===b);Tt&&Tt.ingredients.forEach(jt=>{const F=`${jt.name.toLowerCase()}-${jt.unit.toLowerCase()}`;A[F]||(A[F]={...jt,qty:0,rawName:jt.name,usedIn:new Set,isManual:!1}),A[F].qty+=parseFloat(jt.qty),A[F].usedIn.add(Tt.name)})});const R=Object.values(A).map(b=>({...b,usedIn:Array.from(b.usedIn)})),N=[...R.map(b=>{const Tt=y[b.rawName]||0,jt=b.qty,F=Math.max(0,jt-Tt);return{...b,buyQty:F,stockQty:Tt}}).filter(b=>b.buyQty>0),...B.map(b=>({...b,rawName:b.name,buyQty:b.qty,stockQty:0,usedIn:["Manual Add"],isManual:!0}))].sort((b,Tt)=>b.rawName.localeCompare(Tt.rawName));return{totalRequirements:[...R,...B.map(b=>({...b,rawName:b.name,stockQty:0,usedIn:["Manual Add"],isManual:!0}))].sort((b,Tt)=>b.rawName.localeCompare(Tt.rawName)),toBuyList:N}},[p,c,y,B]),ht=(A,R,D=!1,N=null)=>{const k=y[A]||0;let b;D?b=Math.max(0,R):b=Math.max(0,k+R);const Tt={...y};if(b>0?Tt[A]=b:delete Tt[A],S(Tt),J("inventory",Tt),N){const jt={...w,[A]:N};M(jt),J("customUnits",jt)}},It=(A,R)=>{let D=[...B];A==="add"?D.push({...R,id:Date.now()}):A==="remove"&&(D=D.filter(N=>N.id!==R.id)),$(D),J("extraList",D)},Jt=(A,R,D)=>{const N={...p,[`${A}-${R}`]:D};_(N),J("schedule",N)},Lt=A=>{const R=[...c,{...A,id:Date.now().toString()}];d(R),J("recipes",R)},C=A=>{const R=c.filter(D=>D.id!==A);d(R),J("recipes",R)};return V.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans pb-20 md:pb-0",children:[V.jsx("datalist",{id:"all-ingredients",children:tt.map(A=>V.jsx("option",{value:A},A))}),V.jsx("header",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:V.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("div",{className:`p-2 rounded-lg transition-colors ${a==="synced"?"bg-emerald-500":"bg-amber-500"}`,children:a==="synced"?V.jsx(wN,{size:24}):V.jsx(PT,{size:24,className:"animate-spin"})}),V.jsxs("div",{children:[V.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Smart Meal Sync"}),V.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[V.jsx(uN,{size:12}),V.jsxs("span",{className:"font-mono",children:["User: ",s.email||"Guest"]})]})]})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("nav",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg",children:[{id:"recipes",icon:UT,label:"Recipes"},{id:"planner",icon:oN,label:"Plan"},{id:"inventory",icon:EN,label:"Stock"},{id:"shopping",icon:_N,label:"Shop"}].map(A=>V.jsxs("button",{onClick:()=>i(A.id),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-all text-sm font-medium ${t===A.id?"bg-emerald-500 text-white shadow-md":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:[V.jsx(A.icon,{size:16}),V.jsx("span",{className:"hidden sm:inline",children:A.label})]},A.id))}),V.jsx("button",{onClick:()=>qI(uh),className:"bg-slate-700 p-2 rounded-lg hover:bg-red-600 transition-colors",title:"Sign Out",children:V.jsx(dN,{size:20})})]})]})}),V.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[t==="recipes"&&V.jsx(VN,{recipes:c,onAdd:Lt,onDelete:C}),t==="planner"&&V.jsx(LN,{days:NN,types:DN,recipes:c,schedule:p,onUpdate:Jt}),t==="inventory"&&V.jsx(UN,{allIngredients:c,inventory:y,customUnits:w,onUpdate:ht}),t==="shopping"&&V.jsx(PN,{total:ut,buyList:rt,onAddExtra:It})]})]})}function VN({recipes:s,onAdd:t,onDelete:i}){const[a,l]=Rt.useState(!1);return V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"flex justify-between items-center",children:[V.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Recipe Database"}),V.jsx("button",{onClick:()=>l(!a),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:a?"Cancel":V.jsxs(V.Fragment,{children:[V.jsx(jl,{size:18})," New Recipe"]})})]}),a&&V.jsx(kN,{onSave:c=>{t(c),l(!1)}}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(c=>V.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 relative group",children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"font-bold text-lg text-slate-800",children:c.name}),V.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(c.tags||[]).map(d=>V.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide",children:d},d))})]}),V.jsx("button",{onClick:()=>i(c.id),className:"text-slate-400 hover:text-red-500",children:V.jsx(zT,{size:18})})]}),V.jsx("ul",{className:"text-sm text-slate-600 space-y-1",children:c.ingredients.map((d,p)=>V.jsxs("li",{className:"flex justify-between border-b border-slate-50 pb-1",children:[V.jsx("span",{children:d.name}),V.jsxs("span",{className:"font-mono text-slate-400",children:[d.qty," ",d.unit]})]},p))})]},c.id))})]})}function kN({onSave:s}){const[t,i]=Rt.useState(""),[a,l]=Rt.useState([{name:"",qty:"",unit:""}]),[c,d]=Rt.useState([]),[p,_]=Rt.useState(""),y=(B,$,J)=>{const tt=[...a];tt[B][$]=J,l(tt)},S=B=>{(B.key==="Enter"||B.type==="click")&&(B.preventDefault(),p.trim()&&(d([...c,p.trim()]),_("")))},w=B=>{d(c.filter($=>$!==B))},M=()=>{if(!t)return;const B=a.filter($=>$.name&&$.qty);s({name:t,ingredients:B,tags:c})};return V.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-emerald-200 rounded-xl p-6 mb-8",children:[V.jsx("h3",{className:"font-bold text-lg mb-4 text-emerald-800",children:"New Recipe Entry"}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"NAME"}),V.jsx("input",{value:t,onChange:B=>i(B.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g. Avocado Toast"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"TAGS (Press Enter)"}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("input",{value:p,onChange:B=>_(B.target.value),onKeyDown:S,className:"flex-1 p-2 border rounded-md",placeholder:"e.g. Breakfast"}),V.jsx("button",{onClick:S,className:"bg-emerald-100 text-emerald-700 px-3 rounded-md hover:bg-emerald-200",children:V.jsx(jl,{size:18})})]})]})]}),c.length>0&&V.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(B=>V.jsxs("span",{className:"flex items-center gap-1 bg-white border border-emerald-200 text-emerald-700 px-2 py-1 rounded-full text-xs font-bold",children:[B," ",V.jsx("button",{onClick:()=>w(B),className:"hover:text-red-500",children:V.jsx(ap,{size:12})})]},B))}),V.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-2",children:"INGREDIENTS"}),a.map((B,$)=>V.jsxs("div",{className:"flex gap-2 mb-2",children:[V.jsx("input",{placeholder:"Item",className:"flex-1 p-2 border rounded-md",value:B.name,list:"all-ingredients",onChange:J=>y($,"name",J.target.value)}),V.jsx("input",{placeholder:"Qty",type:"number",className:"w-20 p-2 border rounded-md",value:B.qty,onChange:J=>y($,"qty",J.target.value)}),V.jsx("input",{placeholder:"Unit",className:"w-24 p-2 border rounded-md",value:B.unit,onChange:J=>y($,"unit",J.target.value)})]},$)),V.jsxs("div",{className:"flex gap-2 mt-2",children:[V.jsx("button",{onClick:()=>l([...a,{name:"",qty:"",unit:""}]),className:"text-sm text-emerald-600",children:"+ Add Ingredient"}),V.jsx("button",{onClick:M,className:"bg-emerald-600 text-white px-6 py-2 rounded-md ml-auto font-bold shadow-sm",children:"Save Recipe"})]})]})]})]})}function LN({days:s,types:t,recipes:i,schedule:a,onUpdate:l}){const c=[1,2];return V.jsxs("div",{className:"space-y-6",children:[V.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"14-Day Schedule"}),V.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 shadow-sm bg-white",children:V.jsxs("table",{className:"w-full text-left border-collapse",children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{className:"p-4 bg-slate-50 border-b w-32",children:"Day"}),t.map(d=>V.jsx("th",{className:"p-4 bg-slate-50 border-b min-w-[200px]",children:d},d))]})}),V.jsx("tbody",{children:c.map(d=>V.jsxs(TA.Fragment,{children:[V.jsx("tr",{className:"bg-emerald-50",children:V.jsxs("td",{colSpan:t.length+1,className:"p-2 px-4 font-bold text-emerald-800 text-xs uppercase tracking-widest border-y border-emerald-100",children:["Week ",d]})}),s.map(p=>V.jsxs("tr",{className:"border-b last:border-0 hover:bg-slate-50",children:[V.jsx("td",{className:"p-4 font-medium text-slate-600",children:p}),t.map(_=>{const y=d===1?`${p}-${_}`:`W2-${p}-${_}`,S=a[y]||"";return V.jsx("td",{className:"p-3",children:V.jsxs("select",{className:`w-full p-2 border rounded-lg text-sm transition-all
                              ${S?"bg-white border-emerald-300 font-bold text-slate-900 shadow-sm":"bg-slate-50 border-slate-200 text-slate-400 font-normal"}
                            `,value:S,onChange:w=>l(d===1?p:`W2-${p}`,_,w.target.value),children:[V.jsx("option",{value:"",className:"font-normal text-slate-400",children:" Select "}),i.map(w=>V.jsx("option",{value:w.id,className:"font-bold text-slate-900",children:w.name},w.id))]})},y)})]},`${d}-${p}`))]},d))})]})})]})}function UN({allIngredients:s,inventory:t,customUnits:i,onUpdate:a}){const[l,c]=Rt.useState("all"),[d,p]=Rt.useState(!1),[_,y]=Rt.useState(""),[S,w]=Rt.useState(1),[M,B]=Rt.useState(""),$=Rt.useMemo(()=>{const rt={...i};return s.forEach(ht=>ht.ingredients.forEach(It=>{rt[It.name]||(rt[It.name]=It.unit)})),rt},[s,i]),J=Rt.useMemo(()=>{const rt=Object.keys($),ht=Object.keys(t),It=Array.from(new Set([...rt,...ht])).sort();return l==="stock"?It.filter(Jt=>(t[Jt]||0)>0):It},[$,t,l]),tt=Object.keys(t).length,ut=()=>{_&&(a(_,parseFloat(S)||0,!0,M),y(""),w(1),B(""),p(!1))};return V.jsxs("div",{className:"max-w-4xl mx-auto",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Pantry Inventory"}),V.jsx("p",{className:"text-slate-500 text-sm",children:"Manage what you have in stock."})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg",children:[V.jsx("button",{onClick:()=>c("all"),className:`px-4 py-1.5 rounded-md text-sm ${l==="all"?"bg-white shadow":""}`,children:"All"}),V.jsxs("button",{onClick:()=>c("stock"),className:`px-4 py-1.5 rounded-md text-sm ${l==="stock"?"bg-white shadow":""}`,children:["Stock (",tt,")"]})]}),V.jsx("button",{onClick:()=>p(!d),className:"bg-emerald-600 text-white p-2 rounded-lg hover:bg-emerald-700 transition shadow-sm",title:"Add new item",children:d?V.jsx(ap,{size:20}):V.jsx(jl,{size:20})})]})]}),d&&V.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-4 mb-6 flex flex-col sm:flex-row gap-3 items-end",children:[V.jsxs("div",{className:"flex-1 w-full",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"ITEM"}),V.jsx("input",{className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"e.g. Rice",list:"all-ingredients",value:_,onChange:rt=>{y(rt.target.value),$[rt.target.value]&&B($[rt.target.value])}})]}),V.jsxs("div",{className:"w-20",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"QTY"}),V.jsx("input",{type:"number",className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"1",value:S,onChange:rt=>w(rt.target.value)})]}),V.jsxs("div",{className:"w-24",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"UNIT"}),V.jsx("input",{className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"kg",value:M,onChange:rt=>B(rt.target.value)})]}),V.jsx("button",{onClick:ut,className:"w-full sm:w-auto bg-emerald-600 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-emerald-700",children:"Add"})]}),V.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:J.length===0?V.jsx("div",{className:"text-center p-8 text-slate-400",children:"No ingredients found."}):V.jsx("div",{className:"divide-y",children:J.map(rt=>{const ht=t[rt]||0,It=$[rt]||"";return V.jsxs("div",{className:`flex items-center justify-between p-3 ${ht>0?"bg-emerald-50/50":""}`,children:[V.jsx("span",{className:`font-medium ${ht>0?"text-emerald-900":"text-slate-600"}`,children:rt}),V.jsxs("div",{className:"flex items-center gap-2 bg-white border rounded-lg p-1 shadow-sm",children:[V.jsx("button",{onClick:()=>a(rt,-1),className:"p-1 hover:bg-slate-100 rounded text-slate-500",children:V.jsx(pN,{size:16})}),V.jsxs("div",{className:"flex items-center",children:[V.jsx("input",{type:"number",className:"w-16 text-center font-mono text-sm font-bold text-slate-700 outline-none bg-transparent",value:ht,onChange:Jt=>a(rt,parseFloat(Jt.target.value)||0,!0)}),V.jsx("span",{className:"text-xs font-normal text-slate-400 pr-2 min-w-[20px]",children:It})]}),V.jsx("button",{onClick:()=>a(rt,1),className:"p-1 hover:bg-slate-100 rounded text-emerald-600",children:V.jsx(jl,{size:16})})]})]},rt)})})})]})}function PN({total:s,buyList:t,onAddExtra:i}){const[a,l]=Rt.useState("buy"),[c,d]=Rt.useState(!1),[p,_]=Rt.useState(""),[y,S]=Rt.useState(""),[w,M]=Rt.useState(""),B=a==="buy"?t:s,$=()=>{p&&(i("add",{name:p,qty:y||1,unit:w}),_(""),S(""),M(""),d(!1))};return V.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[V.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Shopping List"}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg",children:[V.jsxs("button",{onClick:()=>l("buy"),className:`px-4 py-1.5 rounded-md text-sm ${a==="buy"?"bg-white shadow":""}`,children:["To Buy (",t.length,")"]}),V.jsxs("button",{onClick:()=>l("all"),className:`px-4 py-1.5 rounded-md text-sm ${a==="all"?"bg-white shadow":""}`,children:["Total (",s.length,")"]})]}),V.jsx("button",{onClick:()=>d(!c),className:"bg-emerald-600 text-white p-2 rounded-lg hover:bg-emerald-700 shadow-sm",title:"Add extra item",children:c?V.jsx(ap,{size:20}):V.jsx(jl,{size:20})})]})]}),c&&V.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-4 flex flex-col sm:flex-row gap-3 items-end",children:[V.jsxs("div",{className:"flex-1 w-full",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"EXTRA ITEM"}),V.jsx("input",{className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"e.g. Paper Towels",value:p,list:"all-ingredients",onChange:J=>_(J.target.value)})]}),V.jsxs("div",{className:"w-20",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"QTY"}),V.jsx("input",{type:"number",className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"1",value:y,onChange:J=>S(J.target.value)})]}),V.jsxs("div",{className:"w-24",children:[V.jsx("label",{className:"block text-xs font-semibold text-emerald-800 mb-1",children:"UNIT"}),V.jsx("input",{className:"w-full p-2 border border-emerald-200 rounded-md text-sm",placeholder:"roll",value:w,onChange:J=>M(J.target.value)})]}),V.jsx("button",{onClick:$,className:"w-full sm:w-auto bg-emerald-600 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-emerald-700",children:"Add"})]}),V.jsx("div",{className:"bg-white rounded-xl shadow-lg border overflow-hidden divide-y",children:B.length===0?V.jsx("div",{className:"p-12 text-center text-slate-400",children:"Nothing here!"}):B.map((J,tt)=>V.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full flex-shrink-0 ${a==="buy"?"bg-emerald-500":"bg-slate-300"}`}),V.jsxs("div",{children:[V.jsxs("div",{className:"font-medium text-slate-800 flex items-center gap-2",children:[J.rawName,J.isManual&&V.jsx(SN,{size:12,className:"text-emerald-500"})]}),V.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:J.usedIn.map(ut=>V.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded",children:ut},ut))})]})]}),V.jsxs("div",{className:"flex items-center gap-4 self-end sm:self-auto",children:[a==="buy"&&J.stockQty>0&&V.jsxs("div",{className:"text-xs text-emerald-600 font-medium bg-emerald-50 px-2 py-1 rounded",children:["Have: ",J.stockQty," ",J.unit]}),V.jsxs("div",{className:"font-mono bg-slate-100 px-3 py-1 rounded text-sm min-w-[80px] text-center",children:[a==="buy"?J.buyQty:J.qty," ",J.unit]}),J.isManual&&V.jsx("button",{onClick:()=>i("remove",J),className:"text-slate-400 hover:text-red-500 transition",children:V.jsx(zT,{size:16})})]})]},tt))})]})}CA.createRoot(document.getElementById("root")).render(V.jsx(Rt.StrictMode,{children:V.jsx(ON,{})}));
